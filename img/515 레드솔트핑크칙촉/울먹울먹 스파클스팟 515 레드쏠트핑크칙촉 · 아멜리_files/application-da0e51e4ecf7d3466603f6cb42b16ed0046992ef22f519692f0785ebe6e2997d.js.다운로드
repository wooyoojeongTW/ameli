window.Modernizr=function(window,document,undefined){function setCss(str){mStyle.cssText=str}function setCssAll(str1,str2){return setCss(prefixes.join(str1+";")+(str2||""))}function is(obj,type){return typeof obj===type}function contains(str,substr){return!!~(""+str).indexOf(substr)}function testProps(props,prefixed){for(var i in props){var prop=props[i];if(!contains(prop,"-")&&mStyle[prop]!==undefined)return"pfx"!=prefixed||prop}return!1}function testDOMProps(props,obj,elem){for(var i in props){var item=obj[props[i]];if(item!==undefined)return!1===elem?props[i]:is(item,"function")?item.bind(elem||obj):item}return!1}function testPropsAll(prop,prefixed,elem){var ucProp=prop.charAt(0).toUpperCase()+prop.slice(1),props=(prop+" "+cssomPrefixes.join(ucProp+" ")+ucProp).split(" ");return is(prefixed,"string")||is(prefixed,"undefined")?testProps(props,prefixed):testDOMProps(props=(prop+" "+domPrefixes.join(ucProp+" ")+ucProp).split(" "),prefixed,elem)}function webforms(){Modernizr.input=function(props){for(var i=0,len=props.length;i<len;i++)attrs[props[i]]=!!(props[i]in inputElem);return attrs.list&&(attrs.list=!(!document.createElement("datalist")||!window.HTMLDataListElement)),attrs}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),Modernizr.inputtypes=function(props){for(var bool,inputElemType,defaultView,i=0,len=props.length;i<len;i++)inputElem.setAttribute("type",inputElemType=props[i]),(bool="text"!==inputElem.type)&&(inputElem.value=smile,inputElem.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(inputElemType)&&inputElem.style.WebkitAppearance!==undefined?(docElement.appendChild(inputElem),bool=(defaultView=document.defaultView).getComputedStyle&&"textfield"!==defaultView.getComputedStyle(inputElem,null).WebkitAppearance&&0!==inputElem.offsetHeight,docElement.removeChild(inputElem)):/^(search|tel)$/.test(inputElemType)||(bool=/^(url|email)$/.test(inputElemType)?inputElem.checkValidity&&!1===inputElem.checkValidity():inputElem.value!=smile)),inputs[props[i]]=!!bool;return inputs}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var featureName,hasOwnProp,version="2.7.1",Modernizr={},enableClasses=!0,docElement=document.documentElement,mod="modernizr",modElem=document.createElement(mod),mStyle=modElem.style,inputElem=document.createElement("input"),smile=":)",toString={}.toString,prefixes=" -webkit- -moz- -o- -ms- ".split(" "),omPrefixes="Webkit Moz O ms",cssomPrefixes=omPrefixes.split(" "),domPrefixes=omPrefixes.toLowerCase().split(" "),ns={"svg":"http://www.w3.org/2000/svg"},tests={},inputs={},attrs={},classes=[],slice=classes.slice,injectElementWithStyles=function(rule,callback,nodes,testnames){var style,ret,node,docOverflow,div=document.createElement("div"),body=document.body,fakeBody=body||document.createElement("body");if(parseInt(nodes,10))for(;nodes--;)(node=document.createElement("div")).id=testnames?testnames[nodes]:mod+(nodes+1),div.appendChild(node);return style=["&#173;",'<style id="s',mod,'">',rule,"</style>"].join(""),div.id=mod,(body?div:fakeBody).innerHTML+=style,fakeBody.appendChild(div),body||(fakeBody.style.background="",fakeBody.style.overflow="hidden",docOverflow=docElement.style.overflow,docElement.style.overflow="hidden",docElement.appendChild(fakeBody)),ret=callback(div,rule),body?div.parentNode.removeChild(div):(fakeBody.parentNode.removeChild(fakeBody),docElement.style.overflow=docOverflow),!!ret},isEventSupported=function(){function isEventSupported(eventName,element){element=element||document.createElement(TAGNAMES[eventName]||"div");var isSupported=(eventName="on"+eventName)in element;return isSupported||(element.setAttribute||(element=document.createElement("div")),element.setAttribute&&element.removeAttribute&&(element.setAttribute(eventName,""),isSupported=is(element[eventName],"function"),is(element[eventName],"undefined")||(element[eventName]=undefined),element.removeAttribute(eventName))),element=null,isSupported}var TAGNAMES={"select":"input","change":"input","submit":"form","reset":"form","error":"img","load":"img","abort":"img"};return isEventSupported}(),_hasOwnProperty={}.hasOwnProperty;for(var feature in hasOwnProp=is(_hasOwnProperty,"undefined")||is(_hasOwnProperty.call,"undefined")?function(object,property){return property in object&&is(object.constructor.prototype[property],"undefined")}:function(object,property){return _hasOwnProperty.call(object,property)},Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError;var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var F=function(){};F.prototype=target.prototype;var self=new F,result=target.apply(self,args.concat(slice.call(arguments)));return Object(result)===result?result:self}return target.apply(that,args.concat(slice.call(arguments)))};return bound}),tests.flexbox=function(){return testPropsAll("flexWrap")},tests.canvas=function(){var elem=document.createElement("canvas");return!(!elem.getContext||!elem.getContext("2d"))},tests.canvastext=function(){return!(!Modernizr.canvas||!is(document.createElement("canvas").getContext("2d").fillText,"function"))},tests.webgl=function(){return!!window.WebGLRenderingContext},tests.touch=function(){var bool;return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?bool=!0:injectElementWithStyles(["@media (",prefixes.join("touch-enabled),("),mod,")","{#modernizr{top:9px;position:absolute}}"].join(""),(function(node){bool=9===node.offsetTop})),bool},tests.geolocation=function(){return"geolocation"in navigator},tests.postmessage=function(){return!!window.postMessage},tests.websqldatabase=function(){return!!window.openDatabase},tests.indexedDB=function(){return!!testPropsAll("indexedDB",window)},tests.hashchange=function(){return isEventSupported("hashchange",window)&&(document.documentMode===undefined||document.documentMode>7)},tests.history=function(){return!(!window.history||!history.pushState)},tests.draganddrop=function(){var div=document.createElement("div");return"draggable"in div||"ondragstart"in div&&"ondrop"in div},tests.websockets=function(){return"WebSocket"in window||"MozWebSocket"in window},tests.rgba=function(){return setCss("background-color:rgba(150,255,150,.5)"),contains(mStyle.backgroundColor,"rgba")},tests.hsla=function(){return setCss("background-color:hsla(120,40%,100%,.5)"),contains(mStyle.backgroundColor,"rgba")||contains(mStyle.backgroundColor,"hsla")},tests.multiplebgs=function(){return setCss("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(mStyle.background)},tests.backgroundsize=function(){return testPropsAll("backgroundSize")},tests.borderimage=function(){return testPropsAll("borderImage")},tests.borderradius=function(){return testPropsAll("borderRadius")},tests.boxshadow=function(){return testPropsAll("boxShadow")},tests.textshadow=function(){return""===document.createElement("div").style.textShadow},tests.opacity=function(){return setCssAll("opacity:.55"),/^0.55$/.test(mStyle.opacity)},tests.cssanimations=function(){return testPropsAll("animationName")},tests.csscolumns=function(){return testPropsAll("columnCount")},tests.cssgradients=function(){var str1="background-image:",str2="gradient(linear,left top,right bottom,from(#9f9),to(white));",str3="linear-gradient(left top,#9f9, white);";return setCss((str1+"-webkit- ".split(" ").join(str2+str1)+prefixes.join(str3+str1)).slice(0,-str1.length)),contains(mStyle.backgroundImage,"gradient")},tests.cssreflections=function(){return testPropsAll("boxReflect")},tests.csstransforms=function(){return!!testPropsAll("transform")},tests.csstransforms3d=function(){var ret=!!testPropsAll("perspective");return ret&&"webkitPerspective"in docElement.style&&injectElementWithStyles("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",(function(node){ret=9===node.offsetLeft&&3===node.offsetHeight})),ret},tests.csstransitions=function(){return testPropsAll("transition")},tests.fontface=function(){var bool;return injectElementWithStyles('@font-face {font-family:"font";src:url("https://")}',(function(node,rule){var style=document.getElementById("smodernizr"),sheet=style.sheet||style.styleSheet,cssText=sheet?sheet.cssRules&&sheet.cssRules[0]?sheet.cssRules[0].cssText:sheet.cssText||"":"";bool=/src/i.test(cssText)&&0===cssText.indexOf(rule.split(" ")[0])})),bool},tests.generatedcontent=function(){var bool;return injectElementWithStyles(["#",mod,"{font:0/0 a}#",mod,':after{content:"',smile,'";visibility:hidden;font:3px/1 a}'].join(""),(function(node){bool=node.offsetHeight>=3})),bool},tests.video=function(){var elem=document.createElement("video"),bool=!1;try{(bool=!!elem.canPlayType)&&((bool=new Boolean(bool)).ogg=elem.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),bool.h264=elem.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),bool.webm=elem.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(e){}return bool},tests.audio=function(){var elem=document.createElement("audio"),bool=!1;try{(bool=!!elem.canPlayType)&&((bool=new Boolean(bool)).ogg=elem.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),bool.mp3=elem.canPlayType("audio/mpeg;").replace(/^no$/,""),bool.wav=elem.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),bool.m4a=(elem.canPlayType("audio/x-m4a;")||elem.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(e){}return bool},tests.localstorage=function(){try{return localStorage.setItem(mod,mod),localStorage.removeItem(mod),!0}catch(e){return!1}},tests.sessionstorage=function(){try{return sessionStorage.setItem(mod,mod),sessionStorage.removeItem(mod),!0}catch(e){return!1}},tests.webworkers=function(){return!!window.Worker},tests.applicationcache=function(){return!!window.applicationCache},tests.svg=function(){return!!document.createElementNS&&!!document.createElementNS(ns.svg,"svg").createSVGRect},tests.inlinesvg=function(){var div=document.createElement("div");return div.innerHTML="<svg/>",(div.firstChild&&div.firstChild.namespaceURI)==ns.svg},tests.smil=function(){return!!document.createElementNS&&/SVGAnimate/.test(toString.call(document.createElementNS(ns.svg,"animate")))},tests.svgclippaths=function(){return!!document.createElementNS&&/SVGClipPath/.test(toString.call(document.createElementNS(ns.svg,"clipPath")))},tests)hasOwnProp(tests,feature)&&(featureName=feature.toLowerCase(),Modernizr[featureName]=tests[feature](),classes.push((Modernizr[featureName]?"":"no-")+featureName));return Modernizr.input||webforms(),Modernizr.addTest=function(feature,test){if("object"==typeof feature)for(var key in feature)hasOwnProp(feature,key)&&Modernizr.addTest(key,feature[key]);else{if(feature=feature.toLowerCase(),Modernizr[feature]!==undefined)return Modernizr;test="function"==typeof test?test():test,void 0!==enableClasses&&enableClasses&&(docElement.className+=" "+(test?"":"no-")+feature),Modernizr[feature]=test}return Modernizr},setCss(""),modElem=inputElem=null,function(window,document){function addStyleSheet(ownerDocument,cssText){var p=ownerDocument.createElement("p"),parent=ownerDocument.getElementsByTagName("head")[0]||ownerDocument.documentElement;return p.innerHTML="x<style>"+cssText+"</style>",parent.insertBefore(p.lastChild,parent.firstChild)}function getElements(){var elements=html5.elements;return"string"==typeof elements?elements.split(" "):elements}function getExpandoData(ownerDocument){var data=expandoData[ownerDocument[expando]];return data||(data={},expanID++,ownerDocument[expando]=expanID,expandoData[expanID]=data),data}function createElement(nodeName,ownerDocument,data){return ownerDocument||(ownerDocument=document),supportsUnknownElements?ownerDocument.createElement(nodeName):(data||(data=getExpandoData(ownerDocument)),!(node=data.cache[nodeName]?data.cache[nodeName].cloneNode():saveClones.test(nodeName)?(data.cache[nodeName]=data.createElem(nodeName)).cloneNode():data.createElem(nodeName)).canHaveChildren||reSkip.test(nodeName)||node.tagUrn?node:data.frag.appendChild(node));var node}function createDocumentFragment(ownerDocument,data){if(ownerDocument||(ownerDocument=document),supportsUnknownElements)return ownerDocument.createDocumentFragment();for(var clone=(data=data||getExpandoData(ownerDocument)).frag.cloneNode(),i=0,elems=getElements(),l=elems.length;i<l;i++)clone.createElement(elems[i]);return clone}function shivMethods(ownerDocument,data){data.cache||(data.cache={},data.createElem=ownerDocument.createElement,data.createFrag=ownerDocument.createDocumentFragment,data.frag=data.createFrag()),ownerDocument.createElement=function(nodeName){return html5.shivMethods?createElement(nodeName,ownerDocument,data):data.createElem(nodeName)},ownerDocument.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+getElements().join().replace(/[\w\-]+/g,(function(nodeName){return data.createElem(nodeName),data.frag.createElement(nodeName),'c("'+nodeName+'")'}))+");return n}")(html5,data.frag)}function shivDocument(ownerDocument){ownerDocument||(ownerDocument=document);var data=getExpandoData(ownerDocument);return!html5.shivCSS||supportsHtml5Styles||data.hasCSS||(data.hasCSS=!!addStyleSheet(ownerDocument,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),supportsUnknownElements||shivMethods(ownerDocument,data),ownerDocument}var supportsHtml5Styles,supportsUnknownElements,version="3.7.0",options=window.html5||{},reSkip=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,saveClones=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,expando="_html5shiv",expanID=0,expandoData={};!function(){try{var a=document.createElement("a");a.innerHTML="<xyz></xyz>",supportsHtml5Styles="hidden"in a,supportsUnknownElements=1==a.childNodes.length||function(){document.createElement("a");var frag=document.createDocumentFragment();return void 0===frag.cloneNode||void 0===frag.createDocumentFragment||void 0===frag.createElement}()}catch(e){supportsHtml5Styles=!0,supportsUnknownElements=!0}}();var html5={"elements":options.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video","version":version,"shivCSS":!1!==options.shivCSS,"supportsUnknownElements":supportsUnknownElements,"shivMethods":!1!==options.shivMethods,"type":"default","shivDocument":shivDocument,"createElement":createElement,"createDocumentFragment":createDocumentFragment};window.html5=html5,shivDocument(document)}(this,document),Modernizr._version=version,Modernizr._prefixes=prefixes,Modernizr._domPrefixes=domPrefixes,Modernizr._cssomPrefixes=cssomPrefixes,Modernizr.hasEvent=isEventSupported,Modernizr.testProp=function(prop){return testProps([prop])},Modernizr.testAllProps=testPropsAll,Modernizr.testStyles=injectElementWithStyles,Modernizr.prefixed=function(prop,obj,elem){return obj?testPropsAll(prop,obj,elem):testPropsAll(prop,"pfx")},docElement.className=docElement.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(enableClasses?" js "+classes.join(" "):""),Modernizr}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==o.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=p.shift();q=1,a?a.t?m((function(){("c"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)}),0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b))for(var d in"img"!=a&&m((function(){t.removeChild(l)}),50),y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}j=j||B.errorTimeout;var l=b.createElement(a),o=0,r=0,u={"t":d,"s":c,"e":f,"a":i,"x":j};1===y[c]&&(r=1,y[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),"img"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i("c"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={"load":j,"i":0},a}var A,B,l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,u=(l=a.opera&&"[object Opera]"==o.call(a.opera),l=!!b.attachEvent&&!l,r?"object":l?"script":"img"),v=l?"script":u,w=Array.isArray||function(a){return"[object Array]"==o.call(a)},x=[],y={},z={"timeout":function(a,b){return b.length&&(a.timeout=b[0]),a}};B=function(a){function b(a){a=a.split("!");var e,f,g,b=x.length,c=a.pop(),d=a.length;c={"url":c,"origUrl":c,"prefixes":a};for(f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load((function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2}))))}function h(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var c,b=0;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var m,n,h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;i<a.length;i++)e(j=a[i])?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var l,o,k=b.createElement("script");e=e||B.errorTimeout;for(o in k.src=a,d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m((function(){l||(l=1,c(1))}),e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var j;e=b.createElement("link"),c=i?h:c||f;for(j in e.href=a,e.rel="stylesheet",e.type="text/css",d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},Modernizr.addTest("placeholder",(function(){return!(!("placeholder"in(Modernizr.input||document.createElement("input")))||!("placeholder"in(Modernizr.textarea||document.createElement("textarea"))))})),function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,(function(a,b){function r(a){var b="length"in a&&a.length,c=m.type(a);return"function"!==c&&!m.isWindow(a)&&(!(1!==a.nodeType||!b)||("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a))}function w(a,b,c){if(m.isFunction(b))return m.grep(a,(function(a,d){return!!b.call(a,d,a)!==c}));if(b.nodeType)return m.grep(a,(function(a){return a===b!==c}));if("string"==typeof b){if(v.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,(function(a){return m.inArray(a,b)>=0!==c}))}function D(a,b){do{a=a[b]}while(a&&1!==a.nodeType);return a}function G(a){var b=F[a]={};return m.each(a.match(E)||[],(function(a,c){b[c]=!0})),b}function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if("string"==typeof(c=a.getAttribute(d))){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c)}catch(e){}m.data(a,b,c)}else c=void 0}return c}function P(a){var b;for(b in a)if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{"toJSON":m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?null==(f=g[b])&&(f=g[m.camelCase(b)]):f=g,f}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:b=(b=m.camelCase(b))in d?[b]:b.split(" "),e=b.length;for(;e--;)delete d[b[e]];if(c?!P(d):!m.isEmptyObject(d))return}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}function aa(){return!0}function ba(){return!1}function ca(){try{return y.activeElement}catch(a){}}function da(a){var b=ea.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function ua(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||m.nodeName(d,b)?f.push(d):m.merge(f,ua(d,b));return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function va(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wa(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xa(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function ya(a){var b=pa.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function za(a,b){for(var c,d=0;null!=(c=a[d]);d++)m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}function Aa(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h)for(c in delete g.handle,g.events={},h)for(d=0,e=h[c].length;e>d;d++)m.event.add(b,c,h[c][d]);g.data&&(g.data=m.extend({},g.data))}}function Ba(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){for(d in(e=m._data(b)).events)m.removeEvent(b,d,e.handle);b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(xa(b).text=a.text,ya(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function Ea(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function Fa(a){var b=y,c=Da[a];return c||("none"!==(c=Ea(a,b))&&c||((b=((Ca=(Ca||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement))[0].contentWindow||Ca[0].contentDocument).document).write(),b.close(),c=Ea(a,b),Ca.detach()),Da[a]=c),c}function La(a,b){return{"get":function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}function Ua(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Ta.length;e--;)if((b=Ta[e]+c)in a)return b;return d}function Va(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)(d=a[g]).style&&(f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&U(d)&&(f[g]=m._data(d,"olddisplay",Fa(d.nodeName)))):(e=U(d),(c&&"none"!==c||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display"))));for(g=0;h>g;g++)(d=a[g]).style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Wa(a,b,c){var d=Pa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=m.css(a,c+T[f],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+T[f],!0,e)),"margin"!==c&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),"padding"!==c&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)));return g}function Ya(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ia(a),g=k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,f);if(0>=e||null==e){if((0>(e=Ja(a,b,f))||null==e)&&(e=a.style[b]),Ha.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xa(a,b,c||(g?"border":"content"),d,f)+"px"}function Za(a,b,c,d,e){return new Za.prototype.init(a,b,c,d,e)}function fb(){return setTimeout((function(){$a=void 0})),$a=m.now()}function gb(a,b){var c,d={"height":a},e=0;for(b=b?1:0;4>e;e+=2-b)d["margin"+(c=T[e])]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function hb(a,b,c){for(var d,e=(eb[b]||[]).concat(eb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ib(a,b,c){var d,e,f,g,h,i,j,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");for(d in c.queue||(null==(h=m._queueHooks(a,"fx")).unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always((function(){n.always((function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()}))}))),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===("none"===(j=m.css(a,"display"))?m._data(a,"olddisplay")||Fa(a.nodeName):j)&&"none"===m.css(a,"float")&&(k.inlineBlockNeedsLayout&&"inline"!==Fa(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always((function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}))),b)if(e=b[d],ab.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||m.style(a,d)}else j=void 0;if(m.isEmptyObject(o))"inline"===("none"===j?Fa(a.nodeName):j)&&(p.display=j);else for(d in r?"hidden"in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done((function(){m(a).hide()})),n.done((function(){var b;for(b in m._removeData(a,"fxshow"),o)m.style(a,b,o[b])})),o)g=hb(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}function jb(a,b){var c,d,e,f,g;for(c in a)if(e=b[d=m.camelCase(c)],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),(g=m.cssHooks[d])&&"expand"in g)for(c in f=g.expand(f),delete a[d],f)c in a||(a[c]=f[c],b[c]=e);else b[d]=e}function kb(a,b,c){var d,e,f=0,g=db.length,h=m.Deferred().always((function(){delete i.elem})),i=function(){if(e)return!1;for(var b=$a||fb(),c=Math.max(0,j.startTime+j.duration-b),f=1-(c/j.duration||0),g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({"elem":a,"props":m.extend({},b),"opts":m.extend(!0,{"specialEasing":{}},c),"originalProperties":b,"originalOptions":c,"startTime":$a||fb(),"duration":c.duration,"tweens":[],"createTween":function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},"stop":function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jb(k,j.opts.specialEasing);g>f;f++)if(d=db[f].call(j,a,k,j.opts))return d;return m.map(k,hb,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{"elem":a,"anim":j,"queue":j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function Lb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c))for(;d=f[e++];)"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Mb(a,b,c,d){function g(h){var i;return e[h]=!0,m.each(a[h]||[],(function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)})),i}var e={},f=a===Ib;return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nb(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&m.extend(!0,a,c),a}function Ob(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(!(g=j[i+" "+f]||j["* "+f]))for(e in j)if((h=e.split(" "))[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){!0===g?g=j[e]:!0!==j[e]&&(f=h[0],k.unshift(h[1]));break}if(!0!==g)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(l){return{"state":"parsererror","error":g?l:"No conversion from "+i+" to "+f}}}return{"state":"success","data":b}}function Vb(a,b,c,d){var e;if(m.isArray(b))m.each(b,(function(b,e){c||Rb.test(a)?d(a,e):Vb(a+"["+("object"==typeof e?b:"")+"]",e,c,d)}));else if(c||"object"!==m.type(b))d(a,b);else for(e in b)Vb(a+"["+e+"]",b[e],c,d)}function Zb(){try{return new a.XMLHttpRequest}catch(b){}}function $b(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function dc(a){return m.isWindow(a)?a:9===a.nodeType&&(a.defaultView||a.parentWindow)}var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.3",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={"jquery":l,"constructor":m,"selector":"","length":0,"toArray":function(){return d.call(this)},"get":function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},"pushStack":function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},"each":function(a,b){return m.each(this,a,b)},"map":function(a){return this.pushStack(m.map(this,(function(b,c){return a.call(b,c,b)})))},"slice":function(){return this.pushStack(d.apply(this,arguments))},"first":function(){return this.eq(0)},"last":function(){return this.eq(-1)},"eq":function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},"end":function(){return this.prevObject||this.constructor(null)},"push":f,"sort":c.sort,"splice":c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],g!==(c=e[d])&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},m.extend({"expando":"jQuery"+(l+Math.random()).replace(/\D/g,""),"isReady":!0,"error":function(a){throw new Error(a)},"noop":function(){},"isFunction":function(a){return"function"===m.type(a)},"isArray":Array.isArray||function(a){return"array"===m.type(a)},"isWindow":function(a){return null!=a&&a==a.window},"isNumeric":function(a){return!m.isArray(a)&&a-parseFloat(a)+1>=0},
"isEmptyObject":function(a){var b;for(b in a)return!1;return!0},"isPlainObject":function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},"type":function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},"globalEval":function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},"camelCase":function(a){return a.replace(o,"ms-").replace(p,q)},"nodeName":function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},"each":function(a,b,c){var e=0,f=a.length,g=r(a);if(c){if(g)for(;f>e&&!1!==b.apply(a[e],c);e++);else for(e in a)if(!1===b.apply(a[e],c))break}else if(g)for(;f>e&&!1!==b.call(a[e],e,a[e]);e++);else for(e in a)if(!1===b.call(a[e],e,a[e]))break;return a},"trim":function(a){return null==a?"":(a+"").replace(n,"")},"makeArray":function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},"inArray":function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},"merge":function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;)a[e++]=b[d++];if(c!=c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a},"grep":function(a,b,c){for(var e=[],f=0,g=a.length,h=!c;g>f;f++)!b(a[f],f)!==h&&e.push(a[f]);return e},"map":function(a,b,c){var d,f=0,g=a.length,i=[];if(r(a))for(;g>f;f++)null!=(d=b(a[f],f,c))&&i.push(d);else for(f in a)null!=(d=b(a[f],f,c))&&i.push(d);return e.apply([],i)},"guid":1,"proxy":function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},"now":function(){return+new Date},"support":k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(a,b){h["[object "+b+"]"]=b.toLowerCase()}));var s=function(a){function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),d=d||[],k=(b=b||n).nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(!(h=b.getElementById(j))||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){for(o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;l--;)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}var a=[];return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){for(var c=a.split("|"),e=a.length;e--;)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia((function(b){return b=+b,ia((function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))}))}))}function pa(a){return a&&void 0!==a.getElementsByTagName&&a}function qa(){}function ra(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if((h=(i=b[u]||(b[u]={}))[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia((function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d)for(j=va(r,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l));if(f){if(e||a){if(e){for(j=[],k=r.length;k--;)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}for(k=r.length;k--;)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)}))}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa((function(a){return a===b}),h,!0),l=sa((function(a){return J(b,a)>-1}),h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if((c=d.filter[a[i].type].apply(null,a[i].matches))[u]){for(e=++i;f>e&&!d.relative[a[e].type];e++);return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({"value":" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){for(m=0;o=a[m++];)if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){for(m=0;o=b[m++];)o(r,s,g,h);if(f){if(p>0)for(;q--;)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={"ID":new RegExp("^#("+M+")"),"CLASS":new RegExp("^\\.("+M+")"),"TAG":new RegExp("^("+M.replace("w","w*")+")"),"ATTR":new RegExp("^"+O),"PSEUDO":new RegExp("^"+P),"CHILD":new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),"bool":new RegExp("^(?:"+K+")$","i"),"needsContext":new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!=d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={"apply":E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}for(b in c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,(e=g.defaultView)&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja((function(a){return a.className="i",!a.getAttribute("className")})),c.getElementsByTagName=ja((function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length})),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja((function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length})),c.getById?(d.find.ID=function(a,b){if(void 0!==b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c=void 0!==a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return void 0!==b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja((function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")})),ja((function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")}))),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja((function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)})),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d||(1&(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1)||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){for(;b=a[f++];)b===a[f]&&(e=d.push(f));for(;e--;)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else for(;b=a[d++];)c+=e(b);return c},d=ga.selectors={"cacheLength":50,"createPseudo":ia,"match":X,"attrHandle":{},"find":{},"relative":{">":{"dir":"parentNode","first":!0}," ":{"dir":"parentNode"},"+":{"dir":"previousSibling","first":!0},"~":{"dir":"previousSibling"}},"preFilter":{"ATTR":function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},"CHILD":function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},"PSEUDO":function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},"filter":{"TAG":function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},"CLASS":function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,(function(a){return b.test("string"==typeof a.className&&a.className||void 0!==a.getAttribute&&a.getAttribute("class")||"")}))},"ATTR":function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:!b||(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b&&(e===c||e.slice(0,c.length+1)===c+"-"))}},"CHILD":function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(n=(j=(k=q[u]||(q[u]={}))[a]||[])[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[u]||(l[u]={}))[a]=[w,m]),l!==b)););return(m-=e)===d||m%d==0&&m/d>=0}}},"PSEUDO":function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia((function(a,c){for(var d,f=e(a,b),g=f.length;g--;)a[d=J(a,f[g])]=!(c[d]=f[g])})):function(a){return e(a,0,c)}):e}},"pseudos":{"not":ia((function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia((function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))})):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}})),"has":ia((function(a){return function(b){return ga(a,b).length>0}})),"contains":ia((function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}})),"lang":ia((function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do{if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return(c=c.toLowerCase())===a||0===c.indexOf(a+"-")}while((b=b.parentNode)&&1===b.nodeType);return!1}})),"target":function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},"root":function(a){return a===o},"focus":function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},"enabled":function(a){return!1===a.disabled},"disabled":function(a){return!0===a.disabled},"checked":function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},"selected":function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},"empty":function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},"parent":function(a){return!d.pseudos.empty(a)},"header":function(a){return Z.test(a.nodeName)},"input":function(a){return Y.test(a.nodeName)},"button":function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},"text":function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},"first":oa((function(){return[0]})),"last":oa((function(a,b){return[b-1]})),"eq":oa((function(a,b,c){return[0>c?c+b:c]})),"even":oa((function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a})),"odd":oa((function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a})),"lt":oa((function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a})),"gt":oa((function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a}))}},d.pseudos.nth=d.pseudos.eq,{"radio":!0,"checkbox":!0,"file":!0,"password":!0,"image":!0})d.pseudos[b]=ma(b);for(b in{"submit":!0,"reset":!0})d.pseudos[b]=na(b);return qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=d.preFilter;h;){for(g in(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({"value":c,"type":e[0].replace(R," ")}),h=h.slice(c.length)),d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({"value":c,"type":g,"matches":e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)},h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){for(b||(b=g(a)),c=b.length;c--;)(f=xa(b[c]))[u]?d.push(f):e.push(f);(f=A(a,ya(e,d))).selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if((j=o[0]=o[0].slice(0)).length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(!(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0]))return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}for(i=X.needsContext.test(a)?0:j.length;i--&&(k=j[i],!d.relative[l=k.type]);)if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),!(a=f.length&&ra(j)))return H.apply(e,f),e;break}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja((function(a){return 1&a.compareDocumentPosition(n.createElement("div"))})),ja((function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")}))||ka("type|href|height|width",(function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)})),c.attributes&&ja((function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")}))||ka("value",(function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue})),ja((function(a){return null==a.getAttribute("disabled")}))||ka(K,(function(a,b,c){var d;return c?void 0:!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null})),ga}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,(function(a){return 1===a.nodeType})))},m.fn.extend({"find":function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(m(a).filter((function(){for(b=0;e>b;b++)if(m.contains(d[b],this))return!0})));for(b=0;e>b;b++)m.find(a,d[b],c);return(c=this.pushStack(e>1?m.unique(c):c)).selector=this.selector?this.selector+" "+a:a,c},"filter":function(a){return this.pushStack(w(this,a||[],!1))},"not":function(a){return this.pushStack(w(this,a||[],!0))},"is":function(a){return!!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(!(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a))||!c[1]&&b)return!b||b.jquery?(b||x).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b))for(c in b)m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if((d=y.getElementById(c[2]))&&d.parentNode){if(d.id!==c[2])return x.find(a);this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?void 0!==x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={"children":!0,"contents":!0,"next":!0,"prev":!0};m.extend({"dir":function(a,b,c){for(var d=[],e=a[b];e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c));)1===e.nodeType&&d.push(e),e=e[b];return d},"sibling":function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),m.fn.extend({"has":function(a){var b,c=m(a,this),d=c.length;return this.filter((function(){for(b=0;d>b;b++)if(m.contains(this,c[b]))return!0}))},"closest":function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?m.unique(f):f)},"index":function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},"add":function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},"addBack":function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),m.each({"parent":function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},"parents":function(a){return m.dir(a,"parentNode")},"parentsUntil":function(a,b,c){return m.dir(a,"parentNode",c)},"next":function(a){return D(a,"nextSibling")},"prev":function(a){return D(a,"previousSibling")},"nextAll":function(a){return m.dir(a,"nextSibling")},"prevAll":function(a){return m.dir(a,"previousSibling")},"nextUntil":function(a,b,c){return m.dir(a,"nextSibling",c)},"prevUntil":function(a,b,c){return m.dir(a,"previousSibling",c)},"siblings":function(a){return m.sibling((a.parentNode||{}).firstChild,a)},"children":function(a){return m.sibling(a.firstChild)},"contents":function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},(function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}}));var H,E=/\S+/g,F={};m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(!1===h[f].apply(l[0],l[1])&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={"add":function(){if(h){var d=h.length;!function f(b){m.each(b,(function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)}))}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},"remove":function(){return h&&m.each(arguments,(function(a,c){for(var d;(d=m.inArray(c,h,d))>-1;)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)})),this},"has":function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},"empty":function(){return h=[],e=0,this},"disable":function(){return h=i=c=void 0,this},"disabled":function(){return!h},"lock":function(){return i=void 0,c||k.disable(),this},"locked":function(){return!i},"fireWith":function(a,c){return!h||d&&!i||(c=[a,(c=c||[]).slice?c.slice():c],b?i.push(c):j(c)),this},"fire":function(){return k.fireWith(this,arguments),this},"fired":function(){return!!d}};return k},m.extend({"Deferred":function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={"state":function(){return c},"always":function(){return e.done(arguments).fail(arguments),this},"then":function(){var a=arguments;return m.Deferred((function(c){m.each(b,(function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]]((function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)}))})),a=null})).promise()},"promise":function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,(function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add((function(){c=h}),b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith})),d.promise(e),a&&a.call(e,e),e},"when":function(a){var i,j,k,b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}};if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}}),m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({"isReady":!1,"readyWait":1,"holdReady":function(a){a?m.readyWait++:m.ready(!0)},"ready":function(a){if(!0===a?!--m.readyWait:!m.isReady){if(!y.body)return setTimeout(m.ready);m.isReady=!0,!0!==a&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}}),m.ready.promise=function(b){if(!H)if(H=m.Deferred(),"complete"===y.readyState)setTimeout(m.ready);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1);else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}return H.promise(b)};var L,K="undefined";for(L in m(k))break;k.ownLast="0"!==L,k.inlineBlockNeedsLayout=!1,m((function(){var a,b,c,d;(c=y.getElementsByTagName("body")[0])&&c.style&&(b=y.createElement("div"),(d=y.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))})),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return(1===c||9===c)&&(!b||!0!==b&&a.getAttribute("classid")===b)};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;m.extend({"cache":{},"noData":{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},"hasData":function(a){return!!(a=a.nodeType?m.cache[a[m.expando]]:a[m.expando])&&!P(a)},"data":function(a,b,c){return Q(a,b,c)},"removeData":function(a,b){return R(a,b)},"_data":function(a,b,c){return Q(a,b,c,!0)},"_removeData":function(a,b){return R(a,b,!0)}}),m.fn.extend({"data":function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){for(c=g.length;c--;)g[c]&&(0===(d=g[c].name).indexOf("data-")&&O(f,d=m.camelCase(d.slice(5)),e[d]));m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each((function(){m.data(this,a)})):arguments.length>1?this.each((function(){m.data(this,a,b)})):f?O(f,a,m.data(f,a)):void 0},"removeData":function(a){return this.each((function(){m.removeData(this,a)}))}}),m.extend({"queue":function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},"dequeue":function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},"_queueHooks":function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{"empty":m.Callbacks("once memory").add((function(){m._removeData(a,b+"queue"),m._removeData(a,c)}))})}}),m.fn.extend({"queue":function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each((function(){var c=m.queue(this,a,b);m._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)}))},"dequeue":function(a){return this.each((function(){m.dequeue(this,a)}))},"clearQueue":function(a){return this.queue(a||"fx",[])},"promise":function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)(c=m._data(f[g],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c))for(h in e=!0,c)m.access(a,b,h,c[h],!0,f,g);else if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",(function(){k.noCloneEvent=!1})),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in{"submit":!0,"change":!0,"focusin":!0})c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=!1===d.attributes[c].expando);d=null}()
;var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;m.event={"global":{},"add":function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){for(c.handler&&(c=(i=c).handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),h=(b=(b||"").match(E)||[""]).length;h--;)o=q=(f=_.exec(b[h])||[])[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({"type":o,"origType":q,"data":d,"handler":c,"guid":c.guid,"selector":e,"needsContext":e&&m.expr.match.needsContext.test(e),"namespace":p.join(".")},i),(n=g[o])||((n=g[o]=[]).delegateCount=0,j.setup&&!1!==j.setup.call(a,d,p,k)||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0);a=null}},"remove":function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){for(j=(b=(b||"").match(E)||[""]).length;j--;)if(o=q=(h=_.exec(b[j])||[])[1],p=(h[2]||"").split(".").sort(),o){for(l=m.event.special[o]||{},n=k[o=(d?l.delegateType:l.bindType)||o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;f--;)g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g));i&&!n.length&&(l.teardown&&!1!==l.teardown.call(a,p,r.handle)||m.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)m.event.remove(a,o+b[j],c,d,!0);m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},"trigger":function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,(b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b)).isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||!1!==k.trigger.apply(d,c))){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}for(n=0;(h=o[n++])&&!b.isPropagationStopped();)b.type=n>1?i:k.bindType||p,(f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"))&&f.apply(h,c),(f=g&&h[g])&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),!1===b.result&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||!1===k._default.apply(o.pop(),c))&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){(l=d[g])&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},"dispatch":function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||!1!==k.preDispatch.call(this,a)){for(h=m.event.handlers.call(this,a,j),b=0;(f=h[b++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,g=0;(e=f.handlers[g++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,void 0!==(c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i))&&!1===(a.result=c)&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},"handlers":function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(!0!==i.disabled||"click"!==a.type)){for(e=[],f=0;h>f;f++)void 0===e[c=(d=b[f]).selector+" "]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({"elem":i,"handlers":e})}return h<b.length&&g.push({"elem":this,"handlers":b.slice(h)}),g},"fix":function(a){if(a[m.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;b--;)a[c=d[b]]=f[c];return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},"props":"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),"fixHooks":{},"keyHooks":{"props":"char charCode key keyCode".split(" "),"filter":function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},"mouseHooks":{"props":"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),"filter":function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(e=(d=a.target.ownerDocument||y).documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},"special":{"load":{"noBubble":!0},"focus":{"trigger":function(){if(this!==ca()&&this.focus)try{return this.focus(),!1}catch(a){}},"delegateType":"focusin"},"blur":{"trigger":function(){return this===ca()&&this.blur?(this.blur(),!1):void 0},"delegateType":"focusout"},"click":{"trigger":function(){return m.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},"_default":function(a){return m.nodeName(a.target,"a")}},"beforeunload":{"postDispatch":function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},"simulate":function(a,b,c,d){var e=m.extend(new m.Event,c,{"type":a,"isSimulated":!0,"originalEvent":{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?aa:ba):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={"isDefaultPrevented":ba,"isPropagationStopped":ba,"isImmediatePropagationStopped":ba,"preventDefault":function(){var a=this.originalEvent;this.isDefaultPrevented=aa,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},"stopPropagation":function(){var a=this.originalEvent;this.isPropagationStopped=aa,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},"stopImmediatePropagation":function(){var a=this.originalEvent;this.isImmediatePropagationStopped=aa,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({"mouseenter":"mouseover","mouseleave":"mouseout","pointerenter":"pointerover","pointerleave":"pointerout"},(function(a,b){m.event.special[a]={"delegateType":b,"bindType":b,"handle":function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}})),k.submitBubbles||(m.event.special.submit={"setup":function(){return!m.nodeName(this,"form")&&void m.event.add(this,"click._submit keypress._submit",(function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",(function(a){a._submit_bubble=!0})),m._data(c,"submitBubbles",!0))}))},"postDispatch":function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},"teardown":function(){return!m.nodeName(this,"form")&&void m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={"setup":function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",(function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)})),m.event.add(this,"click._change",(function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)}))),!1):void m.event.add(this,"beforeactivate._change",(function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",(function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)})),m._data(b,"changeBubbles",!0))}))},"handle":function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},"teardown":function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({"focus":"focusin","blur":"focusout"},(function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={"setup":function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},"teardown":function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}})),m.fn.extend({"on":function(a,b,c,d,e){var f,g;if("object"==typeof a){for(f in"string"!=typeof b&&(c=c||b,b=void 0),a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),!1===d)d=ba;else if(!d)return this;return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each((function(){m.event.add(this,a,d,c,b)}))},"one":function(a,b,c,d){return this.on(a,b,c,d,1)},"off":function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(!1===b||"function"==typeof b)&&(c=b,b=void 0),!1===c&&(c=ba),this.each((function(){m.event.remove(this,a,c,b)}))},"trigger":function(a,b){return this.each((function(){m.event.trigger(a,b,this)}))},"triggerHandler":function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});var ea="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fa=/ jQuery\d+="(?:null|\d+)"/g,ga=new RegExp("<(?:"+ea+")[\\s/>]","i"),ha=/^\s+/,ia=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ja=/<([\w:]+)/,ka=/<tbody/i,la=/<|&#?\w+;/,ma=/<(?:script|style|link)/i,na=/checked\s*(?:[^=]|=\s*.checked.)/i,oa=/^$|\/(?:java|ecma)script/i,pa=/^true\/(.*)/,qa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ra={"option":[1,"<select multiple='multiple'>","</select>"],"legend":[1,"<fieldset>","</fieldset>"],"area":[1,"<map>","</map>"],"param":[1,"<object>","</object>"],"thead":[1,"<table>","</table>"],"tr":[2,"<table><tbody>","</tbody></table>"],"col":[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],"td":[3,"<table><tbody><tr>","</tr></tbody></table>"],"_default":k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ta=da(y).appendChild(y.createElement("div"));ra.optgroup=ra.option,ra.tbody=ra.tfoot=ra.colgroup=ra.caption=ra.thead,ra.th=ra.td,m.extend({"clone":function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!ga.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ta.innerHTML=a.outerHTML,ta.removeChild(f=ta.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a)))for(d=ua(f),h=ua(a),g=0;null!=(e=h[g]);++g)d[g]&&Ba(e,d[g]);if(b)if(c)for(h=h||ua(a),d=d||ua(f),g=0;null!=(e=h[g]);g++)Aa(e,d[g]);else Aa(a,f);return(d=ua(f,"script")).length>0&&za(d,!i&&ua(a,"script")),d=h=e=null,f},"buildFragment":function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=da(b),p=[],q=0;n>q;q++)if((f=a[q])||0===f)if("object"===m.type(f))m.merge(p,f.nodeType?[f]:f);else if(la.test(f)){for(h=h||o.appendChild(b.createElement("div")),i=(ja.exec(f)||["",""])[1].toLowerCase(),l=ra[i]||ra._default,h.innerHTML=l[1]+f.replace(ia,"<$1></$2>")+l[2],e=l[0];e--;)h=h.lastChild;if(!k.leadingWhitespace&&ha.test(f)&&p.push(b.createTextNode(ha.exec(f)[0])),!k.tbody)for(e=(f="table"!==i||ka.test(f)?"<table>"!==l[1]||ka.test(f)?0:h:h.firstChild)&&f.childNodes.length;e--;)m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(m.merge(p,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));for(h&&o.removeChild(h),k.appendChecked||m.grep(ua(p,"input"),va),q=0;f=p[q++];)if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ua(o.appendChild(f),"script"),g&&za(h),c))for(e=0;f=h[e++];)oa.test(f.type||"")&&c.push(f);return h=null,o},"cleanData":function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++)if((b||m.acceptData(d))&&(g=(f=d[i])&&j[f])){if(g.events)for(e in g.events)n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle);j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}),m.fn.extend({"text":function(a){return V(this,(function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))}),null,a,arguments.length)},"append":function(){return this.domManip(arguments,(function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||wa(this,a).appendChild(a)}))},"prepend":function(){return this.domManip(arguments,(function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.insertBefore(a,b.firstChild)}}))},"before":function(){return this.domManip(arguments,(function(a){this.parentNode&&this.parentNode.insertBefore(a,this)}))},"after":function(){return this.domManip(arguments,(function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)}))},"remove":function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||m.cleanData(ua(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&za(ua(c,"script")),c.parentNode.removeChild(c));return this},"empty":function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&m.cleanData(ua(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},"clone":function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map((function(){return m.clone(this,a,b)}))},"html":function(a){return V(this,(function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(fa,""):void 0;if(!("string"!=typeof a||ma.test(a)||!k.htmlSerialize&&ga.test(a)||!k.leadingWhitespace&&ha.test(a)||ra[(ja.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ia,"<$1></$2>");try{for(;d>c;c++)1===(b=this[c]||{}).nodeType&&(m.cleanData(ua(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)}),null,a,arguments.length)},"replaceWith":function(){var a=arguments[0];return this.domManip(arguments,(function(b){a=this.parentNode,m.cleanData(ua(this)),a&&a.replaceChild(b,this)})),a&&(a.length||a.nodeType)?this:this.remove()},"detach":function(a){return this.remove(a,!0)},"domManip":function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&na.test(p))return this.each((function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)}));if(l&&(c=(i=m.buildFragment(a,this[0].ownerDocument,!1,this)).firstChild,1===i.childNodes.length&&(i=c),c)){for(f=(g=m.map(ua(i,"script"),xa)).length;l>j;j++)d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ua(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,m.map(g,ya),j=0;f>j;j++)d=g[j],oa.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qa,"")));i=c=null}return this}}),m.each({"appendTo":"append","prependTo":"prepend","insertBefore":"before","insertAfter":"after","replaceAll":"replaceWith"},(function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}}));var Ca,Da={};!function(){var a;k.shrinkWrapBlocks=function(){return null!=a?a:(a=!1,(c=y.getElementsByTagName("body")[0])&&c.style?(b=y.createElement("div"),(d=y.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0);var b,c,d}}();var Ia,Ja,Ga=/^margin/,Ha=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ka=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ia=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)},Ja=function(a,b,c){var d,e,f,g,h=a.style;return g=(c=c||Ia(a))?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Ha.test(g)&&Ga.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):y.documentElement.currentStyle&&(Ia=function(a){return a.currentStyle},Ja=function(a,b,c){var d,e,f,g,h=a.style;return null==(g=(c=c||Ia(a))?c[b]:void 0)&&h&&h[b]&&(g=h[b]),Ha.test(g)&&!Ka.test(b)&&(d=h.left,(f=(e=a.runtimeStyle)&&e.left)&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"}),function(){var b,c,d,e,f,g,h;if((b=y.createElement("div")).innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=(d=b.getElementsByTagName("a")[0])&&d.style){function i(){var b,c,d,i;(c=y.getElementsByTagName("body")[0])&&c.style&&(b=y.createElement("div"),(d=y.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e="1%"!==(a.getComputedStyle(b,null)||{}).top,f="4px"===(a.getComputedStyle(b,null)||{"width":"4px"}).width,(i=b.appendChild(y.createElement("div"))).style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight),b.removeChild(i)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(i=b.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(g=0===i[0].offsetHeight)&&(i[0].style.display="",i[1].style.display="none",g=0===i[0].offsetHeight),c.removeChild(d))}c.cssText="float:left;opacity:.5",k.opacity="0.5"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===b.style.backgroundClip,k.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing,m.extend(k,{"reliableHiddenOffsets":function(){return null==g&&i(),g},"boxSizingReliable":function(){return null==f&&i(),f},"pixelPosition":function(){return null==e&&i(),e},"reliableMarginRight":function(){return null==h&&i(),h}})}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];for(f in e=c.apply(a,d||[]),b)a.style[f]=g[f];return e};var Ma=/alpha\([^)]*\)/i,Na=/opacity\s*=\s*([^)]*)/,Oa=/^(none|table(?!-c[ea]).+)/,Pa=new RegExp("^("+S+")(.*)$","i"),Qa=new RegExp("^([+-])=("+S+")","i"),Ra={"position":"absolute","visibility":"hidden","display":"block"},Sa={"letterSpacing":"0","fontWeight":"400"},Ta=["Webkit","O","Moz","ms"];m.extend({"cssHooks":{"opacity":{"get":function(a,b){if(b){var c=Ja(a,"opacity");return""===c?"1":c}}}},"cssNumber":{"columnCount":!0,"fillOpacity":!0,"flexGrow":!0,"flexShrink":!0,"fontWeight":!0,"lineHeight":!0,"opacity":!0,"order":!0,"orphans":!0,"widows":!0,"zIndex":!0,"zoom":!0},"cssProps":{"float":k.cssFloat?"cssFloat":"styleFloat"},"style":function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ua(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if("string"===(f=typeof c)&&(e=Qa.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number"),null!=c&&c==c&&("number"!==f||m.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!g||!("set"in g)||void 0!==(c=g.set(a,c,d))))try{i[b]=c}catch(j){}}},"css":function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ua(a.style,h)),(g=m.cssHooks[b]||m.cssHooks[h])&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Ja(a,b,d)),"normal"===f&&b in Sa&&(f=Sa[b]),""===c||c?(e=parseFloat(f),!0===c||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],(function(a,b){m.cssHooks[b]={"get":function(a,c,d){return c?Oa.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Ra,(function(){return Ya(a,b,d)})):Ya(a,b,d):void 0},"set":function(a,c,d){var e=d&&Ia(a);return Wa(a,c,d?Xa(a,b,d,k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,e),e):0)}}})),k.opacity||(m.cssHooks.opacity={"get":function(a,b){return Na.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},"set":function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===m.trim(f.replace(Ma,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Ma.test(f)?f.replace(Ma,e):f+" "+e)}}),m.cssHooks.marginRight=La(k.reliableMarginRight,(function(a,b){return b?m.swap(a,{"display":"inline-block"},Ja,[a,"marginRight"]):void 0})),m.each({"margin":"","padding":"","border":"Width"},(function(a,b){m.cssHooks[a+b]={"expand":function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+T[d]+b]=f[d]||f[d-2]||f[0];return e}},Ga.test(a)||(m.cssHooks[a+b].set=Wa)})),m.fn.extend({"css":function(a,b){return V(this,(function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ia(a),e=b.length;e>g;g++)f[b[g]]=m.css(a,b[g],!1,d);return f}return void 0!==c?m.style(a,b,c):m.css(a,b)}),a,b,arguments.length>1)},"show":function(){return Va(this,!0)},"hide":function(){return Va(this)},"toggle":function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each((function(){U(this)?m(this).show():m(this).hide()}))}}),m.Tween=Za,Za.prototype={"constructor":Za,"init":function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")},"cur":function(){var a=Za.propHooks[this.prop];return a&&a.get?a.get(this):Za.propHooks._default.get(this)},"run":function(a){var b,c=Za.propHooks[this.prop];return this.options.duration?this.pos=b=m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Za.propHooks._default.set(this),this}},Za.prototype.init.prototype=Za.prototype,Za.propHooks={"_default":{"get":function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,""))&&"auto"!==b?b:0:a.elem[a.prop]},"set":function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Za.propHooks.scrollTop=Za.propHooks.scrollLeft={"set":function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={"linear":function(a){return a},"swing":function(a){return.5-Math.cos(a*Math.PI)/2}},m.fx=Za.prototype.init,m.fx.step={};var $a,_a,ab=/^(?:toggle|show|hide)$/,bb=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cb=/queueHooks$/,db=[ib],eb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bb.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||"px"!==f&&+d)&&bb.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do{g/=h=h||".5",m.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};m.Animation=m.extend(kb,{"tweener":function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],eb[c]=eb[c]||[],eb[c].unshift(b)},"prefilter":function(a,b){b?db.unshift(a):db.push(a)}}),m.speed=function(a,b,c){var d=a&&"object"==typeof a?m.extend({},a):{"complete":c||!c&&b||m.isFunction(a)&&a,"duration":a,"easing":c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||!0===d.queue)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({"fadeTo":function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({"opacity":b},a,c,d)},"animate":function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kb(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||!1===f.queue?this.each(g):this.queue(f.queue,g)},"stop":function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each((function(){var b=!0,e=null!=a&&a+"queueHooks",f=m.timers,g=m._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&cb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&m.dequeue(this,a)}))},"finish":function(a){return!1!==a&&(a=a||"fx"),this.each((function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish}))}}),m.each(["toggle","show","hide"],(function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gb(b,!0),a,d,e)}})),m.each({"slideDown":gb("show"),"slideUp":gb("hide"),"slideToggle":gb("toggle"),"fadeIn":{"opacity":"show"},"fadeOut":{"opacity":"hide"},"fadeToggle":{"opacity":"toggle"}},(function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}})),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($a=m.now();c<b.length;c++)(a=b[c])()||b[c]!==a||b.splice(c--,1);b.length||m.fx.stop(),$a=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_a||(_a=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_a),_a=null},m.fx.speeds={"slow":600,"fast":200,"_default":400},m.fn.delay=function(a,b){return a=m.fx&&m.fx.speeds[a]||a,b=b||"fx",this.queue(b,(function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}}))},function(){var a,b,c,d,e;(b=y.createElement("div")).setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],e=(c=y.createElement("select")).appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute="t"!==b.className,k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized="/a"===d.getAttribute("href"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,(a=y.createElement("input")).setAttribute("value",""),k.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),k.radioValue="t"===a.value}();var lb=/\r/g;m.fn.extend({"val":function(a){var b,c,d,e=this[0];return arguments.length?(d=m.isFunction(a),this.each((function(c){var e;1===this.nodeType&&(null==(e=d?a.call(this,c,m(this).val()):a)?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,(function(a){return null==a?"":a+""}))),(b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()])&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))}))):e?(b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:"string"==typeof(c=e.value)?c.replace(lb,""):null==c?"":c:void 0}}),m.extend({"valHooks":{"option":{"get":function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},"select":{"get":function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(!(!(c=d[i]).selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f)return b;g.push(b)}return g},"set":function(a,b){for(var c,d,e=a.options,f=m.makeArray(b),g=e.length;g--;)if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],(function(){m.valHooks[this]={"set":function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}));var mb,nb,ob=m.expr.attrHandle,pb=/^(?:checked|selected)$/i,qb=k.getSetAttribute,rb=k.input;m.fn.extend({"attr":function(a,b){return V(this,m.attr,a,b,arguments.length>1)},"removeAttr":function(a){return this.each((function(){m.removeAttr(this,a)}))}}),m.extend({"attr":function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nb:mb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:null==(e=m.find.attr(a,b))?void 0:e:null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))},"removeAttr":function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)for(;c=f[e++];)d=m.propFix[c]||c,m.expr.match.bool.test(c)?rb&&qb||!pb.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(qb?c:d)},"attrHooks":{"type":{"set":function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),nb={"set":function(a,b,c){return!1===b?m.removeAttr(a,c):rb&&qb||!pb.test(c)?a.setAttribute(!qb&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),(function(a,b){var c=ob[b]||m.find.attr;ob[b]=rb&&qb||!pb.test(b)?function(a,b,d){var e,f;return d||(f=ob[b],ob[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,ob[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase("default-"+b)]?b.toLowerCase():null}})),rb&&qb||(m.attrHooks.value={"set":function(a,b,c){return m.nodeName(a,"input")?void(a.defaultValue=b):mb&&mb.set(a,b,c)}}),qb||(mb={"set":function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},ob.id=ob.name=ob.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={"get":function(a,b){var c=a.getAttributeNode(b)
;return c&&c.specified?c.value:void 0},"set":mb.set},m.attrHooks.contenteditable={"set":function(a,b,c){mb.set(a,""!==b&&b,c)}},m.each(["width","height"],(function(a,b){m.attrHooks[b]={"set":function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}}))),k.style||(m.attrHooks.style={"get":function(a){return a.style.cssText||void 0},"set":function(a,b){return a.style.cssText=b+""}});var sb=/^(?:input|select|textarea|button|object)$/i,tb=/^(?:a|area)$/i;m.fn.extend({"prop":function(a,b){return V(this,m.prop,a,b,arguments.length>1)},"removeProp":function(a){return a=m.propFix[a]||a,this.each((function(){try{this[a]=void 0,delete this[a]}catch(b){}}))}}),m.extend({"propFix":{"for":"htmlFor","class":"className"},"prop":function(a,b,c){var d,e,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return(1!==g||!m.isXMLDoc(a))&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},"propHooks":{"tabIndex":{"get":function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sb.test(a.nodeName)||tb.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],(function(a,b){m.propHooks[b]={"get":function(a){return a.getAttribute(b,4)}}})),k.optSelected||(m.propHooks.selected={"get":function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){m.propFix[this.toLowerCase()]=this})),k.enctype||(m.propFix.enctype="encoding");var ub=/[\t\r\n\f]/g;m.fn.extend({"addClass":function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a))return this.each((function(b){m(this).addClass(a.call(this,b,this.className))}));if(j)for(b=(a||"").match(E)||[];i>h;h++)if(d=1===(c=this[h]).nodeType&&(c.className?(" "+c.className+" ").replace(ub," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=m.trim(d),c.className!==g&&(c.className=g)}return this},"removeClass":function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a))return this.each((function(b){m(this).removeClass(a.call(this,b,this.className))}));if(j)for(b=(a||"").match(E)||[];i>h;h++)if(d=1===(c=this[h]).nodeType&&(c.className?(" "+c.className+" ").replace(ub," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?m.trim(d):"",c.className!==g&&(c.className=g)}return this},"toggleClass":function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=m(this),f=a.match(E)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||!1===a?"":m._data(this,"__className__")||"")})},"hasClass":function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ub," ").indexOf(b)>=0)return!0;return!1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}})),m.fn.extend({"hover":function(a,b){return this.mouseenter(a).mouseleave(b||a)},"bind":function(a,b,c){return this.on(a,null,b,c)},"unbind":function(a,b){return this.off(a,null,b)},"delegate":function(a,b,c,d){return this.on(b,a,c,d)},"undelegate":function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vb=m.now(),wb=/\?/,xb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xb,(function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")})))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{a.DOMParser?c=(new DOMParser).parseFromString(b,"text/xml"):((c=new ActiveXObject("Microsoft.XMLDOM")).async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var yb,zb,Ab=/#.*$/,Bb=/([?&])_=[^&]*/,Cb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Db=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Eb=/^(?:GET|HEAD)$/,Fb=/^\/\//,Gb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hb={},Ib={},Jb="*/".concat("*");try{zb=location.href}catch(Kb){(zb=y.createElement("a")).href="",zb=zb.href}yb=Gb.exec(zb.toLowerCase())||[],m.extend({"active":0,"lastModified":{},"etag":{},"ajaxSettings":{"url":zb,"type":"GET","isLocal":Db.test(yb[1]),"global":!0,"processData":!0,"async":!0,"contentType":"application/x-www-form-urlencoded; charset=UTF-8","accepts":{"*":Jb,"text":"text/plain","html":"text/html","xml":"application/xml, text/xml","json":"application/json, text/javascript"},"contents":{"xml":/xml/,"html":/html/,"json":/json/},"responseFields":{"xml":"responseXML","text":"responseText","json":"responseJSON"},"converters":{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},"flatOptions":{"url":!0,"context":!0}},"ajaxSetup":function(a,b){return b?Nb(Nb(a,m.ajaxSettings),b):Nb(m.ajaxSettings,a)},"ajaxPrefilter":Lb(Hb),"ajaxTransport":Lb(Ib),"ajax":function(a,b){function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Ob(k,v,c)),u=Pb(k,u,v,j),j?(k.ifModified&&((w=v.getResponseHeader("Last-Modified"))&&(m.lastModified[e]=w),(w=v.getResponseHeader("etag"))&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,j=!(s=u.error))):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={"readyState":0,"getResponseHeader":function(a){var b;if(2===t){if(!j)for(j={};b=Cb.exec(f);)j[b[1].toLowerCase()]=b[2];b=j[a.toLowerCase()]}return null==b?null:b},"getAllResponseHeaders":function(){return 2===t?f:null},"setRequestHeader":function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},"overrideMimeType":function(a){return t||(k.mimeType=a),this},"statusCode":function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},"abort":function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zb)+"").replace(Ab,"").replace(Fb,yb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Gb.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yb[1]&&c[2]===yb[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(yb[3]||("http:"===yb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mb(Hb,k,b,v),2===t)return v;for(d in(h=m.event&&k.global)&&0==m.active++&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Eb.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wb.test(e)?"&":"?")+k.data,delete k.data),!1===k.cache&&(k.url=Bb.test(e)?e.replace(Bb,"$1_="+vb++):e+(wb.test(e)?"&":"?")+"_="+vb++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&!1!==k.contentType||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Jb+"; q=0.01":""):k.accepts["*"]),k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(!1===k.beforeSend.call(l,v,k)||2===t))return v.abort();for(d in u="abort",{"success":1,"error":1,"complete":1})v[d](k[d]);if(i=Mb(Ib,k,b,v)){v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout((function(){v.abort("timeout")}),k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");return v},"getJSON":function(a,b,c){return m.get(a,b,c,"json")},"getScript":function(a,b){return m.get(a,void 0,b,"script")}}),m.each(["get","post"],(function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({"url":a,"type":b,"dataType":e,"data":c,"success":d})}})),m._evalUrl=function(a){return m.ajax({"url":a,"type":"GET","dataType":"script","async":!1,"global":!1,"throws":!0})},m.fn.extend({"wrapAll":function(a){if(m.isFunction(a))return this.each((function(b){m(this).wrapAll(a.call(this,b))}));if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map((function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a})).append(this)}return this},"wrapInner":function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},"wrap":function(a){var b=m.isFunction(a);return this.each((function(c){m(this).wrapAll(b?a.call(this,c):a)}))},"unwrap":function(){return this.parent().each((function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)})).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||m.css(a,"display"))},m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var Qb=/%20/g,Rb=/\[\]$/,Sb=/\r?\n/g,Tb=/^(?:submit|button|image|reset|file)$/i,Ub=/^(?:input|select|textarea|keygen)/i;m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,(function(){e(this.name,this.value)}));else for(c in a)Vb(c,a[c],b,e);return d.join("&").replace(Qb,"+")},m.fn.extend({"serialize":function(){return m.param(this.serializeArray())},"serializeArray":function(){return this.map((function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this})).filter((function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Ub.test(this.nodeName)&&!Tb.test(a)&&(this.checked||!W.test(a))})).map((function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,(function(a){return{"name":b.name,"value":a.replace(Sb,"\r\n")}})):{"name":b.name,"value":c.replace(Sb,"\r\n")}})).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zb()||$b()}:Zb;var Wb=0,Xb={},Yb=m.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",(function(){for(var a in Xb)Xb[a](void 0,!0)})),k.cors=!!Yb&&"withCredentials"in Yb,(Yb=k.ajax=!!Yb)&&m.ajaxTransport((function(a){var b;if(!a.crossDomain||k.cors)return{"send":function(c,d){var e,f=a.xhr(),g=++Wb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];for(e in a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest"),c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Xb[g],b=void 0,f.onreadystatechange=m.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xb[g]=b:b()},"abort":function(){b&&b(void 0,!0)}}})),m.ajaxSetup({"accepts":{"script":"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},"contents":{"script":/(?:java|ecma)script/},"converters":{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",(function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)})),m.ajaxTransport("script",(function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{"send":function(d,e){(b=y.createElement("script")).async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},"abort":function(){b&&b.onload(void 0,!0)}}}}));var _b=[],ac=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({"jsonp":"callback","jsonpCallback":function(){var a=_b.pop()||m.expando+"_"+vb++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",(function(b,c,d){var e,f,g,h=!1!==b.jsonp&&(ac.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ac.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ac,"$1"+e):!1!==b.jsonp&&(b.url+=(wb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always((function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_b.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0})),"script"):void 0})),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bc=m.fn.load;m.fn.load=function(a,b,c){if("string"!=typeof a&&bc)return bc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({"url":a,"type":f,"dataType":"html","data":b}).done((function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)})).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(a,b){m.fn[b]=function(a){return this.on(b,a)}})),m.expr.filters.animated=function(a){return m.grep(m.timers,(function(b){return a===b.elem})).length};var cc=a.document.documentElement;m.offset={"setOffset":function(a,b,c){var d,e,f,g,h,i,k=m.css(a,"position"),l=m(a),n={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),("absolute"===k||"fixed"===k)&&m.inArray("auto",[f,i])>-1?(g=(d=l.position()).top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),"using"in b?b.using.call(a,n):l.css(n)}},m.fn.extend({"offset":function(a){if(arguments.length)return void 0===a?this:this.each((function(b){m.offset.setOffset(this,a,b)}));var b,c,d={"top":0,"left":0},e=this[0],f=e&&e.ownerDocument;return f?(b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dc(f),{"top":d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),"left":d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d):void 0},"position":function(){if(this[0]){var a,b,c={"top":0,"left":0},d=this[0];return"fixed"===m.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{"top":b.top-c.top-m.css(d,"marginTop",!0),"left":b.left-c.left-m.css(d,"marginLeft",!0)}}},"offsetParent":function(){return this.map((function(){for(var a=this.offsetParent||cc;a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position");)a=a.offsetParent;return a||cc}))}}),m.each({"scrollLeft":"pageXOffset","scrollTop":"pageYOffset"},(function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,(function(a,d,e){var f=dc(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)}),a,d,arguments.length,null)}})),m.each(["top","left"],(function(a,b){m.cssHooks[b]=La(k.pixelPosition,(function(a,c){return c?(c=Ja(a,b),Ha.test(c)?m(a).position()[b]+"px":c):void 0}))})),m.each({"Height":"height","Width":"width"},(function(a,b){m.each({"padding":"inner"+a,"content":b,"":"outer"+a},(function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(!0===d||!0===e?"margin":"border");return V(this,(function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)}),b,f?d:void 0,f,null)}}))})),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return m}));var ec=a.jQuery,fc=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fc),b&&a.jQuery===m&&(a.jQuery=ec),m},typeof b===K&&(a.jQuery=a.$=m),m})),function($,undefined){var baseEasings,dataSpace="ui-effects-";$.effects={"effect":{}},function(jQuery,undefined){function clamp(value,prop,allowEmpty){var type=propTypes[prop.type]||{};return null==value?allowEmpty||!prop.def?null:prop.def:(value=type.floor?~~value:parseFloat(value),isNaN(value)?prop.def:type.mod?(value+type.mod)%type.mod:0>value?0:type.max<value?type.max:value)}function stringParse(string){var inst=color(),rgba=inst._rgba=[];return string=string.toLowerCase(),each(stringParsers,(function(i,parser){var parsed,match=parser.re.exec(string),values=match&&parser.parse(match),spaceName=parser.space||"rgba";if(values)return parsed=inst[spaceName](values),inst[spaces[spaceName].cache]=parsed[spaces[spaceName].cache],rgba=inst._rgba=parsed._rgba,!1})),rgba.length?("0,0,0,0"===rgba.join()&&jQuery.extend(rgba,colors.transparent),inst):colors[string]}function hue2rgb(p,q,h){return 6*(h=(h+1)%1)<1?p+(q-p)*h*6:2*h<1?q:3*h<2?p+(q-p)*(2/3-h)*6:p}var colors,stepHooks="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",rplusequals=/^([\-+])=\s*(\d+\.?\d*)/,stringParsers=[{"re":/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,"parse":function(execResult){return[execResult[1],execResult[2],execResult[3],execResult[4]]}},{"re":/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,"parse":function(execResult){return[2.55*execResult[1],2.55*execResult[2],2.55*execResult[3],execResult[4]]}},{"re":/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,"parse":function(execResult){return[parseInt(execResult[1],16),parseInt(execResult[2],16),parseInt(execResult[3],16)]}},{"re":/#([a-f0-9])([a-f0-9])([a-f0-9])/,"parse":function(execResult){return[parseInt(execResult[1]+execResult[1],16),parseInt(execResult[2]+execResult[2],16),parseInt(execResult[3]+execResult[3],16)]}},{"re":/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,"space":"hsla","parse":function(execResult){return[execResult[1],execResult[2]/100,execResult[3]/100,execResult[4]]}}],color=jQuery.Color=function(color,green,blue,alpha){return new jQuery.Color.fn.parse(color,green,blue,alpha)},spaces={"rgba":{"props":{"red":{"idx":0,"type":"byte"},"green":{"idx":1,"type":"byte"},"blue":{"idx":2,"type":"byte"}}},"hsla":{"props":{"hue":{"idx":0,"type":"degrees"},"saturation":{"idx":1,"type":"percent"},"lightness":{"idx":2,"type":"percent"}}}},propTypes={"byte":{"floor":!0,"max":255},"percent":{"max":1},"degrees":{"mod":360,"floor":!0}},support=color.support={},supportElem=jQuery("<p>")[0],each=jQuery.each;supportElem.style.cssText="background-color:rgba(1,1,1,.5)",support.rgba=supportElem.style.backgroundColor.indexOf("rgba")>-1,each(spaces,(function(spaceName,space){space.cache="_"+spaceName,space.props.alpha={"idx":3,"type":"percent","def":1}})),color.fn=jQuery.extend(color.prototype,{"parse":function(red,green,blue,alpha){if(red===undefined)return this._rgba=[null,null,null,null],this;(red.jquery||red.nodeType)&&(red=jQuery(red).css(green),green=undefined);var inst=this,type=jQuery.type(red),rgba=this._rgba=[];return green!==undefined&&(red=[red,green,blue,alpha],type="array"),"string"===type?this.parse(stringParse(red)||colors._default):"array"===type?(each(spaces.rgba.props,(function(key,prop){rgba[prop.idx]=clamp(red[prop.idx],prop)})),this):"object"===type?(each(spaces,red instanceof color?function(spaceName,space){red[space.cache]&&(inst[space.cache]=red[space.cache].slice())}:function(spaceName,space){var cache=space.cache;each(space.props,(function(key,prop){if(!inst[cache]&&space.to){if("alpha"===key||null==red[key])return;inst[cache]=space.to(inst._rgba)}inst[cache][prop.idx]=clamp(red[key],prop,!0)})),inst[cache]&&jQuery.inArray(null,inst[cache].slice(0,3))<0&&(inst[cache][3]=1,space.from&&(inst._rgba=space.from(inst[cache])))}),this):void 0},"is":function(compare){var is=color(compare),same=!0,inst=this;return each(spaces,(function(_,space){var localCache,isCache=is[space.cache];return isCache&&(localCache=inst[space.cache]||space.to&&space.to(inst._rgba)||[],each(space.props,(function(_,prop){if(null!=isCache[prop.idx])return same=isCache[prop.idx]===localCache[prop.idx]}))),same})),same},"_space":function(){var used=[],inst=this;return each(spaces,(function(spaceName,space){inst[space.cache]&&used.push(spaceName)})),used.pop()},"transition":function(other,distance){var end=color(other),spaceName=end._space(),space=spaces[spaceName],startColor=0===this.alpha()?color("transparent"):this,start=startColor[space.cache]||space.to(startColor._rgba),result=start.slice();return end=end[space.cache],each(space.props,(function(key,prop){var index=prop.idx,startValue=start[index],endValue=end[index],type=propTypes[prop.type]||{};null!==endValue&&(null===startValue?result[index]=endValue:(type.mod&&(endValue-startValue>type.mod/2?startValue+=type.mod:startValue-endValue>type.mod/2&&(startValue-=type.mod)),result[index]=clamp((endValue-startValue)*distance+startValue,prop)))})),this[spaceName](result)},"blend":function(opaque){if(1===this._rgba[3])return this;var rgb=this._rgba.slice(),a=rgb.pop(),blend=color(opaque)._rgba;return color(jQuery.map(rgb,(function(v,i){return(1-a)*blend[i]+a*v})))},"toRgbaString":function(){var prefix="rgba(",rgba=jQuery.map(this._rgba,(function(v,i){return null==v?i>2?1:0:v}));return 1===rgba[3]&&(rgba.pop(),prefix="rgb("),prefix+rgba.join()+")"},"toHslaString":function(){var prefix="hsla(",hsla=jQuery.map(this.hsla(),(function(v,i){return null==v&&(v=i>2?1:0),i&&i<3&&(v=Math.round(100*v)+"%"),v}));return 1===hsla[3]&&(hsla.pop(),prefix="hsl("),prefix+hsla.join()+")"},"toHexString":function(includeAlpha){var rgba=this._rgba.slice(),alpha=rgba.pop();return includeAlpha&&rgba.push(~~(255*alpha)),"#"+jQuery.map(rgba,(function(v){return 1===(v=(v||0).toString(16)).length?"0"+v:v})).join("")},"toString":function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),color.fn.parse.prototype=color.fn,spaces.hsla.to=function(rgba){if(null==rgba[0]||null==rgba[1]||null==rgba[2])return[null,null,null,rgba[3]];var h,s,r=rgba[0]/255,g=rgba[1]/255,b=rgba[2]/255,a=rgba[3],max=Math.max(r,g,b),min=Math.min(r,g,b),diff=max-min,add=max+min,l=.5*add;return h=min===max?0:r===max?60*(g-b)/diff+360:g===max?60*(b-r)/diff+120:60*(r-g)/diff+240,s=0===diff?0:l<=.5?diff/add:diff/(2-add),[Math.round(h)%360,s,l,null==a?1:a]},spaces.hsla.from=function(hsla){if(null==hsla[0]||null==hsla[1]||null==hsla[2])return[null,null,null,hsla[3]];var h=hsla[0]/360,s=hsla[1],l=hsla[2],a=hsla[3],q=l<=.5?l*(1+s):l+s-l*s,p=2*l-q;return[Math.round(255*hue2rgb(p,q,h+1/3)),Math.round(255*hue2rgb(p,q,h)),Math.round(255*hue2rgb(p,q,h-1/3)),a]},each(spaces,(function(spaceName,space){var props=space.props,cache=space.cache,to=space.to,from=space.from;color.fn[spaceName]=function(value){if(to&&!this[cache]&&(this[cache]=to(this._rgba)),value===undefined)return this[cache].slice();var ret,type=jQuery.type(value),arr="array"===type||"object"===type?value:arguments,local=this[cache].slice();return each(props,(function(key,prop){var val=arr["object"===type?key:prop.idx];null==val&&(val=local[prop.idx]),local[prop.idx]=clamp(val,prop)})),from?((ret=color(from(local)))[cache]=local,ret):color(local)},each(props,(function(key,prop){color.fn[key]||(color.fn[key]=function(value){var match,vtype=jQuery.type(value),fn="alpha"===key?this._hsla?"hsla":"rgba":spaceName,local=this[fn](),cur=local[prop.idx];return"undefined"===vtype?cur:("function"===vtype&&(value=value.call(this,cur),vtype=jQuery.type(value)),null==value&&prop.empty?this:("string"===vtype&&(match=rplusequals.exec(value))&&(value=cur+parseFloat(match[2])*("+"===match[1]?1:-1)),local[prop.idx]=value,this[fn](local)))})}))})),color.hook=function(hook){var hooks=hook.split(" ");each(hooks,(function(i,hook){jQuery.cssHooks[hook]={"set":function(elem,value){var parsed,curElem,backgroundColor="";if("transparent"!==value&&("string"!==jQuery.type(value)||(parsed=stringParse(value)))){if(value=color(parsed||value),!support.rgba&&1!==value._rgba[3]){for(curElem="backgroundColor"===hook?elem.parentNode:elem;(""===backgroundColor||"transparent"===backgroundColor)&&curElem&&curElem.style;)try{backgroundColor=jQuery.css(curElem,"backgroundColor"),curElem=curElem.parentNode}catch(e){}value=value.blend(backgroundColor&&"transparent"!==backgroundColor?backgroundColor:"_default")}value=value.toRgbaString()}try{elem.style[hook]=value}catch(e){}}},jQuery.fx.step[hook]=function(fx){fx.colorInit||(fx.start=color(fx.elem,hook),fx.end=color(fx.end),fx.colorInit=!0),jQuery.cssHooks[hook].set(fx.elem,fx.start.transition(fx.end,fx.pos))}}))},color.hook(stepHooks),jQuery.cssHooks.borderColor={"expand":function(value){var expanded={};return each(["Top","Right","Bottom","Left"],(function(i,part){expanded["border"+part+"Color"]=value})),expanded}},colors=jQuery.Color.names={"aqua":"#00ffff","black":"#000000","blue":"#0000ff","fuchsia":"#ff00ff","gray":"#808080","green":"#008000","lime":"#00ff00","maroon":"#800000","navy":"#000080","olive":"#808000","purple":"#800080","red":"#ff0000","silver":"#c0c0c0","teal":"#008080","white":"#ffffff","yellow":"#ffff00","transparent":[null,null,null,0],"_default":"#ffffff"}}(jQuery),function(){function getElementStyles(elem){var key,len,style=elem.ownerDocument.defaultView?elem.ownerDocument.defaultView.getComputedStyle(elem,null):elem.currentStyle,styles={};if(style&&style.length&&style[0]&&style[style[0]])for(len=style.length;len--;)"string"==typeof style[key=style[len]]&&(styles[$.camelCase(key)]=style[key]);else for(key in style)"string"==typeof style[key]&&(styles[key]=style[key]);return styles}function styleDifference(oldStyle,newStyle){var name,value,diff={};for(name in newStyle)value=newStyle[name],oldStyle[name]!==value&&(shorthandStyles[name]||!$.fx.step[name]&&isNaN(parseFloat(value))||(diff[name]=value));return diff}var orig,classAnimationActions=["add","remove","toggle"],shorthandStyles={"border":1,"borderBottom":1,"borderColor":1,"borderLeft":1,"borderRight":1,"borderTop":1,"borderWidth":1,"margin":1,"padding":1};$.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(_,prop){$.fx.step[prop]=function(fx){("none"!==fx.end&&!fx.setAttr||1===fx.pos&&!fx.setAttr)&&(jQuery.style(fx.elem,prop,fx.end),fx.setAttr=!0)}})),$.fn.addBack||($.fn.addBack=function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}),$.effects.animateClass=function(value,duration,easing,callback){var o=$.speed(duration,easing,callback);return this.queue((function(){var applyClassChange,animated=$(this),baseClass=animated.attr("class")||"",allAnimations=o.children?animated.find("*").addBack():animated;allAnimations=allAnimations.map((function(){return{"el":$(this),"start":getElementStyles(this)}})),(applyClassChange=function(){$.each(classAnimationActions,(function(i,action){value[action]&&animated[action+"Class"](value[action])}))})(),allAnimations=allAnimations.map((function(){return this.end=getElementStyles(this.el[0]),this.diff=styleDifference(this.start,this.end),this})),animated.attr("class",baseClass),allAnimations=allAnimations.map((function(){var styleInfo=this,dfd=$.Deferred(),opts=$.extend({},o,{"queue":!1,"complete":function(){dfd.resolve(styleInfo)}});return this.el.animate(this.diff,opts),dfd.promise()})),$.when.apply($,allAnimations.get()).done((function(){applyClassChange(),$.each(arguments,(function(){var el=this.el;$.each(this.diff,(function(key){el.css(key,"")}))})),o.complete.call(animated[0])}))}))},$.fn.extend({"addClass":(orig=$.fn.addClass,function(classNames,speed,easing,callback){return speed?$.effects.animateClass.call(this,{"add":classNames},speed,easing,callback):orig.apply(this,arguments)}),"removeClass":function(orig){return function(classNames,speed,easing,callback){return arguments.length>1?$.effects.animateClass.call(this,{"remove":classNames},speed,easing,callback):orig.apply(this,arguments)}}($.fn.removeClass),"toggleClass":function(orig){return function(classNames,force,speed,easing,callback){return"boolean"==typeof force||force===undefined?speed?$.effects.animateClass.call(this,force?{"add":classNames}:{"remove":classNames},speed,easing,callback):orig.apply(this,arguments):$.effects.animateClass.call(this,{"toggle":classNames},force,speed,easing)}}($.fn.toggleClass),"switchClass":function(remove,add,speed,easing,callback){return $.effects.animateClass.call(this,{"add":add,"remove":remove},speed,easing,callback)}})}(),function(){function _normalizeArguments(effect,options,speed,callback){return $.isPlainObject(effect)&&(options=effect,effect=effect.effect),effect={"effect":effect},null==options&&(options={}),$.isFunction(options)&&(callback=options,speed=null,options={}),("number"==typeof options||$.fx.speeds[options])&&(callback=speed,speed=options,options={}),$.isFunction(speed)&&(callback=speed,speed=null),options&&$.extend(effect,options),speed=speed||options.duration,effect.duration=$.fx.off?0:"number"==typeof speed?speed:speed in $.fx.speeds?$.fx.speeds[speed]:$.fx.speeds._default,effect.complete=callback||options.complete,effect}function standardAnimationOption(option){return!(option&&"number"!=typeof option&&!$.fx.speeds[option])||("string"==typeof option&&!$.effects.effect[option]||(!!$.isFunction(option)||"object"==typeof option&&!option.effect))}var orig;$.extend($.effects,{"version":"1.10.4","save":function(element,set){for(var i=0;i<set.length;i++)null!==set[i]&&element.data(dataSpace+set[i],element[0].style[set[i]])},"restore":function(element,set){var val,i;for(i=0;i<set.length;i++)null!==set[i]&&((val=element.data(dataSpace+set[i]))===undefined&&(val=""),element.css(set[i],val))},"setMode":function(el,mode){return"toggle"===mode&&(mode=el.is(":hidden")?"show":"hide"),mode},"getBaseline":function(origin,original){var y,x;switch(origin[0]){case"top":y=0;break;case"middle":y=.5;break;case"bottom":y=1;break;default:y=origin[0]/original.height}switch(origin[1]){case"left":x=0;break;case"center":x=.5;break;case"right":x=1;break;default:x=origin[1]/original.width}return{"x":x,"y":y}},"createWrapper":function(element){if(element.parent().is(".ui-effects-wrapper"))return element.parent();var props={"width":element.outerWidth(!0),"height":element.outerHeight(!0),"float":element.css("float")},wrapper=$("<div></div>").addClass("ui-effects-wrapper").css({"fontSize":"100%","background":"transparent","border":"none","margin":0,
"padding":0}),size={"width":element.width(),"height":element.height()},active=document.activeElement;try{active.id}catch(e){active=document.body}return element.wrap(wrapper),(element[0]===active||$.contains(element[0],active))&&$(active).focus(),wrapper=element.parent(),"static"===element.css("position")?(wrapper.css({"position":"relative"}),element.css({"position":"relative"})):($.extend(props,{"position":element.css("position"),"zIndex":element.css("z-index")}),$.each(["top","left","bottom","right"],(function(i,pos){props[pos]=element.css(pos),isNaN(parseInt(props[pos],10))&&(props[pos]="auto")})),element.css({"position":"relative","top":0,"left":0,"right":"auto","bottom":"auto"})),element.css(size),wrapper.css(props).show()},"removeWrapper":function(element){var active=document.activeElement;return element.parent().is(".ui-effects-wrapper")&&(element.parent().replaceWith(element),(element[0]===active||$.contains(element[0],active))&&$(active).focus()),element},"setTransition":function(element,list,factor,value){return value=value||{},$.each(list,(function(i,x){var unit=element.cssUnit(x);unit[0]>0&&(value[x]=unit[0]*factor+unit[1])})),value}}),$.fn.extend({"effect":function(){function run(next){function done(){$.isFunction(complete)&&complete.call(elem[0]),$.isFunction(next)&&next()}var elem=$(this),complete=args.complete,mode=args.mode;(elem.is(":hidden")?"hide"===mode:"show"===mode)?(elem[mode](),done()):effectMethod.call(elem[0],args,done)}var args=_normalizeArguments.apply(this,arguments),mode=args.mode,queue=args.queue,effectMethod=$.effects.effect[args.effect];return $.fx.off||!effectMethod?mode?this[mode](args.duration,args.complete):this.each((function(){args.complete&&args.complete.call(this)})):!1===queue?this.each(run):this.queue(queue||"fx",run)},"show":(orig=$.fn.show,function(option){if(standardAnimationOption(option))return orig.apply(this,arguments);var args=_normalizeArguments.apply(this,arguments);return args.mode="show",this.effect.call(this,args)}),"hide":function(orig){return function(option){if(standardAnimationOption(option))return orig.apply(this,arguments);var args=_normalizeArguments.apply(this,arguments);return args.mode="hide",this.effect.call(this,args)}}($.fn.hide),"toggle":function(orig){return function(option){if(standardAnimationOption(option)||"boolean"==typeof option)return orig.apply(this,arguments);var args=_normalizeArguments.apply(this,arguments);return args.mode="toggle",this.effect.call(this,args)}}($.fn.toggle),"cssUnit":function(key){var style=this.css(key),val=[];return $.each(["em","px","%","pt"],(function(i,unit){style.indexOf(unit)>0&&(val=[parseFloat(style),unit])})),val}})}(),baseEasings={},$.each(["Quad","Cubic","Quart","Quint","Expo"],(function(i,name){baseEasings[name]=function(p){return Math.pow(p,i+2)}})),$.extend(baseEasings,{"Sine":function(p){return 1-Math.cos(p*Math.PI/2)},"Circ":function(p){return 1-Math.sqrt(1-p*p)},"Elastic":function(p){return 0===p||1===p?p:-Math.pow(2,8*(p-1))*Math.sin((80*(p-1)-7.5)*Math.PI/15)},"Back":function(p){return p*p*(3*p-2)},"Bounce":function(p){for(var pow2,bounce=4;p<((pow2=Math.pow(2,--bounce))-1)/11;);return 1/Math.pow(4,3-bounce)-7.5625*Math.pow((3*pow2-2)/22-p,2)}}),$.each(baseEasings,(function(name,easeIn){$.easing["easeIn"+name]=easeIn,$.easing["easeOut"+name]=function(p){return 1-easeIn(1-p)},$.easing["easeInOut"+name]=function(p){return p<.5?easeIn(2*p)/2:1-easeIn(-2*p+2)/2}}))}(jQuery),function($){$.effects.effect.highlight=function(o,done){var elem=$(this),props=["backgroundImage","backgroundColor","opacity"],mode=$.effects.setMode(elem,o.mode||"show"),animation={"backgroundColor":elem.css("backgroundColor")};"hide"===mode&&(animation.opacity=0),$.effects.save(elem,props),elem.show().css({"backgroundImage":"none","backgroundColor":o.color||"#ffff99"}).animate(animation,{"queue":!1,"duration":o.duration,"easing":o.easing,"complete":function(){"hide"===mode&&elem.hide(),$.effects.restore(elem,props),done()}})}}(jQuery),function($,undefined){"use strict";var rails;$.rails!==undefined&&$.error("jquery-ujs has already been loaded!");var $document=$(document);$.rails=rails={"linkClickSelector":"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]","buttonClickSelector":"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)","inputChangeSelector":"select[data-remote], input[data-remote], textarea[data-remote]","formSubmitSelector":"form","formInputClickSelector":"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])","disableSelector":"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled","enableSelector":"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled","requiredInputSelector":"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])","fileInputSelector":"input[name][type=file]:not([disabled])","linkDisableSelector":"a[data-disable-with], a[data-disable]","buttonDisableSelector":"button[data-remote][data-disable-with], button[data-remote][data-disable]","csrfToken":function(){return $("meta[name=csrf-token]").attr("content")},"csrfParam":function(){return $("meta[name=csrf-param]").attr("content")},"CSRFProtection":function(xhr){var token=rails.csrfToken();token&&xhr.setRequestHeader("X-CSRF-Token",token)},"refreshCSRFTokens":function(){$('form input[name="'+rails.csrfParam()+'"]').val(rails.csrfToken())},"fire":function(obj,name,data){var event=$.Event(name);return obj.trigger(event,data),!1!==event.result},"confirm":function(message){return confirm(message)},"ajax":function(options){return $.ajax(options)},"href":function(element){return element[0].href},"isRemote":function(element){return element.data("remote")!==undefined&&!1!==element.data("remote")},"handleRemote":function(element){var method,url,data,withCredentials,dataType,options;if(rails.fire(element,"ajax:before")){if(withCredentials=element.data("with-credentials")||null,dataType=element.data("type")||$.ajaxSettings&&$.ajaxSettings.dataType,element.is("form")){method=element.data("ujs:submit-button-formmethod")||element.attr("method"),url=element.data("ujs:submit-button-formaction")||element.attr("action"),data=$(element[0]).serializeArray();var button=element.data("ujs:submit-button");button&&(data.push(button),element.data("ujs:submit-button",null)),element.data("ujs:submit-button-formmethod",null),element.data("ujs:submit-button-formaction",null)}else element.is(rails.inputChangeSelector)?(method=element.data("method"),url=element.data("url"),data=element.serialize(),element.data("params")&&(data=data+"&"+element.data("params"))):element.is(rails.buttonClickSelector)?(method=element.data("method")||"get",url=element.data("url"),data=element.serialize(),element.data("params")&&(data=data+"&"+element.data("params"))):(method=element.data("method"),url=rails.href(element),data=element.data("params")||null);return options={"type":method||"GET","data":data,"dataType":dataType,"beforeSend":function(xhr,settings){if(settings.dataType===undefined&&xhr.setRequestHeader("accept","*/*;q=0.5, "+settings.accepts.script),!rails.fire(element,"ajax:beforeSend",[xhr,settings]))return!1;element.trigger("ajax:send",xhr)},"success":function(data,status,xhr){element.trigger("ajax:success",[data,status,xhr])},"complete":function(xhr,status){element.trigger("ajax:complete",[xhr,status])},"error":function(xhr,status,error){element.trigger("ajax:error",[xhr,status,error])},"crossDomain":rails.isCrossDomain(url)},withCredentials&&(options.xhrFields={"withCredentials":withCredentials}),url&&(options.url=url),rails.ajax(options)}return!1},"isCrossDomain":function(url){var originAnchor=document.createElement("a");originAnchor.href=location.href;var urlAnchor=document.createElement("a");try{return urlAnchor.href=url,urlAnchor.href=urlAnchor.href,!((!urlAnchor.protocol||":"===urlAnchor.protocol)&&!urlAnchor.host||originAnchor.protocol+"//"+originAnchor.host==urlAnchor.protocol+"//"+urlAnchor.host)}catch(e){return!0}},"handleMethod":function(link){var href=rails.href(link),method=link.data("method"),target=link.attr("target"),csrfToken=rails.csrfToken(),csrfParam=rails.csrfParam(),form=$('<form method="post" action="'+href+'"></form>'),metadataInput='<input name="_method" value="'+method+'" type="hidden" />';csrfParam===undefined||csrfToken===undefined||rails.isCrossDomain(href)||(metadataInput+='<input name="'+csrfParam+'" value="'+csrfToken+'" type="hidden" />'),target&&form.attr("target",target),form.hide().append(metadataInput).appendTo("body"),form.submit()},"formElements":function(form,selector){return form.is("form")?$(form[0].elements).filter(selector):form.find(selector)},"disableFormElements":function(form){rails.formElements(form,rails.disableSelector).each((function(){rails.disableFormElement($(this))}))},"disableFormElement":function(element){var method,replacement;method=element.is("button")?"html":"val",(replacement=element.data("disable-with"))!==undefined&&(element.data("ujs:enable-with",element[method]()),element[method](replacement)),element.prop("disabled",!0),element.data("ujs:disabled",!0)},"enableFormElements":function(form){rails.formElements(form,rails.enableSelector).each((function(){rails.enableFormElement($(this))}))},"enableFormElement":function(element){var method=element.is("button")?"html":"val";element.data("ujs:enable-with")!==undefined&&(element[method](element.data("ujs:enable-with")),element.removeData("ujs:enable-with")),element.prop("disabled",!1),element.removeData("ujs:disabled")},"allowAction":function(element){var callback,message=element.data("confirm"),answer=!1;if(!message)return!0;if(rails.fire(element,"confirm")){try{answer=rails.confirm(message)}catch(e){(console.error||console.log).call(console,e.stack||e)}callback=rails.fire(element,"confirm:complete",[answer])}return answer&&callback},"blankInputs":function(form,specifiedSelector,nonBlank){var input,radiosForNameWithNoneSelected,radioName,foundInputs=$(),selector=specifiedSelector||"input,textarea",requiredInputs=form.find(selector),checkedRadioButtonNames={};return requiredInputs.each((function(){(input=$(this)).is("input[type=radio]")?(radioName=input.attr("name"),checkedRadioButtonNames[radioName]||(0===form.find('input[type=radio]:checked[name="'+radioName+'"]').length&&(radiosForNameWithNoneSelected=form.find('input[type=radio][name="'+radioName+'"]'),foundInputs=foundInputs.add(radiosForNameWithNoneSelected)),checkedRadioButtonNames[radioName]=radioName)):(input.is("input[type=checkbox],input[type=radio]")?input.is(":checked"):!!input.val())===nonBlank&&(foundInputs=foundInputs.add(input))})),!!foundInputs.length&&foundInputs},"nonBlankInputs":function(form,specifiedSelector){return rails.blankInputs(form,specifiedSelector,!0)},"stopEverything":function(e){return $(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},"disableElement":function(element){var replacement=element.data("disable-with");replacement!==undefined&&(element.data("ujs:enable-with",element.html()),element.html(replacement)),element.bind("click.railsDisable",(function(e){return rails.stopEverything(e)})),element.data("ujs:disabled",!0)},"enableElement":function(element){element.data("ujs:enable-with")!==undefined&&(element.html(element.data("ujs:enable-with")),element.removeData("ujs:enable-with")),element.unbind("click.railsDisable"),element.removeData("ujs:disabled")}},rails.fire($document,"rails:attachBindings")&&($.ajaxPrefilter((function(options,originalOptions,xhr){options.crossDomain||rails.CSRFProtection(xhr)})),$(window).on("pageshow.rails",(function(){$($.rails.enableSelector).each((function(){var element=$(this);element.data("ujs:disabled")&&$.rails.enableFormElement(element)})),$($.rails.linkDisableSelector).each((function(){var element=$(this);element.data("ujs:disabled")&&$.rails.enableElement(element)}))})),$document.on("ajax:complete",rails.linkDisableSelector,(function(){rails.enableElement($(this))})),$document.on("ajax:complete",rails.buttonDisableSelector,(function(){rails.enableFormElement($(this))})),$document.on("click.rails",rails.linkClickSelector,(function(e){var link=$(this),method=link.data("method"),data=link.data("params"),metaClick=e.metaKey||e.ctrlKey;if(!rails.allowAction(link))return rails.stopEverything(e);if(!metaClick&&link.is(rails.linkDisableSelector)&&rails.disableElement(link),rails.isRemote(link)){if(metaClick&&(!method||"GET"===method)&&!data)return!0;var handleRemote=rails.handleRemote(link);return!1===handleRemote?rails.enableElement(link):handleRemote.fail((function(){rails.enableElement(link)})),!1}return method?(rails.handleMethod(link),!1):void 0})),$document.on("click.rails",rails.buttonClickSelector,(function(e){var button=$(this);if(!rails.allowAction(button)||!rails.isRemote(button))return rails.stopEverything(e);button.is(rails.buttonDisableSelector)&&rails.disableFormElement(button);var handleRemote=rails.handleRemote(button);return!1===handleRemote?rails.enableFormElement(button):handleRemote.fail((function(){rails.enableFormElement(button)})),!1})),$document.on("change.rails",rails.inputChangeSelector,(function(e){var link=$(this);return rails.allowAction(link)&&rails.isRemote(link)?(rails.handleRemote(link),!1):rails.stopEverything(e)})),$document.on("submit.rails",rails.formSubmitSelector,(function(e){var blankRequiredInputs,nonBlankFileInputs,form=$(this),remote=rails.isRemote(form);if(!rails.allowAction(form))return rails.stopEverything(e);if(form.attr("novalidate")===undefined)if(form.data("ujs:formnovalidate-button")===undefined){if((blankRequiredInputs=rails.blankInputs(form,rails.requiredInputSelector,!1))&&rails.fire(form,"ajax:aborted:required",[blankRequiredInputs]))return rails.stopEverything(e)}else form.data("ujs:formnovalidate-button",undefined);if(remote){if(nonBlankFileInputs=rails.nonBlankInputs(form,rails.fileInputSelector)){setTimeout((function(){rails.disableFormElements(form)}),13);var aborted=rails.fire(form,"ajax:aborted:file",[nonBlankFileInputs]);return aborted||setTimeout((function(){rails.enableFormElements(form)}),13),aborted}return rails.handleRemote(form),!1}setTimeout((function(){rails.disableFormElements(form)}),13)})),$document.on("click.rails",rails.formInputClickSelector,(function(event){var button=$(this);if(!rails.allowAction(button))return rails.stopEverything(event);var name=button.attr("name"),data=name?{"name":name,"value":button.val()}:null,form=button.closest("form");0===form.length&&(form=$("#"+button.attr("form"))),form.data("ujs:submit-button",data),form.data("ujs:formnovalidate-button",button.attr("formnovalidate")),form.data("ujs:submit-button-formaction",button.attr("formaction")),form.data("ujs:submit-button-formmethod",button.attr("formmethod"))})),$document.on("ajax:send.rails",rails.formSubmitSelector,(function(event){this===event.target&&rails.disableFormElements($(this))})),$document.on("ajax:complete.rails",rails.formSubmitSelector,(function(event){this===event.target&&rails.enableFormElements($(this))})),$((function(){rails.refreshCSRFTokens()})))}(jQuery),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(n){return n<10?"0"+n:n}function quote(string){return escapable.lastIndex=0,escapable.test(string)?'"'+string.replace(escapable,(function(a){var c=meta[a];return"string"==typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,partial,mind=gap,value=holder[key];switch(value&&"object"==typeof value&&"function"==typeof value.toJSON&&(value=value.toJSON(key)),"function"==typeof rep&&(value=rep.call(holder,key,value)),typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value)return"null";if(gap+=indent,partial=[],"[object Array]"===Object.prototype.toString.apply(value)){for(length=value.length,i=0;i<length;i+=1)partial[i]=str(i,value)||"null";return v=0===partial.length?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]",gap=mind,v}if(rep&&"object"==typeof rep)for(length=rep.length,i=0;i<length;i+=1)"string"==typeof rep[i]&&(v=str(k=rep[i],value))&&partial.push(quote(k)+(gap?": ":":")+v);else for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=str(k,value))&&partial.push(quote(k)+(gap?": ":":")+v);return v=0===partial.length?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}",gap=mind,v}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(value,replacer,space){var i;if(gap="",indent="","number"==typeof space)for(i=0;i<space;i+=1)indent+=" ";else"string"==typeof space&&(indent=space);if(rep=replacer,replacer&&"function"!=typeof replacer&&("object"!=typeof replacer||"number"!=typeof replacer.length))throw new Error("JSON.stringify");return str("",{"":value})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(void 0!==(v=walk(value,k))?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(window,undefined){"use strict";var History=window.History=window.History||{},jQuery=window.jQuery;if(void 0!==History.Adapter)throw new Error("History.js Adapter has already been loaded...");History.Adapter={"bind":function(el,event,callback){jQuery(el).bind(event,callback)},"trigger":function(el,event,extra){jQuery(el).trigger(event,extra)},"extractEventData":function(key,event,extra){return event&&event.originalEvent&&event.originalEvent[key]||extra&&extra[key]||undefined},"onDomLoad":function(callback){jQuery(callback)}}}(window),function(window){"use strict";var document=window.document,setTimeout=window.setTimeout||setTimeout,clearTimeout=window.clearTimeout||clearTimeout,setInterval=window.setInterval||setInterval,History=window.History=window.History||{};if(void 0!==History.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");History.initHtml4=function(){if(void 0!==History.initHtml4.initialized)return!1;History.initHtml4.initialized=!0,History.enabled=!0,History.savedHashes=[],History.isLastHash=function(newHash){return newHash===History.getHashByIndex()},History.isHashEqual=function(newHash,oldHash){return(newHash=encodeURIComponent(newHash).replace(/%25/g,"%"))===(oldHash=encodeURIComponent(oldHash).replace(/%25/g,"%"))},History.saveHash=function(newHash){return!History.isLastHash(newHash)&&(History.savedHashes.push(newHash),!0)},History.getHashByIndex=function(index){return void 0===index?History.savedHashes[History.savedHashes.length-1]:index<0?History.savedHashes[History.savedHashes.length+index]:History.savedHashes[index]},History.discardedHashes={},History.discardedStates={},History.discardState=function(discardedState,forwardState,backState){var discardObject,discardedStateHash=History.getHashByState(discardedState);return discardObject={"discardedState":discardedState,"backState":backState,"forwardState":forwardState},History.discardedStates[discardedStateHash]=discardObject,!0},History.discardHash=function(discardedHash,forwardState,backState){var discardObject={"discardedHash":discardedHash,"backState":backState,"forwardState":forwardState};return History.discardedHashes[discardedHash]=discardObject,!0},History.discardedState=function(State){var StateHash=History.getHashByState(State);return History.discardedStates[StateHash]||!1},History.discardedHash=function(hash){return History.discardedHashes[hash]||!1},History.recycleState=function(State){var StateHash=History.getHashByState(State);return History.discardedState(State)&&delete History.discardedStates[StateHash],!0},History.emulated.hashChange&&(History.hashChangeInit=function(){History.checkerFunction=null;var iframeId,iframe,lastIframeHash,checkerRunning,lastDocumentHash="",startedWithHash=Boolean(History.getHash());return History.isInternetExplorer()?(iframeId="historyjs-iframe",(iframe=document.createElement("iframe")).setAttribute("id",iframeId),iframe.setAttribute("src","#"),iframe.style.display="none",document.body.appendChild(iframe),iframe.contentWindow.document.open(),iframe.contentWindow.document.close(),lastIframeHash="",checkerRunning=!1,History.checkerFunction=function(){if(checkerRunning)return!1;checkerRunning=!0;var documentHash=History.getHash(),iframeHash=History.getHash(iframe.contentWindow.document);return documentHash!==lastDocumentHash?(lastDocumentHash=documentHash,iframeHash!==documentHash&&(lastIframeHash=iframeHash=documentHash,iframe.contentWindow.document.open(),iframe.contentWindow.document.close(),iframe.contentWindow.document.location.hash=History.escapeHash(documentHash)),History.Adapter.trigger(window,"hashchange")):iframeHash!==lastIframeHash&&(lastIframeHash=iframeHash,startedWithHash&&""===iframeHash?History.back():History.setHash(iframeHash,!1)),checkerRunning=!1,!0}):History.checkerFunction=function(){var documentHash=History.getHash()||"";return documentHash!==lastDocumentHash&&(lastDocumentHash=documentHash,History.Adapter.trigger(window,"hashchange")),!0},History.intervalList.push(setInterval(History.checkerFunction,History.options.hashChangeInterval)),!0},History.Adapter.onDomLoad(History.hashChangeInit)),History.emulated.pushState&&(History.onHashChange=function(event){var discardObject,currentUrl=event&&event.newURL||History.getLocationHref(),currentHash=encodeURI(History.getHashByUrl(currentUrl)),currentState=null;return History.isLastHash(currentHash)?(History.busy(!1),!1):(History.doubleCheckComplete(),History.saveHash(currentHash),currentHash&&History.isTraditionalAnchor(currentHash)?(History.Adapter.trigger(window,"anchorchange"),History.busy(!1),!1):(currentState=History.extractState(History.getFullUrl(currentHash||History.getLocationHref()),!0),History.isLastSavedState(currentState)?(History.busy(!1),!1):(History.getHashByState(currentState),(discardObject=History.discardedState(currentState))?(History.getHashByIndex(-2)===History.getHashByState(discardObject.forwardState)?History.back(!1):History.forward(!1),!1):(History.pushState(currentState.data,currentState.title,currentState.url,!1),!0))))},History.Adapter.bind(window,"hashchange",History.onHashChange),History.pushState=function(data,title,url,queue){if(url=encodeURI(url).replace(/%25/g,"%"),History.getHashByUrl(url))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(!1!==queue&&History.busy())return History.pushQueue({"scope":History,"callback":History.pushState,"args":arguments,"queue":queue}),!1;History.busy(!0);var newState=History.createStateObject(data,title,url),newStateHash=History.getHashByState(newState),oldState=History.getState(!1),oldStateHash=History.getHashByState(oldState),html4Hash=History.getHash(),wasExpected=History.expectedStateId==newState.id;return History.storeState(newState),History.expectedStateId=newState.id,History.recycleState(newState),History.setTitle(newState),newStateHash===oldStateHash?(History.busy(!1),!1):(History.saveState(newState),wasExpected||History.Adapter.trigger(window,"statechange"),History.isHashEqual(newStateHash,html4Hash)||History.isHashEqual(newStateHash,History.getShortUrl(History.getLocationHref()))||History.setHash(newStateHash,!1),History.busy(!1),!0)},History.replaceState=function(data,title,url,queue){if(url=encodeURI(url).replace(/%25/g,"%"),History.getHashByUrl(url))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(!1!==queue&&History.busy())return History.pushQueue({"scope":History,"callback":History.replaceState,"args":arguments,"queue":queue}),!1;History.busy(!0);var newState=History.createStateObject(data,title,url),newStateHash=History.getHashByState(newState),oldState=History.getState(!1),oldStateHash=History.getHashByState(oldState),previousState=History.getStateByIndex(-2);return History.discardState(oldState,newState,previousState),newStateHash===oldStateHash?(History.storeState(newState),History.expectedStateId=newState.id,History.recycleState(newState),History.setTitle(newState),History.saveState(newState),History.Adapter.trigger(window,"statechange"),History.busy(!1)):History.pushState(newState.data,newState.title,newState.url,!1),!0})},void 0!==History.init&&History.init()}(window),function(window,undefined){"use strict";var console=window.console||undefined,document=window.document,navigator=window.navigator,sessionStorage=!1,setTimeout=window.setTimeout,clearTimeout=window.clearTimeout,setInterval=window.setInterval,clearInterval=window.clearInterval,JSON=window.JSON,alert=window.alert,History=window.History=window.History||{},history=window.history;try{(sessionStorage=window.sessionStorage).setItem("TEST","1"),sessionStorage.removeItem("TEST")}catch(e){sessionStorage=!1}if(JSON.stringify=JSON.stringify||JSON.encode,JSON.parse=JSON.parse||JSON.decode,void 0!==History.init)throw new Error("History.js Core has already been loaded...");History.init=function(){return void 0!==History.Adapter&&(void 0!==History.initCore&&History.initCore(),void 0!==History.initHtml4&&History.initHtml4(),!0)},History.initCore=function(){if(void 0!==History.initCore.initialized)return!1;if(History.initCore.initialized=!0,History.options=History.options||{},History.options.hashChangeInterval=History.options.hashChangeInterval||100,History.options.safariPollInterval=History.options.safariPollInterval||500,History.options.doubleCheckInterval=History.options.doubleCheckInterval||500,History.options.disableSuid=History.options.disableSuid||!1,History.options.storeInterval=History.options.storeInterval||1e3,History.options.busyDelay=History.options.busyDelay||250,History.options.debug=History.options.debug||!1,History.options.initialTitle=History.options.initialTitle||document.title,History.options.html4Mode=History.options.html4Mode||!1,History.options.delayInit=History.options.delayInit||!1,History.intervalList=[],History.clearAllIntervals=function(){var i,il=History.intervalList;if(null!=il){for(i=0;i<il.length;i++)clearInterval(il[i]);History.intervalList=null}},History.debug=function(){History.options.debug&&History.log.apply(History,arguments)},History.log=function(){var message,i,n,args,arg,consoleExists=!(void 0===console||void 0===console.log||void 0===console.log.apply),textarea=document.getElementById("log");for(consoleExists?(message=(args=Array.prototype.slice.call(arguments)).shift(),void 0!==console.debug?console.debug.apply(console,[message,args]):console.log.apply(console,[message,args])):message="\n"+arguments[0]+"\n",i=1,n=arguments.length;i<n;++i){if("object"==typeof(arg=arguments[i])&&void 0!==JSON)try{arg=JSON.stringify(arg)}catch(Exception){}message+="\n"+arg+"\n"}return textarea?(textarea.value+=message+"\n-----\n",textarea.scrollTop=textarea.scrollHeight-textarea.clientHeight):consoleExists||alert(message),!0},History.getInternetExplorerMajorVersion=function(){return History.getInternetExplorerMajorVersion.cached=void 0!==History.getInternetExplorerMajorVersion.cached?History.getInternetExplorerMajorVersion.cached:function(){for(var v=3,div=document.createElement("div"),all=div.getElementsByTagName("i");(div.innerHTML="<!--[if gt IE "+ ++v+"]><i></i><![endif]-->")&&all[0];);return v>4&&v}()},History.isInternetExplorer=function(){return History.isInternetExplorer.cached=void 0!==History.isInternetExplorer.cached?History.isInternetExplorer.cached:Boolean(History.getInternetExplorerMajorVersion())},History.options.html4Mode?History.emulated={"pushState":!0,"hashChange":!0}:History.emulated={"pushState":!Boolean(window.history&&window.history.pushState&&window.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(navigator.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(navigator.userAgent))),"hashChange":Boolean(!("onhashchange"in window||"onhashchange"in document)||History.isInternetExplorer()&&History.getInternetExplorerMajorVersion()<8)},History.enabled=!History.emulated.pushState,History.bugs={"setHash":Boolean(!History.emulated.pushState&&"Apple Computer, Inc."===navigator.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(navigator.userAgent)),"safariPoll":Boolean(!History.emulated.pushState&&"Apple Computer, Inc."===navigator.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(navigator.userAgent)),"ieDoubleCheck":Boolean(History.isInternetExplorer()&&History.getInternetExplorerMajorVersion()<8),"hashEscape":Boolean(History.isInternetExplorer()&&History.getInternetExplorerMajorVersion()<7)},History.isEmptyObject=function(obj){for(var name in obj)if(obj.hasOwnProperty(name))return!1;return!0},History.cloneObject=function(obj){var hash,newObj;return obj?(hash=JSON.stringify(obj),newObj=JSON.parse(hash)):newObj={},newObj},History.getRootUrl=function(){var rootUrl=document.location.protocol+"//"+(document.location.hostname||document.location.host);return document.location.port&&(rootUrl+=":"+document.location.port),rootUrl+="/"},History.getBaseHref=function(){var baseElements=document.getElementsByTagName("base"),baseHref="";return 1===baseElements.length&&(baseHref=baseElements[0].href.replace(/[^\/]+$/,"")),(baseHref=baseHref.replace(/\/+$/,""))&&(baseHref+="/"),baseHref},History.getBaseUrl=function(){return History.getRootUrl()},History.getPageUrl=function(){return((History.getState(!1,!1)||{}).url||History.getLocationHref()).replace(/\/+$/,"").replace(/[^\/]+$/,(function(part){return/\./.test(part)?part:part+"/"}))},History.getBasePageUrl=function(){return History.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,(function(part){return/[^\/]$/.test(part)?"":part})).replace(/\/+$/,"")+"/"},History.getFullUrl=function(url,allowBaseHref){var fullUrl=url,firstChar=url.substring(0,1);return allowBaseHref=void 0===allowBaseHref||allowBaseHref,/[a-z]+\:\/\//.test(url)||(fullUrl="/"===firstChar?History.getRootUrl()+url.replace(/^\/+/,""):"#"===firstChar?History.getPageUrl().replace(/#.*/,"")+url:"?"===firstChar?History.getPageUrl().replace(/[\?#].*/,"")+url:allowBaseHref?History.getBaseUrl()+url.replace(/^(\.\/)+/,""):History.getBasePageUrl()+url.replace(/^(\.\/)+/,"")),fullUrl.replace(/\#$/,"")},History.getShortUrl=function(url){var shortUrl=url,baseUrl=History.getBaseUrl(),rootUrl=History.getRootUrl();return History.emulated.pushState&&(shortUrl=shortUrl.replace(baseUrl,"/")),shortUrl=(shortUrl=shortUrl.replace(rootUrl,"/")).replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},History.getLocationHref=function(doc){return(doc=doc||document).URL===doc.location.href?doc.location.href:doc.location.href===decodeURIComponent(doc.URL)?doc.URL:doc.location.hash&&decodeURIComponent(doc.location.href.replace(/^[^#]+/,""))===doc.location.hash||-1==doc.URL.indexOf("#")&&-1!=doc.location.href.indexOf("#")?doc.location.href:doc.URL||doc.location.href},History.store={},History.idToState=History.idToState||{},History.stateToId=History.stateToId||{},History.urlToId=History.urlToId||{},History.storedStates=History.storedStates||[],
History.savedStates=History.savedStates||[],History.normalizeStore=function(){History.store.idToState=History.store.idToState||{},History.store.urlToId=History.store.urlToId||{},History.store.stateToId=History.store.stateToId||{}},History.getState=function(friendly,create){void 0===friendly&&(friendly=!0),void 0===create&&(create=!0);var State=History.getLastSavedState();return!State&&create&&(State=History.createStateObject()),friendly&&((State=History.cloneObject(State)).url=State.cleanUrl||State.url),State},History.getIdByState=function(newState){var str,id=History.extractId(newState.url);if(!id)if(str=History.getStateString(newState),void 0!==History.stateToId[str])id=History.stateToId[str];else if(void 0!==History.store.stateToId[str])id=History.store.stateToId[str];else{for(;id=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),void 0!==History.idToState[id]||void 0!==History.store.idToState[id];);History.stateToId[str]=id,History.idToState[id]=newState}return id},History.normalizeState=function(oldState){var newState,dataNotEmpty;return oldState&&"object"==typeof oldState||(oldState={}),void 0!==oldState.normalized?oldState:(oldState.data&&"object"==typeof oldState.data||(oldState.data={}),(newState={}).normalized=!0,newState.title=oldState.title||"",newState.url=History.getFullUrl(oldState.url?oldState.url:History.getLocationHref()),newState.hash=History.getShortUrl(newState.url),newState.data=History.cloneObject(oldState.data),newState.id=History.getIdByState(newState),newState.cleanUrl=newState.url.replace(/\??\&_suid.*/,""),newState.url=newState.cleanUrl,dataNotEmpty=!History.isEmptyObject(newState.data),(newState.title||dataNotEmpty)&&!0!==History.options.disableSuid&&(newState.hash=History.getShortUrl(newState.url).replace(/\??\&_suid.*/,""),/\?/.test(newState.hash)||(newState.hash+="?"),newState.hash+="&_suid="+newState.id),newState.hashedUrl=History.getFullUrl(newState.hash),(History.emulated.pushState||History.bugs.safariPoll)&&History.hasUrlDuplicate(newState)&&(newState.url=newState.hashedUrl),newState)},History.createStateObject=function(data,title,url){var State={"data":data,"title":title,"url":url};return State=History.normalizeState(State)},History.getStateById=function(id){return id=String(id),History.idToState[id]||History.store.idToState[id]||undefined},History.getStateString=function(passedState){var cleanedState;return cleanedState={"data":History.normalizeState(passedState).data,"title":passedState.title,"url":passedState.url},JSON.stringify(cleanedState)},History.getStateId=function(passedState){return History.normalizeState(passedState).id},History.getHashByState=function(passedState){return History.normalizeState(passedState).hash},History.extractId=function(url_or_hash){var parts,tmp;return tmp=-1!=url_or_hash.indexOf("#")?url_or_hash.split("#")[0]:url_or_hash,(parts=/(.*)\&_suid=([0-9]+)$/.exec(tmp))&&parts[1]||url_or_hash,(parts?String(parts[2]||""):"")||!1},History.isTraditionalAnchor=function(url_or_hash){return!/[\/\?\.]/.test(url_or_hash)},History.extractState=function(url_or_hash,create){var id,url,State=null;return create=create||!1,(id=History.extractId(url_or_hash))&&(State=History.getStateById(id)),State||(url=History.getFullUrl(url_or_hash),(id=History.getIdByUrl(url)||!1)&&(State=History.getStateById(id)),State||!create||History.isTraditionalAnchor(url_or_hash)||(State=History.createStateObject(null,null,url))),State},History.getIdByUrl=function(url){return History.urlToId[url]||History.store.urlToId[url]||undefined},History.getLastSavedState=function(){return History.savedStates[History.savedStates.length-1]||undefined},History.getLastStoredState=function(){return History.storedStates[History.storedStates.length-1]||undefined},History.hasUrlDuplicate=function(newState){var oldState;return(oldState=History.extractState(newState.url))&&oldState.id!==newState.id},History.storeState=function(newState){return History.urlToId[newState.url]=newState.id,History.storedStates.push(History.cloneObject(newState)),newState},History.isLastSavedState=function(newState){var isLast=!1;return History.savedStates.length&&(isLast=newState.id===History.getLastSavedState().id),isLast},History.saveState=function(newState){return!History.isLastSavedState(newState)&&(History.savedStates.push(History.cloneObject(newState)),!0)},History.getStateByIndex=function(index){return void 0===index?History.savedStates[History.savedStates.length-1]:index<0?History.savedStates[History.savedStates.length+index]:History.savedStates[index]},History.getCurrentIndex=function(){return History.savedStates.length<1?0:History.savedStates.length-1},History.getHash=function(doc){var url=History.getLocationHref(doc);return History.getHashByUrl(url)},History.unescapeHash=function(hash){var result=History.normalizeHash(hash);return result=decodeURIComponent(result)},History.normalizeHash=function(hash){return hash.replace(/[^#]*#/,"").replace(/#.*/,"")},History.setHash=function(hash,queue){var State,pageUrl;return!1!==queue&&History.busy()?(History.pushQueue({"scope":History,"callback":History.setHash,"args":arguments,"queue":queue}),!1):(History.busy(!0),(State=History.extractState(hash,!0))&&!History.emulated.pushState?History.pushState(State.data,State.title,State.url,!1):History.getHash()!==hash&&(History.bugs.setHash?(pageUrl=History.getPageUrl(),History.pushState(null,null,pageUrl+"#"+hash,!1)):document.location.hash="!"+hash),History)},History.escapeHash=function(hash){var result=History.normalizeHash(hash);return result=window.encodeURIComponent(result),History.bugs.hashEscape||(result=result.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),result},History.getHashByUrl=function(url){var hash=String(url).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return(hash=History.unescapeHash(hash)).length>0&&"!"==hash.charAt(0)&&(hash=hash.substring(1)),hash},History.setTitle=function(newState){var firstState,title=newState.title;title||(firstState=History.getStateByIndex(0))&&firstState.url===newState.url&&(title=firstState.title||History.options.initialTitle);try{document.getElementsByTagName("title")[0].innerHTML=title.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(Exception){}return document.title=title,History},History.queues=[],History.busy=function(value){if(void 0!==value?History.busy.flag=value:void 0===History.busy.flag&&(History.busy.flag=!1),!History.busy.flag){clearTimeout(History.busy.timeout);var fireNext=function(){var i,queue,item;if(!History.busy.flag)for(i=History.queues.length-1;i>=0;--i)0!==(queue=History.queues[i]).length&&(item=queue.shift(),History.fireQueueItem(item),History.busy.timeout=setTimeout(fireNext,History.options.busyDelay))};History.busy.timeout=setTimeout(fireNext,History.options.busyDelay)}return History.busy.flag},History.busy.flag=!1,History.fireQueueItem=function(item){return item.callback.apply(item.scope||History,item.args||[])},History.pushQueue=function(item){return History.queues[item.queue||0]=History.queues[item.queue||0]||[],History.queues[item.queue||0].push(item),History},History.queue=function(item,queue){return"function"==typeof item&&(item={"callback":item}),void 0!==queue&&(item.queue=queue),History.busy()?History.pushQueue(item):History.fireQueueItem(item),History},History.clearQueue=function(){return History.busy.flag=!1,History.queues=[],History},History.stateChanged=!1,History.doubleChecker=!1,History.doubleCheckComplete=function(){return History.stateChanged=!0,History.doubleCheckClear(),History},History.doubleCheckClear=function(){return History.doubleChecker&&(clearTimeout(History.doubleChecker),History.doubleChecker=!1),History},History.doubleCheck=function(tryAgain){return History.stateChanged=!1,History.doubleCheckClear(),History.bugs.ieDoubleCheck&&(History.doubleChecker=setTimeout((function(){return History.doubleCheckClear(),History.stateChanged||tryAgain(),!0}),History.options.doubleCheckInterval)),History},History.safariStatePoll=function(){var urlState=History.extractState(History.getLocationHref());if(!History.isLastSavedState(urlState))return urlState||History.createStateObject(),History.Adapter.trigger(window,"popstate"),History},History.back=function(queue){return!1!==queue&&History.busy()?(History.pushQueue({"scope":History,"callback":History.back,"args":arguments,"queue":queue}),!1):(History.busy(!0),History.doubleCheck((function(){History.back(!1)})),history.go(-1),!0)},History.forward=function(queue){return!1!==queue&&History.busy()?(History.pushQueue({"scope":History,"callback":History.forward,"args":arguments,"queue":queue}),!1):(History.busy(!0),History.doubleCheck((function(){History.forward(!1)})),history.go(1),!0)},History.go=function(index,queue){var i;if(index>0)for(i=1;i<=index;++i)History.forward(queue);else{if(!(index<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(i=-1;i>=index;--i)History.back(queue)}return History},History.emulated.pushState){var emptyFunction=function(){};History.pushState=History.pushState||emptyFunction,History.replaceState=History.replaceState||emptyFunction}else History.onPopState=function(event,extra){var currentHash,currentState,stateId=!1,newState=!1;return History.doubleCheckComplete(),(currentHash=History.getHash())?((currentState=History.extractState(currentHash||History.getLocationHref(),!0))?History.replaceState(currentState.data,currentState.title,currentState.url,!1):(History.Adapter.trigger(window,"anchorchange"),History.busy(!1)),History.expectedStateId=!1,!1):((newState=(stateId=History.Adapter.extractEventData("state",event,extra)||!1)?History.getStateById(stateId):History.expectedStateId?History.getStateById(History.expectedStateId):History.extractState(History.getLocationHref()))||(newState=History.createStateObject(null,null,History.getLocationHref())),History.expectedStateId=!1,History.isLastSavedState(newState)?(History.busy(!1),!1):(History.storeState(newState),History.saveState(newState),History.setTitle(newState),History.Adapter.trigger(window,"statechange"),History.busy(!1),!0))},History.Adapter.bind(window,"popstate",History.onPopState),History.pushState=function(data,title,url,queue){if(History.getHashByUrl(url)&&History.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==queue&&History.busy())return History.pushQueue({"scope":History,"callback":History.pushState,"args":arguments,"queue":queue}),!1;History.busy(!0);var newState=History.createStateObject(data,title,url);return History.isLastSavedState(newState)?History.busy(!1):(History.storeState(newState),History.expectedStateId=newState.id,history.pushState(newState.id,newState.title,newState.url),History.Adapter.trigger(window,"popstate")),!0},History.replaceState=function(data,title,url,queue){if(History.getHashByUrl(url)&&History.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==queue&&History.busy())return History.pushQueue({"scope":History,"callback":History.replaceState,"args":arguments,"queue":queue}),!1;History.busy(!0);var newState=History.createStateObject(data,title,url);return History.isLastSavedState(newState)?History.busy(!1):(History.storeState(newState),History.expectedStateId=newState.id,history.replaceState(newState.id,newState.title,newState.url),History.Adapter.trigger(window,"popstate")),!0};if(sessionStorage){try{History.store=JSON.parse(sessionStorage.getItem("History.store"))||{}}catch(err){History.store={}}History.normalizeStore()}else History.store={},History.normalizeStore();History.Adapter.bind(window,"unload",History.clearAllIntervals),History.saveState(History.storeState(History.extractState(History.getLocationHref(),!0))),sessionStorage&&(History.onUnload=function(){var currentStore,item,currentStoreString;try{currentStore=JSON.parse(sessionStorage.getItem("History.store"))||{}}catch(err){currentStore={}}for(item in currentStore.idToState=currentStore.idToState||{},currentStore.urlToId=currentStore.urlToId||{},currentStore.stateToId=currentStore.stateToId||{},History.idToState)History.idToState.hasOwnProperty(item)&&(currentStore.idToState[item]=History.idToState[item]);for(item in History.urlToId)History.urlToId.hasOwnProperty(item)&&(currentStore.urlToId[item]=History.urlToId[item]);for(item in History.stateToId)History.stateToId.hasOwnProperty(item)&&(currentStore.stateToId[item]=History.stateToId[item]);History.store=currentStore,History.normalizeStore(),currentStoreString=JSON.stringify(currentStore);try{sessionStorage.setItem("History.store",currentStoreString)}catch(e){if(e.code!==DOMException.QUOTA_EXCEEDED_ERR)throw e;sessionStorage.length&&(sessionStorage.removeItem("History.store"),sessionStorage.setItem("History.store",currentStoreString))}},History.intervalList.push(setInterval(History.onUnload,History.options.storeInterval)),History.Adapter.bind(window,"beforeunload",History.onUnload),History.Adapter.bind(window,"unload",History.onUnload)),History.emulated.pushState||(History.bugs.safariPoll&&History.intervalList.push(setInterval(History.safariStatePoll,History.options.safariPollInterval)),"Apple Computer, Inc."!==navigator.vendor&&"Mozilla"!==(navigator.appCodeName||"")||History.Adapter.bind(window,"hashchange",(function(){History.Adapter.trigger(window,"popstate")})))}}(window),function(jQuery,window){"use strict";var matched,browser;if(jQuery.uaMatch=function(ua){ua=ua.toLowerCase();var match=/(opr)[\/]([\w.]+)/.exec(ua)||/(chrome)[ \/]([\w.]+)/.exec(ua)||/(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[],platform_match=/(ipad)/.exec(ua)||/(iphone)/.exec(ua)||/(android)/.exec(ua)||/(windows phone)/.exec(ua)||/(win)/.exec(ua)||/(mac)/.exec(ua)||/(linux)/.exec(ua)||[];return{"browser":match[3]||match[1]||"","version":match[2]||"0","platform":platform_match[0]||""}},browser={},(matched=jQuery.uaMatch(window.navigator.userAgent)).browser&&(browser[matched.browser]=!0,browser.version=matched.version,browser.versionNumber=parseFloat(matched.version,10)),matched.platform&&(browser[matched.platform]=!0),(browser.chrome||browser.opr||browser.safari)&&(browser.webkit=!0),browser.rv){var ie="msie";matched.browser=ie,browser[ie]=!0}if(browser.opr){var opera="opera";matched.browser=opera,browser[opera]=!0}browser.name=matched.browser,browser.platform=matched.platform,jQuery.browser=browser}(jQuery,window),function($){"use strict";$.ajaxPrefilter((function(options){if(options.iframe)return options.originalURL=options.url,"iframe"})),$.ajaxTransport("iframe",(function(options,origOptions){function cleanUp(){form&&(files.each((function(i,file){var $file=$(file);$file.data("clone").replaceWith($file)})),form.remove(),form=null),iframe.bind("load",(function(){iframe.remove()})),iframe.attr("src","javascript:false;")}var form=null,iframe=null,name="iframe-"+$.now(),files=$(options.files).filter(":file:enabled"),accepts=null;if(options.dataTypes.shift(),options.data=origOptions.data,files.length)return form=$("<form enctype='multipart/form-data' method='post'></form>").hide().attr({"action":options.originalURL,"target":name}),"string"==typeof options.data&&options.data.length>0&&$.error("data must not be serialized"),$.each(options.data||{},(function(name,value){$.isPlainObject(value)&&(name=value.name,value=value.value),$("<input type='hidden' />").attr({"name":name,"value":value}).appendTo(form)})),$("<input type='hidden' value='IFrame' name='X-Requested-With' />").appendTo(form),accepts=options.dataTypes[0]&&options.accepts[options.dataTypes[0]]?options.accepts[options.dataTypes[0]]+("*"!==options.dataTypes[0]?", */*; q=0.01":""):options.accepts["*"],$("<input type='hidden' name='X-HTTP-Accept'>").attr("value",accepts).appendTo(form),files.after((function(){var $this=$(this),$clone=$this.clone().prop("disabled",!0);return $this.data("clone",$clone),$clone})).next(),files.appendTo(form),{"send":function(headers,completeCallback){(iframe=$("<iframe src='about:blank' name='"+name+"' id='"+name+"' style='display:none'></iframe>")).one("load",(function(){iframe.one("load",(function(){var doc=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,root=doc.documentElement?doc.documentElement:doc.body,textarea=root.getElementsByTagName("textarea")[0],type=textarea&&textarea.getAttribute("data-type")||null,status=textarea&&textarea.getAttribute("data-status")||200,statusText=textarea&&textarea.getAttribute("data-statusText")||"OK",content={"html":root.innerHTML,"text":type?textarea.value:root?root.textContent||root.innerText:null};cleanUp(),completeCallback(status,statusText,content,type?"Content-Type: "+type:null)})),form[0].submit()})),$("body").append(form,iframe)},"abort":function(){null!==iframe&&(iframe.unbind("load").attr("src","about:blank"),cleanUp())}}}))}(jQuery),function($){var remotipart;$.remotipart=remotipart={"setup":function(form){var button=form.data("ujs:submit-button"),csrfParam=$('meta[name="csrf-param"]').attr("content"),csrfToken=$('meta[name="csrf-token"]').attr("content"),csrfInput=form.find('input[name="'+csrfParam+'"]').length;form.one("ajax:beforeSend.remotipart",(function(e,xhr,settings){return delete settings.beforeSend,settings.iframe=!0,settings.files=$($.rails.fileInputSelector,form),settings.data=form.serializeArray(),button&&settings.data.push(button),settings.processData=!1,void 0===settings.dataType&&(settings.dataType="script *"),settings.data.push({"name":"remotipart_submitted","value":!0}),csrfToken&&csrfParam&&!csrfInput&&settings.data.push({"name":csrfParam,"value":csrfToken}),$.rails.fire(form,"ajax:remotipartSubmit",[xhr,settings])&&($.rails.ajax(settings).always((function(data){$.rails.fire(form,"ajax:remotipartComplete",[data])})),setTimeout((function(){$.rails.disableFormElements(form)}),20)),remotipart.teardown(form),!1})).data("remotipartSubmitted",!0)},"teardown":function(form){form.unbind("ajax:beforeSend.remotipart").removeData("remotipartSubmitted")}},$(document).on("ajax:aborted:file","form",(function(){var form=$(this);return remotipart.setup(form),$.rails.handleRemote(form),!1}))}(jQuery),function($){$.extend({"bez":function(coOrdArray){var encodedFuncName="bez_"+$.makeArray(arguments).join("_").replace(/\./g,"p");if("function"!=typeof $.easing[encodedFuncName]){var polyBez=function(p1,p2){var A=[null,null],B=[null,null],C=[null,null],bezCoOrd=function(t,ax){return C[ax]=3*p1[ax],B[ax]=3*(p2[ax]-p1[ax])-C[ax],A[ax]=1-C[ax]-B[ax],t*(C[ax]+t*(B[ax]+t*A[ax]))},xDeriv=function(t){return C[0]+t*(2*B[0]+3*A[0]*t)},xForT=function(t){for(var z,x=t,i=0;++i<14&&(z=bezCoOrd(x,0)-t,!(Math.abs(z)<.001));)x-=z/xDeriv(x);return x};return function(t){return bezCoOrd(xForT(t),1)}};$.easing[encodedFuncName]=function(x,t,b,c,d){return c*polyBez([coOrdArray[0],coOrdArray[1]],[coOrdArray[2],coOrdArray[3]])(t/d)+b}}return encodedFuncName}})}(jQuery),function($){$.deparam=function(params,coerce){var obj={},coerce_types={"true":!0,"false":!1,"null":null};return $.each(params.replace(/\+/g," ").split("&"),(function(j,v){var val,param=v.split("="),key=decodeURIComponent(param[0]),cur=obj,i=0,keys=key.split("]["),keys_last=keys.length-1;if(/\[/.test(keys[0])&&/\]$/.test(keys[keys_last])?(keys[keys_last]=keys[keys_last].replace(/\]$/,""),keys_last=(keys=keys.shift().split("[").concat(keys)).length-1):keys_last=0,2===param.length)if(val=decodeURIComponent(param[1]),coerce&&(val=val&&!isNaN(val)&&+val+""===val?+val:"undefined"===val?void 0:void 0!==coerce_types[val]?coerce_types[val]:val),keys_last)for(;i<=keys_last;i++)cur=cur[key=""===keys[i]?cur.length:keys[i]]=i<keys_last?cur[key]||(keys[i+1]&&isNaN(keys[i+1])?{}:[]):val;else $.isArray(obj[key])?obj[key].push(val):void 0!==obj[key]?obj[key]=[obj[key],val]:obj[key]=val;else key&&(obj[key]=coerce?void 0:"")})),obj}}(jQuery),function(){var $,validateElement,validateForm,validatorsFor,__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++)if(i in this&&this[i]===item)return i;return-1};($=jQuery).fn.disableClientSideValidations=function(){return ClientSideValidations.disable(this),this},$.fn.enableClientSideValidations=function(){return this.filter(ClientSideValidations.selectors.forms).each((function(){return ClientSideValidations.enablers.form(this)})),this.filter(ClientSideValidations.selectors.inputs).each((function(){return ClientSideValidations.enablers.input(this)})),this},$.fn.resetClientSideValidations=function(){return this.filter(ClientSideValidations.selectors.forms).each((function(){return ClientSideValidations.reset(this)})),this},$.fn.validate=function(){return this.filter(ClientSideValidations.selectors.forms).each((function(){return $(this).enableClientSideValidations()})),this},$.fn.isValid=function(validators){var obj;return(obj=$(this[0])).is("form")?validateForm(obj,validators):validateElement(obj,validatorsFor(this[0].name,validators))},validatorsFor=function(name,validators){var captures,validator_name;if(captures=name.match(/\[(\w+_attributes)\].*\[(\w+)\]$/))for(validator_name in validators)validators[validator_name],validator_name.match("\\["+captures[1]+"\\].*\\[\\]\\["+captures[2]+"\\]$")&&(name=name.replace(/\[[\da-z_]+\]\[(\w+)\]$/g,"[][$1]"));return validators[name]||{}},validateForm=function(form,validators){var valid;return form.trigger("form:validate:before.ClientSideValidations"),valid=!0,form.find(ClientSideValidations.selectors.validate_inputs).each((function(){return $(this).isValid(validators)||(valid=!1),!0})),valid?form.trigger("form:validate:pass.ClientSideValidations"):form.trigger("form:validate:fail.ClientSideValidations"),form.trigger("form:validate:after.ClientSideValidations"),valid},validateElement=function(element,validators){var afterValidate,destroyInputName,executeValidators,failElement,local,passElement,remote;return element.trigger("element:validate:before.ClientSideValidations"),passElement=function(){return element.trigger("element:validate:pass.ClientSideValidations").data("valid",null)},failElement=function(message){return element.trigger("element:validate:fail.ClientSideValidations",message).data("valid",!1),!1},afterValidate=function(){return!1!==element.trigger("element:validate:after.ClientSideValidations").data("valid")},executeValidators=function(context){var fn,kind,message,valid,validator,_i,_len,_ref;for(kind in valid=!0,context)if(fn=context[kind],validators[kind]){for(_i=0,_len=(_ref=validators[kind]).length;_i<_len;_i++)if(validator=_ref[_i],message=fn.call(context,element,validator)){valid=failElement(message);break}if(!valid)break}return valid},destroyInputName=element.attr("name").replace(/\[([^\]]*?)\]$/,"[_destroy]"),"1"===$("input[name='"+destroyInputName+"']").val()?(passElement(),afterValidate()):(!1===element.data("changed")||(element.data("changed",!1),local=ClientSideValidations.validators.local,remote=ClientSideValidations.validators.remote,executeValidators(local)&&executeValidators(remote)&&passElement()),afterValidate())},void 0===window.ClientSideValidations&&(window.ClientSideValidations={}),void 0===window.ClientSideValidations.forms&&(window.ClientSideValidations.forms={}),window.ClientSideValidations.selectors={"inputs":':input:not(button):not([type="submit"])[name]:visible:enabled',"validate_inputs":":input:enabled:visible[data-validate]","forms":"form[data-validate]"},window.ClientSideValidations.reset=function(form){var $form,key;for(key in $form=$(form),ClientSideValidations.disable(form),form.ClientSideValidations.settings.validators)form.ClientSideValidations.removeError($form.find("[name='"+key+"']"));return ClientSideValidations.enablers.form(form)},window.ClientSideValidations.disable=function(target){var $target;return($target=$(target)).off(".ClientSideValidations"),$target.is("form")?ClientSideValidations.disable($target.find(":input")):($target.removeData("valid"),$target.removeData("changed"),$target.filter(":input").each((function(){return $(this).removeAttr("data-validate")})))},window.ClientSideValidations.enablers={"form":function(form){var $form,binding,event,_ref;for(event in $form=$(form),form.ClientSideValidations={"settings":window.ClientSideValidations.forms[$form.attr("id")],"addError":function(element,message){return ClientSideValidations.formBuilders[form.ClientSideValidations.settings.type].add(element,form.ClientSideValidations.settings,message)},"removeError":function(element){return ClientSideValidations.formBuilders[form.ClientSideValidations.settings.type].remove(element,form.ClientSideValidations.settings)}},_ref={"submit.ClientSideValidations":function(eventData){if(!$form.isValid(form.ClientSideValidations.settings.validators))return eventData.preventDefault(),eventData.stopImmediatePropagation()},"ajax:beforeSend.ClientSideValidations":function(eventData){if(eventData.target===this)return $form.isValid(form.ClientSideValidations.settings.validators)},"form:validate:after.ClientSideValidations":function(eventData){return ClientSideValidations.callbacks.form.after($form,eventData)},"form:validate:before.ClientSideValidations":function(eventData){return ClientSideValidations.callbacks.form.before($form,eventData)},"form:validate:fail.ClientSideValidations":function(eventData){return ClientSideValidations.callbacks.form.fail($form,eventData)},"form:validate:pass.ClientSideValidations":function(eventData){return ClientSideValidations.callbacks.form.pass($form,eventData)}})binding=_ref[event],$form.on(event,binding);return $form.find(ClientSideValidations.selectors.inputs).each((function(){return ClientSideValidations.enablers.input(this)}))},"input":function(input){var $form,$input,binding,event,form,_ref;for(event in $input=$(input),form=input.form,$form=$(form),_ref={"focusout.ClientSideValidations":function(){return $(this).isValid(form.ClientSideValidations.settings.validators)},"change.ClientSideValidations":function(){return $(this).data("changed",!0)},"element:validate:after.ClientSideValidations":function(eventData){return ClientSideValidations.callbacks.element.after($(this),eventData)},"element:validate:before.ClientSideValidations":function(eventData){return ClientSideValidations.callbacks.element.before($(this),eventData)},"element:validate:fail.ClientSideValidations":function(eventData,message){var element;return element=$(this),ClientSideValidations.callbacks.element.fail(element,message,(function(){return form.ClientSideValidations.addError(element,message)}),eventData)},"element:validate:pass.ClientSideValidations":function(eventData){var element;return element=$(this),ClientSideValidations.callbacks.element.pass(element,(function(){return form.ClientSideValidations.removeError(element)}),eventData)}})binding=_ref[event],$input.filter(":not(:radio)").each((function(){return $(this).attr("data-validate",!0)})).on(event,binding);return $input.filter(":checkbox").on("change.ClientSideValidations",(function(){return $(this).isValid(form.ClientSideValidations.settings.validators)})),$input.filter("[id$=_confirmation]").each((function(){var confirmationElement,element,_ref1,_results;if(confirmationElement=$(this),(element=$form.find("#"+this.id.match(/(.+)_confirmation/)[1]+":input"))[0]){var validateConfirmElement=function(){return void 0===confirmationElement.data("valid")||confirmationElement.data("changed",!0).isValid(form.ClientSideValidations.settings.validators)};for(event in _results=[],_ref1={"focusout.ClientSideValidations":validateConfirmElement,"keyup.ClientSideValidations":validateConfirmElement})binding=_ref1[event],_results.push($("#"+element.attr("id")).on(event,binding));return _results}}))}},window.ClientSideValidations.validators={"all":function(){return jQuery.extend({},ClientSideValidations.validators.local,ClientSideValidations.validators.remote)},"local":{"absence":function(element,options){if(!/^\s*$/.test(element.val()||""))return options.message},"presence":function(element,options){if(/^\s*$/.test(element.val()||""))return options.message},"acceptance":function(element,options){var _ref;switch(element.attr("type")){case"checkbox":if(!element.prop("checked"))return options.message;break;case"text":if(element.val()!==((null!=(_ref=options.accept)?_ref.toString():void 0)||"1"))return options.message}},"format":function(element,options){var message;if(message=this.presence(element,options)){if(!0===options.allow_blank)return;return message}return options.with&&!options.with.test(element.val())||options.without&&options.without.test(element.val())?options.message:void 0},"numericality":function(element,options){var CHECKS,check,check_value,form,operator,val;if(val=jQuery.trim(element.val()),!ClientSideValidations.patterns.numericality.test(val)){if(!0===options.allow_blank&&this.presence(element,{"message":options.messages.numericality}))return;return options.messages.numericality}if(val=val.replace(new RegExp("\\"+ClientSideValidations.number_format.delimiter,"g"),"").replace(new RegExp("\\"+ClientSideValidations.number_format.separator,"g"),"."),options.only_integer&&!/^[+-]?\d+$/.test(val))return options.messages.only_integer;for(check in CHECKS={"greater_than":">","greater_than_or_equal_to":">=","equal_to":"==","less_than":"<","less_than_or_equal_to":"<="},form=$(element[0].form),CHECKS)if(operator=CHECKS[check],null!=options[check]){if(!isNaN(parseFloat(options[check]))&&isFinite(options[check]))check_value=options[check];else{if(1!==form.find("[name*="+options[check]+"]").size())return;check_value=form.find("[name*="+options[check]+"]").val()}if(!new Function("return "+val+" "+operator+" "+check_value)())return options.messages[check]}return!options.odd||parseInt(val,10)%2?options.even&&parseInt(val,10)%2?options.messages.even:void 0:options.messages.odd},"length":function(element,options){var CHECKS,blankOptions,check,message,operator,tokenized_length,tokenizer;if(tokenizer=options.js_tokenizer||"split('')",tokenized_length=new Function("element","return (element.val()."+tokenizer+" || '').length")(element),CHECKS={"is":"==","minimum":">=","maximum":"<="},(blankOptions={}).message=options.is?options.messages.is:options.minimum?options.messages.minimum:void 0,message=this.presence(element,blankOptions)){if(!0===options.allow_blank)return;return message}for(check in CHECKS)if(operator=CHECKS[check],options[check]&&!new Function("return "+tokenized_length+" "+operator+" "+options[check])())return options.messages[check]},"exclusion":function(element,options){var lower,message,option,upper,_ref;if(message=this.presence(element,options)){if(!0===options.allow_blank)return;return message}return options.in&&(_ref=element.val(),__indexOf.call(function(){var _i,_len,_ref1,_results;for(_results=[],_i=0,_len=(_ref1=options.in).length;_i<_len;_i++)option=_ref1[_i],_results.push(option.toString());return _results}(),_ref)>=0)||options.range&&(lower=options.range[0],upper=options.range[1],element.val()>=lower&&element.val()<=upper)?options.message:void 0},"inclusion":function(element,options){var lower,message,option,upper,_ref;if(message=this.presence(element,options)){if(!0===options.allow_blank)return;return message}if(options.in){if(_ref=element.val(),__indexOf.call(function(){var _i,_len,_ref1,_results;for(_results=[],_i=0,_len=(_ref1=options.in).length;_i<_len;_i++)option=_ref1[_i],_results.push(option.toString());return _results}(),_ref)>=0)return;return options.message}if(options.range){if(lower=options.range[0],upper=options.range[1],element.val()>=lower&&element.val()<=upper)return;return options.message}},"confirmation":function(element,options){if(element.val()!==jQuery("#"+element.attr("id").replace("_confirmation","")).val())return options.message},"uniqueness":function(element,options){var form,matches,name,name_prefix,name_suffix,valid,value;if(name=element.attr("name"),/_attributes\]\[\d/.test(name)&&(name_prefix=(matches=name.match(/^(.+_attributes\])\[\d+\](.+)$/))[1],name_suffix=matches[2],value=element.val(),name_prefix&&name_suffix&&(form=element.closest("form"),valid=!0,form.find(':input[name^="'+name_prefix+'"][name$="'+name_suffix+'"]').each((function(){if($(this).attr("name")!==name){if($(this).val()===value)return valid=!1,$(this).data("notLocallyUnique",!0);if($(this).data("notLocallyUnique"))return $(this).removeData("notLocallyUnique").data("changed",!0)}})),!valid)))return options.message}},"remote":{"uniqueness":function(element,options){var data,key,message,name,scope_value,scoped_element,scoped_name,_ref
;if(message=ClientSideValidations.validators.local.presence(element,options)){if(!0===options.allow_blank)return;return message}if((data={}).case_sensitive=!!options.case_sensitive,options.id&&(data.id=options.id),options.scope)for(key in data.scope={},_ref=options.scope)scope_value=_ref[key],scoped_name=element.attr("name").replace(/\[\w+\]$/,"["+key+"]"),scoped_element=jQuery("[name='"+scoped_name+"']"),jQuery("[name='"+scoped_name+"']:checkbox").each((function(){if(this.checked)return scoped_element=this})),scoped_element[0]&&scoped_element.val()!==scope_value?(data.scope[key]=scoped_element.val(),scoped_element.unbind("change."+element.id).bind("change."+element.id,(function(){return element.trigger("change.ClientSideValidations"),element.trigger("focusout.ClientSideValidations")}))):data.scope[key]=scope_value;if(/_attributes\]/.test(element.attr("name"))?(name=element.attr("name").match(/\[\w+_attributes\]/g).pop().match(/\[(\w+)_attributes\]/).pop(),name+=/(\[\w+\])$/.exec(element.attr("name"))[1]):name=element.attr("name"),options.class&&(name=options.class+"["+name.split("[")[1]),data[name]=element.val(),200===jQuery.ajax({"url":ClientSideValidations.remote_validators_url_for("uniqueness"),"data":data,"async":!1,"cache":!1}).status)return options.message}}},window.ClientSideValidations.remote_validators_url_for=function(validator){return null!=ClientSideValidations.remote_validators_prefix?"//"+window.location.host+"/"+ClientSideValidations.remote_validators_prefix+"/validators/"+validator:"//"+window.location.host+"/validators/"+validator},window.ClientSideValidations.disableValidators=function(){var validator,_ref,_results;if(void 0!==window.ClientSideValidations.disabled_validators){for(validator in _results=[],_ref=window.ClientSideValidations.validators.remote)_ref[validator],__indexOf.call(window.ClientSideValidations.disabled_validators,validator)>=0?_results.push(delete window.ClientSideValidations.validators.remote[validator]):_results.push(void 0);return _results}},window.ClientSideValidations.formBuilders={"ActionView::Helpers::FormBuilder":{"add":function(element,settings,message){$(element[0].form),element.attr("data-error-message",message)},"remove":function(element){element.attr("data-error-message",null)}}},window.ClientSideValidations.patterns={"numericality":/^(-|\+)?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d*)?$/},window.ClientSideValidations.callbacks={"element":{"after":function(){},"before":function(){},"fail":function(element,message,addError){return addError()},"pass":function(element,removeError){return removeError()}},"form":{"after":function(){},"before":function(){},"fail":function(){},"pass":function(){}}},$((function(){ClientSideValidations.disableValidators()}))}.call(this),function($){var interval_id,last_hash,rm_callback,p_receiveMessage,cache_bust=1,window=this,FALSE=!1,postMessage="postMessage",addEventListener="addEventListener",has_postMessage=window[postMessage];$[postMessage]=function(message,target_url,target){target_url&&(message="string"==typeof message?message:$.param(message),has_postMessage?(target=target||parent)[postMessage](message,target_url.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):target?target.location=target_url.replace(/#.*$/,"")+"#"+ +new Date+cache_bust+++"&"+message:top.location=target_url.replace(/#.*$/,"")+"#"+ +new Date+cache_bust+++"&"+message)},$.receiveMessage=p_receiveMessage=function(callback,source_origin,delay){if(has_postMessage)callback&&(rm_callback&&p_receiveMessage(),rm_callback=function(e){if("string"==typeof source_origin&&e.origin!==source_origin||$.isFunction(source_origin)&&source_origin(e.origin)===FALSE)return FALSE;callback(e)}),window[addEventListener]?window[callback?addEventListener:"removeEventListener"]("message",rm_callback,FALSE):window[callback?"attachEvent":"detachEvent"]("onmessage",rm_callback);else if(interval_id&&clearInterval(interval_id),interval_id=null,callback){delay="number"==typeof source_origin?source_origin:"number"==typeof delay?delay:100;try{last_hash=top.location.hash}catch(e){last_hash=document.location.hash}interval_id=setInterval((function(){var hash,re=/^#?\d+&/;try{hash=top.location.hash}catch(e){hash=document.location.hash}hash!==last_hash&&re.test(hash)&&(last_hash=hash,callback({"data":hash.replace(re,"")}))}),delay)}}}(jQuery),function($,window,undefined){function loopy(){timeout_id=window[str_setTimeout]((function(){elems.each((function(){var elem=$(this),width=elem.width(),height=elem.height(),data=$.data(this,str_data);width===data.w&&height===data.h||elem.trigger(str_resize,[data.w=width,data.h=height])})),loopy()}),jq_resize[str_delay])}var timeout_id,elems=$([]),jq_resize=$.resize=$.extend($.resize,{}),str_setTimeout="setTimeout",str_resize="resize",str_data=str_resize+"-special-event",str_delay="delay",str_throttle="throttleWindow";jq_resize[str_delay]=250,jq_resize[str_throttle]=!0,$.event.special[str_resize]={"setup":function(){if(!jq_resize[str_throttle]&&this[str_setTimeout])return!1;var elem=$(this);elems=elems.add(elem),$.data(this,str_data,{"w":elem.width(),"h":elem.height()}),1===elems.length&&loopy()},"teardown":function(){if(!jq_resize[str_throttle]&&this[str_setTimeout])return!1;var elem=$(this);elems=elems.not(elem),elem.removeData(str_data),elems.length||clearTimeout(timeout_id)},"add":function(handleObj){function new_handler(e,w,h){var elem=$(this),data=$.data(this,str_data);data.w=w!==undefined?w:elem.width(),data.h=h!==undefined?h:elem.height(),old_handler.apply(this,arguments)}return!(!jq_resize[str_throttle]&&this[str_setTimeout])&&($.isFunction(handleObj)?(old_handler=handleObj,new_handler):(old_handler=handleObj.handler,void(handleObj.handler=new_handler)));var old_handler}}}(jQuery,this),function($){function find_instance(id){if("string"==typeof id){var position=id.indexOf("_");-1!=position&&(id=id.substr(position+1))}return id}function nextHandle(e){if(!$(this).hasClass("disabled")){e.preventDefault();var id=find_instance($(this).attr("data-id")),data=als[id];$(this).off(),data.prev.off(),$.fn.als("next",id)}}function prevHandle(e){if(!$(this).hasClass("disabled")){e.preventDefault();var id=find_instance($(this).attr("data-id")),data=als[id];$(this).off(),data.next.off(),$.fn.als("prev",id)}}var als=[],instance=0,methods={"init":function(options){this.each((function(){var defaults={"visible_items":3,"scrolling_items":1,"orientation":"horizontal","circular":"no","autoscroll":"no","interval":4e3,"direction":"left","start_from":0},$obj=$(this),data=$obj.data("als"),$options=$(),$item=$(),$wrapper=$(),$viewport=$(),$prev=$(),$next=$(),num_items=0,viewport_width=0,wrapper_width=0,viewport_height=0,wrapper_height=0,initial_movement=0,i=0,j=0,current=0,timer=0;switch("no"==($options=$.extend(defaults,options)).circular&&"yes"==$options.autoscroll&&($options.circular="yes"),$obj.attr("id")&&""!=$obj.attr("id")||$obj.attr("id","als-container_"+instance),$viewport=$obj.find(".als-viewport").attr("id","als-viewport_"+instance),$wrapper=$obj.find(".als-wrapper").attr("id","als-wrapper_"+instance),num_items=($item=$obj.find(".als-item")).size(),$options.visible_items>num_items&&($options.visible_items=num_items),$options.scrolling_items>$options.visible_items&&($options.scrolling_items=$options.visible_items-1),$options.start_from>num_items-$options.visible_items&&($options.start_from=0),$prev=$obj.find(".als-prev").attr("data-id","als-prev_"+instance),$next=$obj.find(".als-next").attr("data-id","als-next_"+instance),$options.orientation){case"horizontal":default:if($item.each((function(index){$(this).attr("id","als-item_"+instance+"_"+index),wrapper_width+=$(this).outerWidth(!0),i<$options.visible_items&&(0==$options.start_from||index>=$options.start_from)&&(viewport_width+=$(this).outerWidth(!0),i++),0!=$options.start_from&&(j<$options.start_from&&(initial_movement+=$(this).outerWidth(!0),j++),current=$options.start_from)})),$wrapper.css("width",wrapper_width),$item.css("left",-initial_movement),$viewport.css("width",viewport_width),$wrapper.css("height",$item.outerHeight(!0)),$viewport.css("height",$item.outerHeight(!0)),"yes"==$options.circular&&0!=$options.start_from)for(r=0;r<$options.start_from;r++){var riposizionamento_dx=$item.last().position().left+$item.last().outerWidth(!0);$item.eq(r).css("left",riposizionamento_dx)}break;case"vertical":if($item.each((function(index){$(this).attr("id","als-item_"+instance+"_"+index),wrapper_height+=$(this).outerHeight(!0),i<$options.visible_items&&(0==$options.start_from||index>=$options.start_from)&&(viewport_height+=$(this).outerHeight(!0),i++),0!=$options.start_from&&(j<$options.start_from&&(initial_movement+=$(this).outerHeight(!0),j++),current=$options.start_from)})),$wrapper.css("height",wrapper_height),$item.css("top",-initial_movement),$viewport.css("height",viewport_height),$wrapper.css("width",$item.width(!0)),$viewport.css("width",$item.width(!0)),"yes"==$options.circular&&0!=$options.start_from)for(r=0;r<$options.start_from;r++){var riposizionamento_bottom=$item.last().position().top+$item.last().outerHeight(!0);$item.eq(r).css("top",riposizionamento_bottom)}}return"no"==$options.circular&&(0==$options.start_from?$prev.addClass("disabled"):$prev.removeClass("disabled"),$options.visible_items+$options.start_from==num_items?$next.addClass("disabled"):$next.removeClass("disabled")),(data=$obj.data("als"))||($next.on("click",nextHandle),$prev.on("click",prevHandle)),$obj.data("als",{"container":$obj,"instance":instance,"options":$options,"viewport":$viewport,"wrapper":$wrapper,"prev":$prev,"next":$next,"item":$item,"num_items":num_items,"wrapper_width":wrapper_width,"viewport_width":viewport_width,"wrapper_height":wrapper_height,"viewport_height":viewport_height,"current":current,"timer":timer}),data=$obj.data("als"),als[instance]=data,"yes"==$options.autoscroll?($.fn.als("start",instance),$wrapper.hover((function(){$.fn.als("stop",$(this).attr("id"))}),(function(){$.fn.als("start",$(this).attr("id"))}))):"no"==$options.autoscroll&&$.fn.als("stop",instance),instance++,als}))},"next":function(id){id=find_instance(id);var data=als[id],k1=0,k2=0;switch(data.options.orientation){case"horizontal":default:var spostamento_sx=0,viewport_width=0;switch(data.options.circular){case"no":default:for(k1=data.current;k1<data.current+data.options.scrolling_items;k1++)spostamento_sx+=data.item.eq(k1).outerWidth(!0);for(data.current+=data.options.scrolling_items,k2=data.current;k2<data.current+data.options.visible_items;k2++)viewport_width+=data.item.eq(k2).outerWidth(!0);data.viewport.animate({"width":viewport_width},600),data.item.animate({"left":"-="+spostamento_sx},600),data.item.promise().done((function(){data.next.on("click",nextHandle),data.prev.on("click",prevHandle)})),data.current>0&&data.prev.removeClass("disabled"),data.current+data.options.visible_items>=data.num_items&&data.next.addClass("disabled");break;case"yes":var memo=0,memo_index=[];for(k1=data.current;k1<data.current+data.options.scrolling_items;k1++){var k3=k1;k1>=data.num_items&&(k3=k1-data.num_items),spostamento_sx+=data.item.eq(k3).outerWidth(!0),memo_index[memo]=k3,memo++}for(data.current+=data.options.scrolling_items,data.current>=data.num_items&&(data.current-=data.num_items),k2=data.current;k2<data.current+data.options.visible_items;k2++){var k4=k2;k2>=data.num_items&&(k4=k2-data.num_items),viewport_width+=data.item.eq(k4).outerWidth(!0)}data.viewport.animate({"width":viewport_width},600),data.item.animate({"left":"-="+spostamento_sx},600),data.item.promise().done((function(){var riposizionamento_dx=data.item.last().position().left+data.item.last().outerWidth(!0);for(k5=0;k5<memo_index.length;k5++){if(0==memo_index[k5])riposizionamento_dx=data.item.last().position().left+data.item.last().outerWidth(!0);data.item.eq(memo_index[k5]).css("left",riposizionamento_dx)}data.next.on("click",nextHandle),data.prev.on("click",prevHandle)}))}break;case"vertical":var spostamento_top=0,viewport_height=0;switch(data.options.circular){case"no":default:for(k1=data.current;k1<data.current+data.options.scrolling_items;k1++)spostamento_top+=data.item.eq(k1).outerHeight(!0);for(data.current+=data.options.scrolling_items,k2=data.current;k2<data.current+data.options.visible_items;k2++)viewport_height+=data.item.eq(k2).outerHeight(!0);data.viewport.animate({"height":viewport_height},600),data.item.animate({"top":"-="+spostamento_top},600),data.item.promise().done((function(){data.next.on("click",nextHandle),data.prev.on("click",prevHandle)})),data.current>0&&data.prev.removeClass("disabled"),data.current+data.options.visible_items>=data.num_items&&data.next.addClass("disabled");break;case"yes":memo=0,memo_index=[];for(k1=data.current;k1<data.current+data.options.scrolling_items;k1++){k3=k1;k1>=data.num_items&&(k3=k1-data.num_items),spostamento_top+=data.item.eq(k3).outerHeight(!0),memo_index[memo]=k3,memo++}for(data.current+=data.options.scrolling_items,data.current>=data.num_items&&(data.current-=data.num_items),k2=data.current;k2<data.current+data.options.visible_items;k2++){k4=k2;k2>=data.num_items&&(k4=k2-data.num_items),viewport_height+=data.item.eq(k4).outerHeight(!0)}data.viewport.animate({"height":viewport_height}),data.item.animate({"top":"-="+spostamento_top}),data.item.promise().done((function(){var riposizionamento_bottom=data.item.last().position().top+data.item.last().outerHeight(!0);for(k5=0;k5<memo_index.length;k5++){if(0==memo_index[k5])riposizionamento_bottom=data.item.last().position().top+data.item.last().outerHeight(!0);data.item.eq(memo_index[k5]).css("top",riposizionamento_bottom)}data.next.on("click",nextHandle),data.prev.on("click",prevHandle)}))}}return als[id]=data,als},"prev":function(id){id=find_instance(id);var data=als[id],k1=0,k2=0;switch(data.options.orientation){case"horizontal":default:var spostamento_dx=0,viewport_width=0;switch(data.options.circular){case"no":default:for(data.current-=data.options.scrolling_items,k1=data.current;k1<data.current+data.options.scrolling_items;k1++)spostamento_dx+=data.item.eq(k1).outerWidth(!0);for(k2=data.current;k2<data.current+data.options.visible_items;k2++)viewport_width+=data.item.eq(k2).outerWidth(!0);data.viewport.animate({"width":viewport_width}),data.item.animate({"left":"+="+spostamento_dx},600),data.item.promise().done((function(){data.prev.on("click",prevHandle),data.next.on("click",nextHandle)})),data.current<=0&&data.prev.addClass("disabled"),data.current+data.options.visible_items<data.num_items&&data.next.removeClass("disabled");break;case"yes":var memo=0,memo_index=[];for(data.current-=data.options.scrolling_items,data.current<0&&(data.current+=data.num_items),k1=data.current;k1<data.current+data.options.scrolling_items;k1++){var k3=k1;k1>=data.num_items&&(k3=k1-data.num_items),spostamento_dx+=data.item.eq(k3).outerWidth(!0),memo_index[memo]=k3,memo++}for(k2=data.current;k2<data.current+data.options.visible_items;k2++){var k4=k2;k2>=data.num_items&&(k4=k2-data.num_items),viewport_width+=data.item.eq(k4).outerWidth(!0)}var riposizionamento_sx=data.item.first().position().left-data.wrapper_width;for(k5=0;k5<memo_index.length;k5++)if(data.item.eq(memo_index[k5]).css("left",riposizionamento_sx),0==memo_index[k5]&&memo_index[k5-1]==data.num_items-1){riposizionamento_sx=data.item.first().position().left-data.wrapper_width;data.item.eq(memo_index[k5-1]).css("left",riposizionamento_sx)}setTimeout((function(){data.viewport.animate({"width":viewport_width}),data.item.animate({"left":"+="+spostamento_dx},600),data.item.promise().done((function(){data.prev.on("click",prevHandle),data.next.on("click",nextHandle)}))}),200)}break;case"vertical":var spostamento_bottom=0,viewport_height=0;switch(data.options.circular){case"no":default:for(data.current-=data.options.scrolling_items,k1=data.current;k1<data.current+data.options.scrolling_items;k1++)spostamento_bottom+=data.item.eq(k1).outerHeight(!0);for(k2=data.current;k2<data.current+data.options.visible_items;k2++)viewport_height+=data.item.eq(k2).outerHeight(!0);data.viewport.animate({"height":viewport_height}),data.item.animate({"top":"+="+spostamento_bottom},600),data.item.promise().done((function(){data.prev.on("click",prevHandle),data.next.on("click",nextHandle)})),data.current<=0&&data.prev.addClass("disabled"),data.current+data.options.visible_items<data.num_items&&data.next.removeClass("disabled");break;case"yes":memo=0,memo_index=[];for(data.current-=data.options.scrolling_items,data.current<0&&(data.current+=data.num_items),k1=data.current;k1<data.current+data.options.scrolling_items;k1++){k3=k1;k1>=data.num_items&&(k3=k1-data.num_items),spostamento_bottom+=data.item.eq(k3).outerHeight(!0),memo_index[memo]=k3,memo++}for(k2=data.current;k2<data.current+data.options.visible_items;k2++){k4=k2;k2>=data.num_items&&(k4=k2-data.num_items),viewport_height+=data.item.eq(k4).outerHeight(!0)}var riposizionamento_top=data.item.first().position().top-data.wrapper_height;for(k5=0;k5<memo_index.length;k5++)if(data.item.eq(memo_index[k5]).css("top",riposizionamento_top),0==memo_index[k5]&&memo_index[k5-1]==data.num_items-1){riposizionamento_top=data.item.first().position().top-data.wrapper_height;data.item.eq(memo_index[k5-1]).css("top",riposizionamento_top)}setTimeout((function(){data.viewport.animate({"height":viewport_height},600),data.item.animate({"top":"+="+spostamento_bottom},600),data.item.promise().done((function(){data.prev.on("click",prevHandle),data.next.on("click",nextHandle)}))}),200)}}return als[id]=data,als},"start":function(id){id=find_instance(id);var data=als[id];switch(0!=data.timer&&clearInterval(data.timer),data.options.direction){case"left":case"up":default:data.timer=setInterval((function(){data.next.off(),data.prev.off(),$.fn.als("next",id)}),data.options.interval);break;case"right":case"down":data.timer=setInterval((function(){data.prev.off(),data.next.off(),$.fn.als("prev",id)}),data.options.interval)}return als[id]=data,als},"stop":function(id){id=find_instance(id);var data=als[id];return clearInterval(data.timer),als[id]=data,als},"destroy":function(id){id=find_instance(id);var data=als[id];data.prev.off(),data.next.off(),$.fn.als("stop",id),$.removeData(data,this.name),this.removeClass(this.name),this.unbind(),this.element=null}};$.fn.als=function(method){return methods[method]?methods[method].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof method&&method?void $.error("Method "+method+" does not exist on jQuery.als"):methods.init.apply(this,arguments)}}(jQuery),function(window,document,$){function args(elem){var newAttrs={},rinlinejQuery=/^jQuery\d+$/;return $.each(elem.attributes,(function(i,attr){attr.specified&&!rinlinejQuery.test(attr.name)&&(newAttrs[attr.name]=attr.value)})),newAttrs}function clearPlaceholder(event,value){var input=this,$input=$(input);if(input.value==$input.attr("placeholder")&&$input.hasClass("placeholder"))if($input.data("placeholder-password")){if($input=$input.hide().next().show().attr("id",$input.removeAttr("id").data("placeholder-id")),!0===event)return $input[0].value=value;$input.focus()}else input.value="",$input.removeClass("placeholder"),input==safeActiveElement()&&input.select()}function setPlaceholder(){var $replacement,input=this,$input=$(input),id=this.id;if(""==input.value){if("password"==input.type){if(!$input.data("placeholder-textinput")){try{$replacement=$input.clone().attr({"type":"text"})}catch(e){$replacement=$("<input>").attr($.extend(args(this),{"type":"text"}))}$replacement.removeAttr("name").data({"placeholder-password":$input,"placeholder-id":id}).bind("focus.placeholder",clearPlaceholder),$input.data({"placeholder-textinput":$replacement,"placeholder-id":id}).before($replacement)}$input=$input.removeAttr("id").hide().prev().attr("id",id).show()}$input.addClass("placeholder"),$input[0].value=$input.attr("placeholder")}else $input.removeClass("placeholder")}function safeActiveElement(){try{return document.activeElement}catch(err){}}var hooks,placeholder,isOperaMini="[object OperaMini]"==Object.prototype.toString.call(window.operamini),isInputSupported="placeholder"in document.createElement("input")&&!isOperaMini,isTextareaSupported="placeholder"in document.createElement("textarea")&&!isOperaMini,prototype=$.fn,valHooks=$.valHooks,propHooks=$.propHooks;isInputSupported&&isTextareaSupported?(placeholder=prototype.placeholder=function(){return this}).input=placeholder.textarea=!0:((placeholder=prototype.placeholder=function(){var $this=this;return $this.filter((isInputSupported?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":clearPlaceholder,"blur.placeholder":setPlaceholder}).data("placeholder-enabled",!0).trigger("blur.placeholder"),$this}).input=isInputSupported,placeholder.textarea=isTextareaSupported,hooks={"get":function(element){var $element=$(element),$passwordInput=$element.data("placeholder-password");return $passwordInput?$passwordInput[0].value:$element.data("placeholder-enabled")&&$element.hasClass("placeholder")?"":element.value},"set":function(element,value){var $element=$(element),$passwordInput=$element.data("placeholder-password");return $passwordInput?$passwordInput[0].value=value:$element.data("placeholder-enabled")?(""==value?(element.value=value,element!=safeActiveElement()&&setPlaceholder.call(element)):$element.hasClass("placeholder")&&clearPlaceholder.call(element,!0,value)||(element.value=value),$element):element.value=value}},isInputSupported||(valHooks.input=hooks,propHooks.value=hooks),isTextareaSupported||(valHooks.textarea=hooks,propHooks.value=hooks),$((function(){$(document).delegate("form","submit.placeholder",(function(){var $inputs=$(".placeholder",this).each(clearPlaceholder);setTimeout((function(){$inputs.each(setPlaceholder)}),10)}))})),$(window).bind("beforeunload.placeholder",(function(){$(".placeholder").each((function(){this.value=""}))})))}(this,document,jQuery),function($){var $ie6=!1===$.support.boxModel&&$.support.objectAll&&$.support.leadingWhitespace;$.jGrowl=function(m,o){0==$("#jGrowl").size()&&$('<div id="jGrowl"></div>').addClass(o&&o.position?o.position:$.jGrowl.defaults.position).appendTo("body"),$("#jGrowl").jGrowl(m,o)},$.fn.jGrowl=function(m,o){if($.isFunction(this.each)){var args=arguments;return this.each((function(){null==$(this).data("jGrowl.instance")&&($(this).data("jGrowl.instance",$.extend(new $.fn.jGrowl,{"notifications":[],"element":null,"interval":null})),$(this).data("jGrowl.instance").startup(this)),$.isFunction($(this).data("jGrowl.instance")[m])?$(this).data("jGrowl.instance")[m].apply($(this).data("jGrowl.instance"),$.makeArray(args).slice(1)):$(this).data("jGrowl.instance").create(m,o)}))}},$.extend($.fn.jGrowl.prototype,{"defaults":{"pool":0,"header":"","group":"","sticky":!1,"position":"top-right","glue":"after","theme":"default","themeState":"highlight","corners":"10px","check":250,"life":3e3,"closeDuration":"normal","openDuration":"normal","easing":"swing","closer":!0,"closeTemplate":"&times;","closerTemplate":"<div>[ close all ]</div>","log":function(){},"beforeOpen":function(){},"afterOpen":function(){},"open":function(){},"beforeClose":function(){},"close":function(){},"animateOpen":{"opacity":"show"},"animateClose":{"opacity":"hide"}},"notifications":[],"element":null,"interval":null,"create":function(message,o){void 0!==(o=$.extend({},this.defaults,o)).speed&&(o.openDuration=o.speed,o.closeDuration=o.speed),this.notifications.push({"message":message,"options":o}),o.log.apply(this.element,[this.element,message,o])},"render":function(notification){var self=this,message=notification.message,o=notification.options;o.themeState=""==o.themeState?"":"ui-state-"+o.themeState;notification=$("<div/>").addClass("jGrowl-notification "+o.themeState+" ui-corner-all"+(null!=o.group&&""!=o.group?" "+o.group:"")).append($("<div/>").addClass("jGrowl-close").html(o.closeTemplate)).append($("<div/>").addClass("jGrowl-header").html(o.header)).append($("<div/>").addClass("jGrowl-message").html(message)).data("jGrowl",o).addClass(o.theme).children("div.jGrowl-close").bind("click.jGrowl",(function(){$(this).parent().trigger("jGrowl.beforeClose")})).parent();$(notification).bind("mouseover.jGrowl",(function(){$("div.jGrowl-notification",self.element).data("jGrowl.pause",!0)})).bind("mouseout.jGrowl",(function(){$("div.jGrowl-notification",self.element).data("jGrowl.pause",!1)})).bind("jGrowl.beforeOpen",(function(){!1!==o.beforeOpen.apply(notification,[notification,message,o,self.element])&&$(this).trigger("jGrowl.open")})).bind("jGrowl.open",(function(){!1!==o.open.apply(notification,[notification,message,o,self.element])&&("after"==o.glue?$("div.jGrowl-notification:last",self.element).after(notification):$("div.jGrowl-notification:first",self.element).before(notification),$(this).animate(o.animateOpen,o.openDuration,o.easing,(function(){!1===$.support.opacity&&this.style.removeAttribute("filter"),null!==$(this).data("jGrowl")&&($(this).data("jGrowl").created=new Date),$(this).trigger("jGrowl.afterOpen")})))})).bind("jGrowl.afterOpen",(function(){o.afterOpen.apply(notification,[notification,message,o,self.element])})).bind("jGrowl.beforeClose",(function(){!1!==o.beforeClose.apply(notification,[notification,message,o,self.element])&&$(this).trigger("jGrowl.close")})).bind("jGrowl.close",(function(){$(this).data("jGrowl.pause",!0),$(this).animate(o.animateClose,o.closeDuration,o.easing,(function(){$.isFunction(o.close)?!1!==o.close.apply(notification,[notification,message,o,self.element])&&$(this).remove():$(this).remove()}))})).trigger("jGrowl.beforeOpen"),""!=o.corners&&null!=$.fn.corner&&$(notification).corner(o.corners),$("div.jGrowl-notification:parent",self.element).size()>1&&0==$("div.jGrowl-closer",self.element).size()&&!1!==this.defaults.closer&&$(this.defaults.closerTemplate).addClass("jGrowl-closer "+this.defaults.themeState+" ui-corner-all").addClass(this.defaults.theme).appendTo(self.element).animate(this.defaults.animateOpen,this.defaults.speed,this.defaults.easing).bind("click.jGrowl",(function(){$(this).siblings().trigger("jGrowl.beforeClose"),$.isFunction(self.defaults.closer)&&self.defaults.closer.apply($(this).parent()[0],[$(this).parent()[0]])}))},"update":function(){$(this.element).find("div.jGrowl-notification:parent").each((function(){null!=$(this).data("jGrowl")&&void 0!==$(this).data("jGrowl").created&&$(this).data("jGrowl").created.getTime()+parseInt($(this).data("jGrowl").life)<(new Date).getTime()&&!0!==$(this).data("jGrowl").sticky&&(null==$(this).data("jGrowl.pause")||!0!==$(this).data("jGrowl.pause"))&&$(this).trigger("jGrowl.beforeClose")})),this.notifications.length>0&&(0==this.defaults.pool||$(this.element).find("div.jGrowl-notification:parent").size()<this.defaults.pool)&&this.render(this.notifications.shift()),$(this.element).find("div.jGrowl-notification:parent").size()<2&&$(this.element).find("div.jGrowl-closer").animate(this.defaults.animateClose,this.defaults.speed,this.defaults.easing,(function(){$(this).remove()}))},"startup":function(e){this.element=$(e).addClass("jGrowl").append('<div class="jGrowl-notification"></div>'),this.interval=setInterval((function(){$(e).data("jGrowl.instance").update()}),parseInt(this.defaults.check)),$ie6&&$(this.element).addClass("ie6")},"shutdown":function(){$(this.element).removeClass("jGrowl").find("div.jGrowl-notification").trigger("jGrowl.close").parent().empty(),clearInterval(this.interval)},"close":function(){$(this.element).find("div.jGrowl-notification").each((function(){$(this).trigger("jGrowl.beforeClose")}))}}),$.jGrowl.defaults=$.fn.jGrowl.prototype.defaults}(jQuery),window.Modernizr=window.Modernizr||function(a,b,c){function v(a){i.cssText=a}function x(a,b){return typeof a===b}var s,u,d="2.8.3",e={},f=b.documentElement,g="modernizr",h=b.createElement(g),i=h.style,l=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),m={"svg":"http://www.w3.org/2000/svg"},n={},q=[],r=q.slice,t={}.hasOwnProperty;for(var A in u=x(t,"undefined")||x(t.call,"undefined")?function(a,b){return b in a&&x(a.constructor.prototype[b],"undefined")}:function(a,b){return t.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if("function"!=typeof c)throw new TypeError;var d=r.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(r.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(r.call(arguments)))};return e}),n.inlinesvg=function(){var a=b.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==m.svg},n)u(n,A)&&(s=A.toLowerCase(),e[s]=n[A](),q.push((e[s]?"":"no-")+s));return e.addTest=function(a,b){if("object"==typeof a)for(var d in a)u(a,d)&&e.addTest(d,a[d]);else{if(a=a.toLowerCase(),e[a]!==c)return e;b="function"==typeof b?b():b,"undefined"!=typeof enableClasses&&enableClasses&&(f.className+=" "+(b?"":"no-")+a),e[a]=b}return e},v(""),h=null,e._version=d,e._prefixes=l,e}(0,this.document),Modernizr.addTest("cssfilters",(function(){var a=document.createElement("div");return a.style.cssText=Modernizr._prefixes.join("filter:blur(2px); "),!!a.style.length&&(void 0===document.documentMode||document.documentMode>9)})),Modernizr.addTest("svgfilters",(function(){var a=!1;try{a=void 0!==typeof SVGFEColorMatrixElement&&2==SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE}catch(b){}return a})),function($,window){function Plugin(element,options){var fadeClass;fadeClass=((options=options||{}).classes||{}).fade||defaults.classes.fade,options.fade=options.fade||element.className.indexOf(fadeClass)>-1,this.element=element,this.settings=$.extend({},defaults,options),this._defaults=defaults,this._name=pluginName,this.init()}var pluginName="gray",defaults={"fade":!1,"classes":{"fade":"grayscale-fade"}};$.extend(Plugin.prototype,{"init":function(){var element;!Modernizr.cssfilters&&Modernizr.inlinesvg&&Modernizr.svgfilters&&(element=$(this.element),(this.cssFilterDeprecated(element)||this.settings.fade)&&this.switchImage(element))},"cssFilterDeprecated":function(element){return"none"===element.css("filter")},"elementType":function(element){return"IMG"===element.prop("tagName")?"Img":"Bg"},"getComputedStyle":function(element){for(var computedStyle={},styles={},i=0,length=(computedStyle=window.getComputedStyle(element,null)).length;i<length;i++){var prop=computedStyle[i],val=computedStyle.getPropertyValue(prop);styles[prop]=val}return styles},"extractUrl":function(backgroundImage){return startRegex=/^url\(["']?/,endRegex=/["']?\)$/,backgroundImage.replace(startRegex,"").replace(endRegex,"")},"positionToNegativeMargin":function(backgroundPosition){var x;return x=backgroundPosition.match(/^(-?\d+\S+)/)[0],"margin:"+backgroundPosition.match(/\s(-?\d+\S+)$/)[0]+" 0 0 "+x},"getBgSize":function(url,backgroundSize){var img,ratio,defaultW,w,defaultH,h;if((img=new Image).src=url,"auto"!==backgroundSize&&"cover"!==backgroundSize&&"contain"!==backgroundSize&&"inherit"!==backgroundSize){var $element=$(this.element);ratio=img.width/img.height,w=parseInt((backgroundSize.match(/^(\d+)px/)||[0,0])[1]),h=parseInt((backgroundSize.match(/\s(\d+)px$/)||[0,0])[1]),defaultW=$element.height()*ratio,defaultH=$element.width()/ratio,w=w||defaultW,h=h||defaultH}return w||h?{"width":w,"height":h}:{"width":img.width,"height":img.height}},"getParams":function(element){return this["get"+this.elementType(element)+"Params"](element)},"getImgParams":function(element){var params={};return params.styles=this.getComputedStyle(element[0]),params.svg={"url":element[0].src,"width":params.styles.width.replace("px",""),"height":params.styles.height.replace("px",""),"offset":""},params},"getBgParams":function(element){var url,params={};return url=this.extractUrl(element.css("background-image")),bgSize=this.getBgSize(url,element.css("background-size")),offset=this.positionToNegativeMargin(element.css("background-position")),params.styles=this.getComputedStyle(element[0]),params.svg=$.extend({"url":url},bgSize,{"offset":offset}),params},"setStyles":function(styles,url,width,height){return styles.display="inline-block",styles.overflow=styles["overflow-x"]=styles["overflow-y"]="hidden",styles["background-image"]='url("'+url+'")',styles["background-size"]=width+"px "+height+"px",delete styles.filter,styles},"addSVGFilterOnce":function(){$body=$("body"),$body.data("plugin_"+pluginName+"_has_filter")||$body.data("plugin_"+pluginName+"_has_filter","true").append('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="0" height="0" style="position:absolute"><defs><filter id="gray"><feColorMatrix type="saturate" values="0"/></filter></defs></svg>')},"switchImage":function(element){var params,classes,template;params=this.getParams(element),
classes=this.settings.fade?this.settings.classes.fade:"",template=$('<div class="grayscale grayscale-fade grayscale-replaced '+classes+'"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+params.svg.width+" "+params.svg.height+'" width="'+params.svg.width+'" height="'+params.svg.height+'" style="'+params.svg.offset+'"><image filter="url(&quot;#gray&quot;)" x="0" y="0" width="'+params.svg.width+'" height="'+params.svg.height+'" preserveAspectRatio="none" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="'+params.svg.url+'" /></svg></div>'),params.styles=this.setStyles(params.styles,params.svg.url,params.svg.width,params.svg.height),template.css(params.styles),this.addSVGFilterOnce(),element.replaceWith(template),template.trigger("gray:replaced")}}),$.fn[pluginName]=function(options){return this.each((function(){$.data(this,"plugin_"+pluginName)||$.data(this,"plugin_"+pluginName,new Plugin(this,options))})),this},$(window).on("load",(function(){$(".grayscale:not(.grayscale-replaced)")[pluginName]()}))}(jQuery,window,document),function(wind,$,undef){"use strict";function attrOrProp($el){var args=Array.prototype.slice.call(arguments,1);return $el.prop?$el.prop.apply($el,args):$el.attr.apply($el,args)}function bindMany($el,options,events){var name,namespaced;for(name in events)events.hasOwnProperty(name)&&(namespaced=name.replace(/ |$/g,options.eventNamespace),$el.bind(namespaced,events[name]))}function bindUi($el,$target,options){bindMany($el,options,{"focus":function(){$target.addClass(options.focusClass)},"blur":function(){$target.removeClass(options.focusClass),$target.removeClass(options.activeClass)},"mouseenter":function(){$target.addClass(options.hoverClass)},"mouseleave":function(){$target.removeClass(options.hoverClass),$target.removeClass(options.activeClass)},"mousedown touchbegin":function(){$el.is(":disabled")||$target.addClass(options.activeClass)},"mouseup touchend":function(){$target.removeClass(options.activeClass)}})}function classClearStandard($el,options){$el.removeClass(options.hoverClass+" "+options.focusClass+" "+options.activeClass)}function classUpdate($el,className,enabled){enabled?$el.addClass(className):$el.removeClass(className)}function classUpdateChecked($tag,$el,options){var c="checked",isChecked=$el.is(":"+c);$el.prop?$el.prop(c,isChecked):isChecked?$el.attr(c,c):$el.removeAttr(c),classUpdate($tag,options.checkedClass,isChecked)}function classUpdateDisabled($tag,$el,options){classUpdate($tag,options.disabledClass,$el.is(":disabled"))}function divSpanWrap($el,$container,method){switch(method){case"after":return $el.after($container),$el.next();case"before":return $el.before($container),$el.prev();case"wrap":return $el.wrap($container),$el.parent()}return null}function divSpan($el,options,divSpanConfig){var $div,$span,id;return divSpanConfig||(divSpanConfig={}),divSpanConfig=$.extend({"bind":{},"divClass":null,"divWrap":"wrap","spanClass":null,"spanHtml":null,"spanWrap":"wrap"},divSpanConfig),$div=$("<div />"),$span=$("<span />"),options.autoHide&&$el.is(":hidden")&&"none"===$el.css("display")&&$div.hide(),divSpanConfig.divClass&&$div.addClass(divSpanConfig.divClass),options.wrapperClass&&$div.addClass(options.wrapperClass),divSpanConfig.spanClass&&$span.addClass(divSpanConfig.spanClass),id=attrOrProp($el,"id"),options.useID&&id&&attrOrProp($div,"id",options.idPrefix+"-"+id),divSpanConfig.spanHtml&&$span.html(divSpanConfig.spanHtml),$div=divSpanWrap($el,$div,divSpanConfig.divWrap),$span=divSpanWrap($el,$span,divSpanConfig.spanWrap),classUpdateDisabled($div,$el,options),{"div":$div,"span":$span}}function wrapWithWrapperClass($el,options){return options.wrapperClass?divSpanWrap($el,$("<span />").addClass(options.wrapperClass),"wrap"):null}function highContrast(){var c,$div,el,rgb;return $div=$('<div style="width:0;height:0;color:'+(rgb="rgb(120,2,153)")+'">'),$("body").append($div),el=$div.get(0),c=wind.getComputedStyle?wind.getComputedStyle(el,"").color:(el.currentStyle||el.style||{}).color,$div.remove(),c.replace(/ /g,"")!==rgb}function htmlify(text){return text?$("<span />").text(text).html():""}function isMsie(){return navigator.cpuClass&&!navigator.product}function isMsieSevenOrNewer(){return void 0!==wind.XMLHttpRequest}function isMultiselect($el){var elSize;return!!$el[0].multiple||!(!(elSize=attrOrProp($el,"size"))||elSize<=1)}function returnFalse(){return!1}function noSelect($elem,options){var none="none";bindMany($elem,options,{"selectstart dragstart mousedown":returnFalse}),$elem.css({"MozUserSelect":none,"msUserSelect":none,"webkitUserSelect":none,"userSelect":none})}function setFilename($el,$filenameTag,options){var filename=$el.val();filename=""===filename?options.fileDefaultHtml:(filename=filename.split(/[\/\\]+/))[filename.length-1],$filenameTag.text(filename)}function swap($elements,newCss,callback){var restore,item;for(restore=[],$elements.each((function(){var name;for(name in newCss)Object.prototype.hasOwnProperty.call(newCss,name)&&(restore.push({"el":this,"name":name,"old":this.style[name]}),this.style[name]=newCss[name])})),callback();restore.length;)(item=restore.pop()).el.style[item.name]=item.old}function sizingInvisible($el,callback){var targets;(targets=$el.parents()).push($el[0]),swap(targets=targets.not(":visible"),{"visibility":"hidden","display":"block","position":"absolute"},callback)}function unwrapUnwrapUnbindFunction($el,options){return function(){$el.unwrap().unwrap().unbind(options.eventNamespace)}}var allowStyling=!0,highContrastTest=!1,uniformHandlers=[{"match":function($el){return $el.is("a, button, :submit, :reset, input[type='button']")},"apply":function($el,options){var $div,defaultSpanHtml,ds,getHtml,doingClickEvent;return defaultSpanHtml=options.submitDefaultHtml,$el.is(":reset")&&(defaultSpanHtml=options.resetDefaultHtml),getHtml=$el.is("a, button")?function(){return $el.html()||defaultSpanHtml}:function(){return htmlify(attrOrProp($el,"value"))||defaultSpanHtml},ds=divSpan($el,options,{"divClass":options.buttonClass,"spanHtml":getHtml()}),$div=ds.div,bindUi($el,$div,options),doingClickEvent=!1,bindMany($div,options,{"click touchend":function(){var ev,res,target,href;doingClickEvent||$el.is(":disabled")||(doingClickEvent=!0,$el[0].dispatchEvent?((ev=document.createEvent("MouseEvents")).initEvent("click",!0,!0),res=$el[0].dispatchEvent(ev),$el.is("a")&&res&&(target=attrOrProp($el,"target"),href=attrOrProp($el,"href"),target&&"_self"!==target?wind.open(href,target):document.location.href=href)):$el.click(),doingClickEvent=!1)}}),noSelect($div,options),{"remove":function(){return $div.after($el),$div.remove(),$el.unbind(options.eventNamespace),$el},"update":function(){classClearStandard($div,options),classUpdateDisabled($div,$el,options),$el.detach(),ds.span.html(getHtml()).append($el)}}}},{"match":function($el){return $el.is(":checkbox")},"apply":function($el,options){var ds,$div,$span;return ds=divSpan($el,options,{"divClass":options.checkboxClass}),$div=ds.div,$span=ds.span,bindUi($el,$div,options),bindMany($el,options,{"click touchend":function(){classUpdateChecked($span,$el,options)}}),classUpdateChecked($span,$el,options),{"remove":unwrapUnwrapUnbindFunction($el,options),"update":function(){classClearStandard($div,options),$span.removeClass(options.checkedClass),classUpdateChecked($span,$el,options),classUpdateDisabled($div,$el,options)}}}},{"match":function($el){return $el.is(":file")},"apply":function($el,options){function filenameUpdate(){setFilename($el,$filename,options)}var ds,$div,$filename,$button;return ds=divSpan($el,options,{"divClass":options.fileClass,"spanClass":options.fileButtonClass,"spanHtml":options.fileButtonHtml,"spanWrap":"after"}),$div=ds.div,$button=ds.span,($filename=$("<span />").html(options.fileDefaultHtml)).addClass(options.filenameClass),$filename=divSpanWrap($el,$filename,"after"),attrOrProp($el,"size")||attrOrProp($el,"size",$div.width()/10),bindUi($el,$div,options),filenameUpdate(),isMsie()?bindMany($el,options,{"click":function(){$el.trigger("change"),setTimeout(filenameUpdate,0)}}):bindMany($el,options,{"change":filenameUpdate}),noSelect($filename,options),noSelect($button,options),{"remove":function(){return $filename.remove(),$button.remove(),$el.unwrap().unbind(options.eventNamespace)},"update":function(){classClearStandard($div,options),setFilename($el,$filename,options),classUpdateDisabled($div,$el,options)}}}},{"match":function($el){if($el.is("input")){var t=(" "+attrOrProp($el,"type")+" ").toLowerCase();return" color date datetime datetime-local email month number password search tel text time url week ".indexOf(t)>=0}return!1},"apply":function($el,options){var elType,$wrapper;return elType=attrOrProp($el,"type"),$el.addClass(options.inputClass),$wrapper=wrapWithWrapperClass($el,options),bindUi($el,$el,options),options.inputAddTypeAsClass&&$el.addClass(elType),{"remove":function(){$el.removeClass(options.inputClass),options.inputAddTypeAsClass&&$el.removeClass(elType),$wrapper&&$el.unwrap()},"update":returnFalse}}},{"match":function($el){return $el.is(":radio")},"apply":function($el,options){var ds,$div,$span;return ds=divSpan($el,options,{"divClass":options.radioClass}),$div=ds.div,$span=ds.span,bindUi($el,$div,options),bindMany($el,options,{"click touchend":function(){$.uniform.update($(':radio[name="'+attrOrProp($el,"name")+'"]'))}}),classUpdateChecked($span,$el,options),{"remove":unwrapUnwrapUnbindFunction($el,options),"update":function(){classClearStandard($div,options),classUpdateChecked($span,$el,options),classUpdateDisabled($div,$el,options)}}}},{"match":function($el){return!(!$el.is("select")||isMultiselect($el))},"apply":function($el,options){var ds,$div,$span,origElemWidth;return options.selectAutoWidth&&sizingInvisible($el,(function(){origElemWidth=$el.width()})),ds=divSpan($el,options,{"divClass":options.selectClass,"spanHtml":($el.find(":selected:first")||$el.find("option:first")).html(),"spanWrap":"before"}),$div=ds.div,$span=ds.span,options.selectAutoWidth?sizingInvisible($el,(function(){swap($([$span[0],$div[0]]),{"display":"block"},(function(){var spanPad;spanPad=$span.outerWidth()-$span.width(),$div.width(origElemWidth+spanPad),$span.width(origElemWidth)}))})):$div.addClass("fixedWidth"),bindUi($el,$div,options),bindMany($el,options,{"change":function(){$span.html($el.find(":selected").html()),$div.removeClass(options.activeClass)},"click touchend":function(){var selHtml=$el.find(":selected").html();$span.html()!==selHtml&&$el.trigger("change")},"keyup":function(){$span.html($el.find(":selected").html())}}),noSelect($span,options),{"remove":function(){return $span.remove(),$el.unwrap().unbind(options.eventNamespace),$el},"update":function(){options.selectAutoWidth?($.uniform.restore($el),$el.uniform(options)):(classClearStandard($div,options),$span.html($el.find(":selected").html()),classUpdateDisabled($div,$el,options))}}}},{"match":function($el){return!(!$el.is("select")||!isMultiselect($el))},"apply":function($el,options){var $wrapper;return $el.addClass(options.selectMultiClass),$wrapper=wrapWithWrapperClass($el,options),bindUi($el,$el,options),{"remove":function(){$el.removeClass(options.selectMultiClass),$wrapper&&$el.unwrap()},"update":returnFalse}}},{"match":function($el){return $el.is("textarea")},"apply":function($el,options){var $wrapper;return $el.addClass(options.textareaClass),$wrapper=wrapWithWrapperClass($el,options),bindUi($el,$el,options),{"remove":function(){$el.removeClass(options.textareaClass),$wrapper&&$el.unwrap()},"update":returnFalse}}}];isMsie()&&!isMsieSevenOrNewer()&&(allowStyling=!1),$.uniform={"defaults":{"activeClass":"active","autoHide":!0,"buttonClass":"button","checkboxClass":"checker","checkedClass":"checked","disabledClass":"disabled","eventNamespace":".uniform","fileButtonClass":"action","fileButtonHtml":"Choose File","fileClass":"uploader","fileDefaultHtml":"No file selected","filenameClass":"filename","focusClass":"focus","hoverClass":"hover","idPrefix":"uniform","inputAddTypeAsClass":!0,"inputClass":"uniform-input","radioClass":"radio","resetDefaultHtml":"Reset","resetSelector":!1,"selectAutoWidth":!0,"selectClass":"selector","selectMultiClass":"uniform-multiselect","submitDefaultHtml":"Submit","textareaClass":"uniform","useID":!0,"wrapperClass":null},"elements":[]},$.fn.uniform=function(options){var el=this;return options=$.extend({},$.uniform.defaults,options),highContrastTest||(highContrastTest=!0,highContrast()&&(allowStyling=!1)),allowStyling?(options.resetSelector&&$(options.resetSelector).mouseup((function(){wind.setTimeout((function(){$.uniform.update(el)}),10)})),this.each((function(){var i,handler,callbacks,$el=$(this);if($el.data("uniform-applied"))$.uniform.update($el);else for(i=0;i<uniformHandlers.length;i+=1)if((handler=uniformHandlers[i]).match($el,options))return callbacks=handler.apply($el,options),$el.data("uniformed",callbacks),$el.attr("data-uniform-applied",!0),void $.uniform.elements.push($el.get(0))}))):this},$.uniform.restore=$.fn.uniform.restore=function(elem){elem===undef&&(elem=$.uniform.elements),$(elem).each((function(){var index,elementData,uniformApplied,$el=$(this);elementData=$el.data("uniformed"),uniformApplied=$el.data("uniform-applied"),elementData&&uniformApplied&&(elementData.remove(),(index=$.inArray(this,$.uniform.elements))>=0&&$.uniform.elements.splice(index,1)),$el.removeData("uniformed"),$el.removeAttr("data-uniform-applied"),$el.removeData("uniform-applied")}))},$.uniform.update=$.fn.uniform.update=function(elem){elem===undef&&(elem=$.uniform.elements),$(elem).each((function(){var elementData,uniformApplied,$el=$(this);elementData=$el.data("uniformed"),uniformApplied=$el.data("uniform-applied"),elementData&&uniformApplied&&elementData.update($el,elementData.options)}))}}(this,jQuery),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory(global.ActiveStorage={})}(this,(function(exports){"use strict";function createCommonjsModule(fn,module){return fn(module={"exports":{}},module.exports),module.exports}function getMetaValue(name){var element=findElement(document.head,'meta[name="'+name+'"]');if(element)return element.getAttribute("content")}function findElements(root,selector){return"string"==typeof root&&(selector=root,root=document),toArray$1(root.querySelectorAll(selector))}function findElement(root,selector){return"string"==typeof root&&(selector=root,root=document),root.querySelector(selector)}function dispatchEvent(element,type){var eventInit=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},disabled=element.disabled,bubbles=eventInit.bubbles,cancelable=eventInit.cancelable,detail=eventInit.detail,event=document.createEvent("Event");event.initEvent(type,bubbles||!0,cancelable||!0),event.detail=detail||{};try{element.disabled=!1,element.dispatchEvent(event)}finally{element.disabled=disabled}return event}function toArray$1(value){return Array.isArray(value)?value:Array.from?Array.from(value):[].slice.call(value)}function notify(object,methodName){if(object&&"function"==typeof object[methodName]){for(var _len=arguments.length,messages=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++)messages[_key-2]=arguments[_key];return object[methodName].apply(object,messages)}}function start(){started||(started=!0,document.addEventListener("click",didClick,!0),document.addEventListener("submit",didSubmitForm),document.addEventListener("ajax:before",didSubmitRemoteElement))}function didClick(event){var target=event.target;"INPUT"!=target.tagName&&"BUTTON"!=target.tagName||"submit"!=target.type||!target.form||submitButtonsByForm.set(target.form,target)}function didSubmitForm(event){handleFormSubmissionEvent(event)}function didSubmitRemoteElement(event){"FORM"==event.target.tagName&&handleFormSubmissionEvent(event)}function handleFormSubmissionEvent(event){var form=event.target;if(form.hasAttribute(processingAttribute))event.preventDefault();else{var controller=new DirectUploadsController(form),inputs=controller.inputs;inputs.length&&(event.preventDefault(),form.setAttribute(processingAttribute,""),inputs.forEach(disable),controller.start((function(error){form.removeAttribute(processingAttribute),error?inputs.forEach(enable):submitForm(form)})))}}function submitForm(form){var button=submitButtonsByForm.get(form)||findElement(form,"input[type=submit], button[type=submit]");if(button){var disabled=button.disabled;button.disabled=!1,button.focus(),button.click(),button.disabled=disabled}else(button=document.createElement("input")).type="submit",button.style.display="none",form.appendChild(button),button.click(),form.removeChild(button);submitButtonsByForm.delete(form)}function disable(input){input.disabled=!0}function enable(input){input.disabled=!1}function autostart(){window.ActiveStorage&&start()}var sparkMd5=createCommonjsModule((function(module){var factory;factory=function(undefined){function md5cycle(x,k){var a=x[0],b=x[1],c=x[2],d=x[3];b=((b+=((c=((c+=((d=((d+=((a=((a+=(b&c|~b&d)+k[0]-680876936|0)<<7|a>>>25)+b|0)&b|~a&c)+k[1]-389564586|0)<<12|d>>>20)+a|0)&a|~d&b)+k[2]+606105819|0)<<17|c>>>15)+d|0)&d|~c&a)+k[3]-1044525330|0)<<22|b>>>10)+c|0,b=((b+=((c=((c+=((d=((d+=((a=((a+=(b&c|~b&d)+k[4]-176418897|0)<<7|a>>>25)+b|0)&b|~a&c)+k[5]+1200080426|0)<<12|d>>>20)+a|0)&a|~d&b)+k[6]-1473231341|0)<<17|c>>>15)+d|0)&d|~c&a)+k[7]-45705983|0)<<22|b>>>10)+c|0,b=((b+=((c=((c+=((d=((d+=((a=((a+=(b&c|~b&d)+k[8]+1770035416|0)<<7|a>>>25)+b|0)&b|~a&c)+k[9]-1958414417|0)<<12|d>>>20)+a|0)&a|~d&b)+k[10]-42063|0)<<17|c>>>15)+d|0)&d|~c&a)+k[11]-1990404162|0)<<22|b>>>10)+c|0,b=((b+=((c=((c+=((d=((d+=((a=((a+=(b&c|~b&d)+k[12]+1804603682|0)<<7|a>>>25)+b|0)&b|~a&c)+k[13]-40341101|0)<<12|d>>>20)+a|0)&a|~d&b)+k[14]-1502002290|0)<<17|c>>>15)+d|0)&d|~c&a)+k[15]+1236535329|0)<<22|b>>>10)+c|0,b=((b+=((c=((c+=((d=((d+=((a=((a+=(b&d|c&~d)+k[1]-165796510|0)<<5|a>>>27)+b|0)&c|b&~c)+k[6]-1069501632|0)<<9|d>>>23)+a|0)&b|a&~b)+k[11]+643717713|0)<<14|c>>>18)+d|0)&a|d&~a)+k[0]-373897302|0)<<20|b>>>12)+c|0,b=((b+=((c=((c+=((d=((d+=((a=((a+=(b&d|c&~d)+k[5]-701558691|0)<<5|a>>>27)+b|0)&c|b&~c)+k[10]+38016083|0)<<9|d>>>23)+a|0)&b|a&~b)+k[15]-660478335|0)<<14|c>>>18)+d|0)&a|d&~a)+k[4]-405537848|0)<<20|b>>>12)+c|0,b=((b+=((c=((c+=((d=((d+=((a=((a+=(b&d|c&~d)+k[9]+568446438|0)<<5|a>>>27)+b|0)&c|b&~c)+k[14]-1019803690|0)<<9|d>>>23)+a|0)&b|a&~b)+k[3]-187363961|0)<<14|c>>>18)+d|0)&a|d&~a)+k[8]+1163531501|0)<<20|b>>>12)+c|0,b=((b+=((c=((c+=((d=((d+=((a=((a+=(b&d|c&~d)+k[13]-1444681467|0)<<5|a>>>27)+b|0)&c|b&~c)+k[2]-51403784|0)<<9|d>>>23)+a|0)&b|a&~b)+k[7]+1735328473|0)<<14|c>>>18)+d|0)&a|d&~a)+k[12]-1926607734|0)<<20|b>>>12)+c|0,b=((b+=((c=((c+=((d=((d+=((a=((a+=(b^c^d)+k[5]-378558|0)<<4|a>>>28)+b|0)^b^c)+k[8]-2022574463|0)<<11|d>>>21)+a|0)^a^b)+k[11]+1839030562|0)<<16|c>>>16)+d|0)^d^a)+k[14]-35309556|0)<<23|b>>>9)+c|0,b=((b+=((c=((c+=((d=((d+=((a=((a+=(b^c^d)+k[1]-1530992060|0)<<4|a>>>28)+b|0)^b^c)+k[4]+1272893353|0)<<11|d>>>21)+a|0)^a^b)+k[7]-155497632|0)<<16|c>>>16)+d|0)^d^a)+k[10]-1094730640|0)<<23|b>>>9)+c|0,b=((b+=((c=((c+=((d=((d+=((a=((a+=(b^c^d)+k[13]+681279174|0)<<4|a>>>28)+b|0)^b^c)+k[0]-358537222|0)<<11|d>>>21)+a|0)^a^b)+k[3]-722521979|0)<<16|c>>>16)+d|0)^d^a)+k[6]+76029189|0)<<23|b>>>9)+c|0,b=((b+=((c=((c+=((d=((d+=((a=((a+=(b^c^d)+k[9]-640364487|0)<<4|a>>>28)+b|0)^b^c)+k[12]-421815835|0)<<11|d>>>21)+a|0)^a^b)+k[15]+530742520|0)<<16|c>>>16)+d|0)^d^a)+k[2]-995338651|0)<<23|b>>>9)+c|0,b=((b+=((d=((d+=(b^((a=((a+=(c^(b|~d))+k[0]-198630844|0)<<6|a>>>26)+b|0)|~c))+k[7]+1126891415|0)<<10|d>>>22)+a|0)^((c=((c+=(a^(d|~b))+k[14]-1416354905|0)<<15|c>>>17)+d|0)|~a))+k[5]-57434055|0)<<21|b>>>11)+c|0,b=((b+=((d=((d+=(b^((a=((a+=(c^(b|~d))+k[12]+1700485571|0)<<6|a>>>26)+b|0)|~c))+k[3]-1894986606|0)<<10|d>>>22)+a|0)^((c=((c+=(a^(d|~b))+k[10]-1051523|0)<<15|c>>>17)+d|0)|~a))+k[1]-2054922799|0)<<21|b>>>11)+c|0,b=((b+=((d=((d+=(b^((a=((a+=(c^(b|~d))+k[8]+1873313359|0)<<6|a>>>26)+b|0)|~c))+k[15]-30611744|0)<<10|d>>>22)+a|0)^((c=((c+=(a^(d|~b))+k[6]-1560198380|0)<<15|c>>>17)+d|0)|~a))+k[13]+1309151649|0)<<21|b>>>11)+c|0,b=((b+=((d=((d+=(b^((a=((a+=(c^(b|~d))+k[4]-145523070|0)<<6|a>>>26)+b|0)|~c))+k[11]-1120210379|0)<<10|d>>>22)+a|0)^((c=((c+=(a^(d|~b))+k[2]+718787259|0)<<15|c>>>17)+d|0)|~a))+k[9]-343485551|0)<<21|b>>>11)+c|0,x[0]=a+x[0]|0,x[1]=b+x[1]|0,x[2]=c+x[2]|0,x[3]=d+x[3]|0}function md5blk(s){var i,md5blks=[];for(i=0;i<64;i+=4)md5blks[i>>2]=s.charCodeAt(i)+(s.charCodeAt(i+1)<<8)+(s.charCodeAt(i+2)<<16)+(s.charCodeAt(i+3)<<24);return md5blks}function md5blk_array(a){var i,md5blks=[];for(i=0;i<64;i+=4)md5blks[i>>2]=a[i]+(a[i+1]<<8)+(a[i+2]<<16)+(a[i+3]<<24);return md5blks}function md51(s){var i,length,tail,tmp,lo,hi,n=s.length,state=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=n;i+=64)md5cycle(state,md5blk(s.substring(i-64,i)));for(length=(s=s.substring(i-64)).length,tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0;i<length;i+=1)tail[i>>2]|=s.charCodeAt(i)<<(i%4<<3);if(tail[i>>2]|=128<<(i%4<<3),i>55)for(md5cycle(state,tail),i=0;i<16;i+=1)tail[i]=0;return tmp=(tmp=8*n).toString(16).match(/(.*?)(.{0,8})$/),lo=parseInt(tmp[2],16),hi=parseInt(tmp[1],16)||0,tail[14]=lo,tail[15]=hi,md5cycle(state,tail),state}function md51_array(a){var i,length,tail,tmp,lo,hi,n=a.length,state=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=n;i+=64)md5cycle(state,md5blk_array(a.subarray(i-64,i)));for(length=(a=i-64<n?a.subarray(i-64):new Uint8Array(0)).length,tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0;i<length;i+=1)tail[i>>2]|=a[i]<<(i%4<<3);if(tail[i>>2]|=128<<(i%4<<3),i>55)for(md5cycle(state,tail),i=0;i<16;i+=1)tail[i]=0;return tmp=(tmp=8*n).toString(16).match(/(.*?)(.{0,8})$/),lo=parseInt(tmp[2],16),hi=parseInt(tmp[1],16)||0,tail[14]=lo,tail[15]=hi,md5cycle(state,tail),state}function rhex(n){var j,s="";for(j=0;j<4;j+=1)s+=hex_chr[n>>8*j+4&15]+hex_chr[n>>8*j&15];return s}function hex(x){var i;for(i=0;i<x.length;i+=1)x[i]=rhex(x[i]);return x.join("")}function toUtf8(str){return/[\u0080-\uFFFF]/.test(str)&&(str=unescape(encodeURIComponent(str))),str}function utf8Str2ArrayBuffer(str,returnUInt8Array){var i,length=str.length,buff=new ArrayBuffer(length),arr=new Uint8Array(buff);for(i=0;i<length;i+=1)arr[i]=str.charCodeAt(i);return returnUInt8Array?arr:buff}function arrayBuffer2Utf8Str(buff){return String.fromCharCode.apply(null,new Uint8Array(buff))}function concatenateArrayBuffers(first,second,returnUInt8Array){var result=new Uint8Array(first.byteLength+second.byteLength);return result.set(new Uint8Array(first)),result.set(new Uint8Array(second),first.byteLength),returnUInt8Array?result:result.buffer}function hexToBinaryString(hex){var x,bytes=[],length=hex.length;for(x=0;x<length-1;x+=2)bytes.push(parseInt(hex.substr(x,2),16));return String.fromCharCode.apply(String,bytes)}function SparkMD5(){this.reset()}var hex_chr=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return hex(md51("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function clamp(val,length){return(val=0|val||0)<0?Math.max(val+length,0):Math.min(val,length)}ArrayBuffer.prototype.slice=function(from,to){var num,target,targetArray,sourceArray,length=this.byteLength,begin=clamp(from,length),end=length;return to!==undefined&&(end=clamp(to,length)),begin>end?new ArrayBuffer(0):(num=end-begin,target=new ArrayBuffer(num),targetArray=new Uint8Array(target),sourceArray=new Uint8Array(this,begin,num),targetArray.set(sourceArray),target)}}(),SparkMD5.prototype.append=function(str){return this.appendBinary(toUtf8(str)),this},SparkMD5.prototype.appendBinary=function(contents){this._buff+=contents,this._length+=contents.length;var i,length=this._buff.length;for(i=64;i<=length;i+=64)md5cycle(this._hash,md5blk(this._buff.substring(i-64,i)));return this._buff=this._buff.substring(i-64),this},SparkMD5.prototype.end=function(raw){var i,ret,buff=this._buff,length=buff.length,tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<length;i+=1)tail[i>>2]|=buff.charCodeAt(i)<<(i%4<<3);return this._finish(tail,length),ret=hex(this._hash),raw&&(ret=hexToBinaryString(ret)),this.reset(),ret},SparkMD5.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},SparkMD5.prototype.getState=function(){return{"buff":this._buff,"length":this._length,"hash":this._hash}},SparkMD5.prototype.setState=function(state){return this._buff=state.buff,this._length=state.length,this._hash=state.hash,this},SparkMD5.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},SparkMD5.prototype._finish=function(tail,length){var tmp,lo,hi,i=length;if(tail[i>>2]|=128<<(i%4<<3),i>55)for(md5cycle(this._hash,tail),i=0;i<16;i+=1)tail[i]=0;tmp=(tmp=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),lo=parseInt(tmp[2],16),hi=parseInt(tmp[1],16)||0,tail[14]=lo,tail[15]=hi,md5cycle(this._hash,tail)},SparkMD5.hash=function(str,raw){return SparkMD5.hashBinary(toUtf8(str),raw)},SparkMD5.hashBinary=function(content,raw){var ret=hex(md51(content));return raw?hexToBinaryString(ret):ret},SparkMD5.ArrayBuffer=function(){this.reset()},SparkMD5.ArrayBuffer.prototype.append=function(arr){var i,buff=concatenateArrayBuffers(this._buff.buffer,arr,!0),length=buff.length;for(this._length+=arr.byteLength,i=64;i<=length;i+=64)md5cycle(this._hash,md5blk_array(buff.subarray(i-64,i)));return this._buff=i-64<length?new Uint8Array(buff.buffer.slice(i-64)):new Uint8Array(0),this},SparkMD5.ArrayBuffer.prototype.end=function(raw){var i,ret,buff=this._buff,length=buff.length,tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<length;i+=1)tail[i>>2]|=buff[i]<<(i%4<<3);return this._finish(tail,length),ret=hex(this._hash),raw&&(ret=hexToBinaryString(ret)),this.reset(),ret},SparkMD5.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},SparkMD5.ArrayBuffer.prototype.getState=function(){var state=SparkMD5.prototype.getState.call(this);return state.buff=arrayBuffer2Utf8Str(state.buff),state},SparkMD5.ArrayBuffer.prototype.setState=function(state){return state.buff=utf8Str2ArrayBuffer(state.buff,!0),SparkMD5.prototype.setState.call(this,state)},SparkMD5.ArrayBuffer.prototype.destroy=SparkMD5.prototype.destroy,SparkMD5.ArrayBuffer.prototype._finish=SparkMD5.prototype._finish,SparkMD5.ArrayBuffer.hash=function(arr,raw){var ret=hex(md51_array(new Uint8Array(arr)));return raw?hexToBinaryString(ret):ret},SparkMD5},module.exports=factory()})),classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),fileSlice=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,FileChecksum=function(){function FileChecksum(file){classCallCheck(this,FileChecksum),this.file=file,this.chunkSize=2097152,this.chunkCount=Math.ceil(this.file.size/this.chunkSize),this.chunkIndex=0}return createClass(FileChecksum,null,[{"key":"create","value":function(file,callback){new FileChecksum(file).create(callback)}}]),createClass(FileChecksum,[{"key":"create","value":function(callback){var _this=this;this.callback=callback,this.md5Buffer=new sparkMd5.ArrayBuffer,this.fileReader=new FileReader,this.fileReader.addEventListener("load",(function(event){return _this.fileReaderDidLoad(event)})),this.fileReader.addEventListener("error",(function(event){return _this.fileReaderDidError(event)})),this.readNextChunk()}},{"key":"fileReaderDidLoad","value":function(event){if(this.md5Buffer.append(event.target.result),!this.readNextChunk()){var binaryDigest=this.md5Buffer.end(!0),base64digest=btoa(binaryDigest);this.callback(null,base64digest)}}},{"key":"fileReaderDidError","value":function(){this.callback("Error reading "+this.file.name)}},{"key":"readNextChunk","value":function(){if(this.chunkIndex<this.chunkCount||0==this.chunkIndex&&0==this.chunkCount){var start=this.chunkIndex*this.chunkSize,end=Math.min(start+this.chunkSize,this.file.size),bytes=fileSlice.call(this.file,start,end);return this.fileReader.readAsArrayBuffer(bytes),this.chunkIndex++,!0}return!1}}]),FileChecksum}(),BlobRecord=function(){function BlobRecord(file,checksum,url){var _this=this;classCallCheck(this,BlobRecord),this.file=file,this.attributes={"filename":file.name,"content_type":file.type||"application/octet-stream","byte_size":file.size,"checksum":checksum},this.xhr=new XMLHttpRequest,this.xhr.open("POST",url,!0),this.xhr.responseType="json",this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("Accept","application/json"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");var csrfToken=getMetaValue("csrf-token");null!=csrfToken&&this.xhr.setRequestHeader("X-CSRF-Token",csrfToken),this.xhr.addEventListener("load",(function(event){return _this.requestDidLoad(event)})),this.xhr.addEventListener("error",(function(event){return _this.requestDidError(event)}))}return createClass(BlobRecord,[{"key":"create","value":function(callback){this.callback=callback,this.xhr.send(JSON.stringify({"blob":this.attributes}))}},{"key":"requestDidLoad","value":function(event){if(this.status>=200&&this.status<300){var response=this.response,direct_upload=response.direct_upload;delete response.direct_upload,this.attributes=response,this.directUploadData=direct_upload,this.callback(null,this.toJSON())}else this.requestDidError(event)}},{"key":"requestDidError","value":function(){this.callback('Error creating Blob for "'+this.file.name+'". Status: '+this.status)}},{"key":"toJSON","value":function(){var result={};for(var key in this.attributes)result[key]=this.attributes[key];return result}},{"key":"status","get":function(){return this.xhr.status}},{"key":"response","get":function(){var _xhr=this.xhr,responseType=_xhr.responseType,response=_xhr.response;return"json"==responseType?response:JSON.parse(response)}}]),BlobRecord}(),BlobUpload=function(){function BlobUpload(blob){var _this=this;classCallCheck(this,BlobUpload),this.blob=blob,this.file=blob.file;var _blob$directUploadDat=blob.directUploadData,url=_blob$directUploadDat.url,headers=_blob$directUploadDat.headers;for(var key in this.xhr=new XMLHttpRequest,this.xhr.open("PUT",url,!0),this.xhr.responseType="text",headers)this.xhr.setRequestHeader(key,headers[key]);this.xhr.addEventListener("load",(function(event){return _this.requestDidLoad(event)})),this.xhr.addEventListener("error",(function(event){return _this.requestDidError(event)}))}return createClass(BlobUpload,[{"key":"create","value":function(callback){this.callback=callback,this.xhr.send(this.file.slice())}},{"key":"requestDidLoad","value":function(event){var _xhr=this.xhr,status=_xhr.status,response=_xhr.response;status>=200&&status<300?this.callback(null,response):this.requestDidError(event)}},{"key":"requestDidError","value":function(){this.callback('Error storing "'+this.file.name+'". Status: '+this.xhr.status)}}]),BlobUpload}(),id=0,DirectUpload=function(){function DirectUpload(file,url,delegate){classCallCheck(this,DirectUpload),this.id=++id,this.file=file,this.url=url,this.delegate=delegate}return createClass(DirectUpload,[{"key":"create","value":function(callback){var _this=this;FileChecksum.create(this.file,(function(error,checksum){if(error)callback(error);else{var blob=new BlobRecord(_this.file,checksum,_this.url);notify(_this.delegate,"directUploadWillCreateBlobWithXHR",blob.xhr),blob.create((function(error){if(error)callback(error);else{var upload=new BlobUpload(blob);notify(_this.delegate,"directUploadWillStoreFileWithXHR",upload.xhr),upload.create((function(error){error?callback(error):callback(null,blob.toJSON())}))}}))}}))}}]),DirectUpload}(),DirectUploadController=function(){function DirectUploadController(input,file){classCallCheck(this,DirectUploadController),this.input=input,this.file=file,this.directUpload=new DirectUpload(this.file,this.url,this),this.dispatch("initialize")}return createClass(DirectUploadController,[{"key":"start","value":function(callback){var _this=this,hiddenInput=document.createElement("input");hiddenInput.type="hidden",hiddenInput.name=this.input.name,this.input.insertAdjacentElement("beforebegin",hiddenInput),this.dispatch("start"),
this.directUpload.create((function(error,attributes){error?(hiddenInput.parentNode.removeChild(hiddenInput),_this.dispatchError(error)):hiddenInput.value=attributes.signed_id,_this.dispatch("end"),callback(error)}))}},{"key":"uploadRequestDidProgress","value":function(event){var progress=event.loaded/event.total*100;progress&&this.dispatch("progress",{"progress":progress})}},{"key":"dispatch","value":function(name){var detail=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return detail.file=this.file,detail.id=this.directUpload.id,dispatchEvent(this.input,"direct-upload:"+name,{"detail":detail})}},{"key":"dispatchError","value":function(error){this.dispatch("error",{"error":error}).defaultPrevented||alert(error)}},{"key":"directUploadWillCreateBlobWithXHR","value":function(xhr){this.dispatch("before-blob-request",{"xhr":xhr})}},{"key":"directUploadWillStoreFileWithXHR","value":function(xhr){var _this2=this;this.dispatch("before-storage-request",{"xhr":xhr}),xhr.upload.addEventListener("progress",(function(event){return _this2.uploadRequestDidProgress(event)}))}},{"key":"url","get":function(){return this.input.getAttribute("data-direct-upload-url")}}]),DirectUploadController}(),inputSelector="input[type=file][data-direct-upload-url]:not([disabled])",DirectUploadsController=function(){function DirectUploadsController(form){classCallCheck(this,DirectUploadsController),this.form=form,this.inputs=findElements(form,inputSelector).filter((function(input){return input.files.length}))}return createClass(DirectUploadsController,[{"key":"start","value":function(callback){var _this=this,controllers=this.createDirectUploadControllers(),startNextController=function startNextController(){var controller=controllers.shift();controller?controller.start((function(error){error?(callback(error),_this.dispatch("end")):startNextController()})):(callback(),_this.dispatch("end"))};this.dispatch("start"),startNextController()}},{"key":"createDirectUploadControllers","value":function(){var controllers=[];return this.inputs.forEach((function(input){toArray$1(input.files).forEach((function(file){var controller=new DirectUploadController(input,file);controllers.push(controller)}))})),controllers}},{"key":"dispatch","value":function(name){var detail=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return dispatchEvent(this.form,"direct-uploads:"+name,{"detail":detail})}}]),DirectUploadsController}(),processingAttribute="data-direct-uploads-processing",submitButtonsByForm=new WeakMap,started=!1;setTimeout(autostart,1),exports.start=start,exports.DirectUpload=DirectUpload,Object.defineProperty(exports,"__esModule",{"value":!0})})),function($){"use strict";function Plugin(option,_relatedTarget){return this.each((function(){var $this=$(this),data=$this.data("bs.modal"),options=$.extend({},Modal.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("bs.modal",data=new Modal(this,options)),"string"==typeof option?data[option](_relatedTarget):options.show&&data.show(_relatedTarget)}))}var Modal=function(element,options){this.options=options,this.$body=$(document.body),this.$element=$(element),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,$.proxy((function(){this.$element.trigger("loaded.bs.modal")}),this))};Modal.VERSION="3.3.5",Modal.TRANSITION_DURATION=300,Modal.BACKDROP_TRANSITION_DURATION=150,Modal.DEFAULTS={"backdrop":!0,"keyboard":!0,"show":!0},Modal.prototype.toggle=function(_relatedTarget){return this.isShown?this.hide():this.show(_relatedTarget)},Modal.prototype.show=function(_relatedTarget){var that=this,e=$.Event("show.bs.modal",{"relatedTarget":_relatedTarget});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",(function(){that.$element.one("mouseup.dismiss.bs.modal",(function(e){$(e.target).is(that.$element)&&(that.ignoreBackdropClick=!0)}))})),this.backdrop((function(){var transition=$.support.transition&&that.$element.hasClass("fade");that.$element.parent().length||that.$element.appendTo(that.$body),that.$element.show().scrollTop(0),that.adjustDialog(),transition&&that.$element[0].offsetWidth,that.$element.addClass("in"),that.enforceFocus();var e=$.Event("shown.bs.modal",{"relatedTarget":_relatedTarget});transition?that.$dialog.one("bsTransitionEnd",(function(){that.$element.trigger("focus").trigger(e)})).emulateTransitionEnd(Modal.TRANSITION_DURATION):that.$element.trigger("focus").trigger(e)})))},Modal.prototype.hide=function(e){e&&e.preventDefault(),e=$.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),$(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),$.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",$.proxy(this.hideModal,this)).emulateTransitionEnd(Modal.TRANSITION_DURATION):this.hideModal())},Modal.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy((function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")}),this))},Modal.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",$.proxy((function(e){27==e.which&&this.hide()}),this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},Modal.prototype.resize=function(){this.isShown?$(window).on("resize.bs.modal",$.proxy(this.handleUpdate,this)):$(window).off("resize.bs.modal")},Modal.prototype.hideModal=function(){var that=this;this.$element.hide(),this.backdrop((function(){that.$body.removeClass("modal-open"),that.resetAdjustments(),that.resetScrollbar(),that.$element.trigger("hidden.bs.modal")}))},Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},Modal.prototype.backdrop=function(callback){var that=this,animate=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate;if(this.$backdrop=$(document.createElement("div")).addClass("modal-backdrop "+animate).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",$.proxy((function(e){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:e.target!==e.currentTarget&&"modal-dialog"!=e.target.className||("static"==this.options.backdrop?this.$element[0].focus():this.hide())}),this)),doAnimate&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!callback)return;doAnimate?this.$backdrop.one("bsTransitionEnd",callback).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var callbackRemove=function(){that.removeBackdrop(),callback&&callback()};$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",callbackRemove).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callbackRemove()}else callback&&callback()},Modal.prototype.handleUpdate=function(){this.adjustDialog()},Modal.prototype.adjustDialog=function(){var modalIsOverflowing=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({"paddingLeft":!this.bodyIsOverflowing&&modalIsOverflowing?this.scrollbarWidth:"","paddingRight":this.bodyIsOverflowing&&!modalIsOverflowing?this.scrollbarWidth:""})},Modal.prototype.resetAdjustments=function(){this.$element.css({"paddingLeft":"","paddingRight":""})},Modal.prototype.checkScrollbar=function(){var fullWindowWidth=window.innerWidth;if(!fullWindowWidth){var documentElementRect=document.documentElement.getBoundingClientRect();fullWindowWidth=documentElementRect.right-Math.abs(documentElementRect.left)}this.bodyIsOverflowing=document.body.clientWidth<fullWindowWidth,this.scrollbarWidth=this.measureScrollbar()},Modal.prototype.setScrollbar=function(){var bodyPad=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",bodyPad+this.scrollbarWidth)},Modal.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},Modal.prototype.measureScrollbar=function(){var scrollDiv=document.createElement("div");scrollDiv.className="modal-scrollbar-measure",this.$body.append(scrollDiv);var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;return this.$body[0].removeChild(scrollDiv),scrollbarWidth};var old=$.fn.modal;$.fn.modal=Plugin,$.fn.modal.Constructor=Modal,$.fn.modal.noConflict=function(){return $.fn.modal=old,this},$(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(e){var $this=$(this),href=$this.attr("href"),$target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,"")),option=$target.data("bs.modal")?"toggle":$.extend({"remote":!/#/.test(href)&&href},$target.data(),$this.data());$this.is("a")&&e.preventDefault(),$target.one("show.bs.modal",(function(showEvent){showEvent.isDefaultPrevented()||$target.one("hidden.bs.modal",(function(){$this.is(":visible")&&$this.trigger("focus")}))})),Plugin.call($target,option,this)}))}(jQuery),function($){"use strict";function transitionEnd(){var el=document.createElement("bootstrap"),transEndEventNames={"WebkitTransition":"webkitTransitionEnd","MozTransition":"transitionend","OTransition":"oTransitionEnd otransitionend","transition":"transitionend"};for(var name in transEndEventNames)if(void 0!==el.style[name])return{"end":transEndEventNames[name]};return!1}$.fn.emulateTransitionEnd=function(duration){var called=!1,$el=this;return $(this).one("bsTransitionEnd",(function(){called=!0})),setTimeout((function(){called||$($el).trigger($.support.transition.end)}),duration),this},$((function(){$.support.transition=transitionEnd(),$.support.transition&&($.event.special.bsTransitionEnd={"bindType":$.support.transition.end,"delegateType":$.support.transition.end,"handle":function(e){if($(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})}))}(jQuery),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global=global||self).Mustache=factory()}(this,(function(){"use strict";function isFunction(object){return"function"==typeof object}function typeStr(obj){return isArray(obj)?"array":typeof obj}function escapeRegExp(string){return string.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function hasProperty(obj,propName){return null!=obj&&"object"==typeof obj&&propName in obj}function primitiveHasOwnProperty(primitive,propName){return null!=primitive&&"object"!=typeof primitive&&primitive.hasOwnProperty&&primitive.hasOwnProperty(propName)}function testRegExp(re,string){return regExpTest.call(re,string)}function isWhitespace(string){return!testRegExp(nonSpaceRe,string)}function escapeHtml(string){return String(string).replace(/[&<>"'`=\/]/g,(function(s){return entityMap[s]}))}function parseTemplate(template,tags){function stripSpace(){if(hasTag&&!nonSpace)for(;spaces.length;)delete tokens[spaces.pop()];else spaces=[];hasTag=!1,nonSpace=!1}function compileTags(tagsToCompile){if("string"==typeof tagsToCompile&&(tagsToCompile=tagsToCompile.split(spaceRe,2)),!isArray(tagsToCompile)||2!==tagsToCompile.length)throw new Error("Invalid tags: "+tagsToCompile);openingTagRe=new RegExp(escapeRegExp(tagsToCompile[0])+"\\s*"),closingTagRe=new RegExp("\\s*"+escapeRegExp(tagsToCompile[1])),closingCurlyRe=new RegExp("\\s*"+escapeRegExp("}"+tagsToCompile[1]))}if(!template)return[];var openingTagRe,closingTagRe,closingCurlyRe,lineHasNonSpace=!1,sections=[],tokens=[],spaces=[],hasTag=!1,nonSpace=!1,indentation="",tagIndex=0;compileTags(tags||mustache.tags);for(var start,type,value,chr,token,openSection,scanner=new Scanner(template);!scanner.eos();){if(start=scanner.pos,value=scanner.scanUntil(openingTagRe))for(var i=0,valueLength=value.length;i<valueLength;++i)isWhitespace(chr=value.charAt(i))?(spaces.push(tokens.length),indentation+=chr):(nonSpace=!0,lineHasNonSpace=!0,indentation+=" "),tokens.push(["text",chr,start,start+1]),start+=1,"\n"===chr&&(stripSpace(),indentation="",tagIndex=0,lineHasNonSpace=!1);if(!scanner.scan(openingTagRe))break;if(hasTag=!0,type=scanner.scan(tagRe)||"name",scanner.scan(whiteRe),"="===type?(value=scanner.scanUntil(equalsRe),scanner.scan(equalsRe),scanner.scanUntil(closingTagRe)):"{"===type?(value=scanner.scanUntil(closingCurlyRe),scanner.scan(curlyRe),scanner.scanUntil(closingTagRe),type="&"):value=scanner.scanUntil(closingTagRe),!scanner.scan(closingTagRe))throw new Error("Unclosed tag at "+scanner.pos);if(token=">"==type?[type,value,start,scanner.pos,indentation,tagIndex,lineHasNonSpace]:[type,value,start,scanner.pos],tagIndex++,tokens.push(token),"#"===type||"^"===type)sections.push(token);else if("/"===type){if(!(openSection=sections.pop()))throw new Error('Unopened section "'+value+'" at '+start);if(openSection[1]!==value)throw new Error('Unclosed section "'+openSection[1]+'" at '+start)}else"name"===type||"{"===type||"&"===type?nonSpace=!0:"="===type&&compileTags(value)}if(stripSpace(),openSection=sections.pop())throw new Error('Unclosed section "'+openSection[1]+'" at '+scanner.pos);return nestTokens(squashTokens(tokens))}function squashTokens(tokens){for(var token,lastToken,squashedTokens=[],i=0,numTokens=tokens.length;i<numTokens;++i)(token=tokens[i])&&("text"===token[0]&&lastToken&&"text"===lastToken[0]?(lastToken[1]+=token[1],lastToken[3]=token[3]):(squashedTokens.push(token),lastToken=token));return squashedTokens}function nestTokens(tokens){for(var token,nestedTokens=[],collector=nestedTokens,sections=[],i=0,numTokens=tokens.length;i<numTokens;++i)switch((token=tokens[i])[0]){case"#":case"^":collector.push(token),sections.push(token),collector=token[4]=[];break;case"/":sections.pop()[5]=token[2],collector=sections.length>0?sections[sections.length-1][4]:nestedTokens;break;default:collector.push(token)}return nestedTokens}function Scanner(string){this.string=string,this.tail=string,this.pos=0}function Context(view,parentContext){this.view=view,this.cache={".":this.view},this.parent=parentContext}function Writer(){this.templateCache={"_cache":{},"set":function(key,value){this._cache[key]=value},"get":function(key){return this._cache[key]},"clear":function(){this._cache={}}}}var objectToString=Object.prototype.toString,isArray=Array.isArray||function(object){return"[object Array]"===objectToString.call(object)},regExpTest=RegExp.prototype.test,nonSpaceRe=/\S/,entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},whiteRe=/\s*/,spaceRe=/\s+/,equalsRe=/\s*=/,curlyRe=/\s*\}/,tagRe=/#|\^|\/|>|\{|&|=|!/;Scanner.prototype.eos=function(){return""===this.tail},Scanner.prototype.scan=function(re){var match=this.tail.match(re);if(!match||0!==match.index)return"";var string=match[0];return this.tail=this.tail.substring(string.length),this.pos+=string.length,string},Scanner.prototype.scanUntil=function(re){var match,index=this.tail.search(re);switch(index){case-1:match=this.tail,this.tail="";break;case 0:match="";break;default:match=this.tail.substring(0,index),this.tail=this.tail.substring(index)}return this.pos+=match.length,match},Context.prototype.push=function(view){return new Context(view,this)},Context.prototype.lookup=function(name){var value,cache=this.cache;if(cache.hasOwnProperty(name))value=cache[name];else{for(var intermediateValue,names,index,context=this,lookupHit=!1;context;){if(name.indexOf(".")>0)for(intermediateValue=context.view,names=name.split("."),index=0;null!=intermediateValue&&index<names.length;)index===names.length-1&&(lookupHit=hasProperty(intermediateValue,names[index])||primitiveHasOwnProperty(intermediateValue,names[index])),intermediateValue=intermediateValue[names[index++]];else intermediateValue=context.view[name],lookupHit=hasProperty(context.view,name);if(lookupHit){value=intermediateValue;break}context=context.parent}cache[name]=value}return isFunction(value)&&(value=value.call(this.view)),value},Writer.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},Writer.prototype.parse=function(template,tags){var cache=this.templateCache,cacheKey=template+":"+(tags||mustache.tags).join(":"),isCacheEnabled=void 0!==cache,tokens=isCacheEnabled?cache.get(cacheKey):void 0;return null==tokens&&(tokens=parseTemplate(template,tags),isCacheEnabled&&cache.set(cacheKey,tokens)),tokens},Writer.prototype.render=function(template,view,partials,config){var tags=this.getConfigTags(config),tokens=this.parse(template,tags),context=view instanceof Context?view:new Context(view,void 0);return this.renderTokens(tokens,context,partials,template,config)},Writer.prototype.renderTokens=function(tokens,context,partials,originalTemplate,config){for(var token,symbol,value,buffer="",i=0,numTokens=tokens.length;i<numTokens;++i)value=void 0,"#"===(symbol=(token=tokens[i])[0])?value=this.renderSection(token,context,partials,originalTemplate,config):"^"===symbol?value=this.renderInverted(token,context,partials,originalTemplate,config):">"===symbol?value=this.renderPartial(token,context,partials,config):"&"===symbol?value=this.unescapedValue(token,context):"name"===symbol?value=this.escapedValue(token,context,config):"text"===symbol&&(value=this.rawValue(token)),void 0!==value&&(buffer+=value);return buffer},Writer.prototype.renderSection=function(token,context,partials,originalTemplate,config){function subRender(template){return self.render(template,context,partials,config)}var self=this,buffer="",value=context.lookup(token[1]);if(value){if(isArray(value))for(var j=0,valueLength=value.length;j<valueLength;++j)buffer+=this.renderTokens(token[4],context.push(value[j]),partials,originalTemplate,config);else if("object"==typeof value||"string"==typeof value||"number"==typeof value)buffer+=this.renderTokens(token[4],context.push(value),partials,originalTemplate,config);else if(isFunction(value)){if("string"!=typeof originalTemplate)throw new Error("Cannot use higher-order sections without the original template");null!=(value=value.call(context.view,originalTemplate.slice(token[3],token[5]),subRender))&&(buffer+=value)}else buffer+=this.renderTokens(token[4],context,partials,originalTemplate,config);return buffer}},Writer.prototype.renderInverted=function(token,context,partials,originalTemplate,config){var value=context.lookup(token[1]);if(!value||isArray(value)&&0===value.length)return this.renderTokens(token[4],context,partials,originalTemplate,config)},Writer.prototype.indentPartial=function(partial,indentation,lineHasNonSpace){for(var filteredIndentation=indentation.replace(/[^ \t]/g,""),partialByNl=partial.split("\n"),i=0;i<partialByNl.length;i++)partialByNl[i].length&&(i>0||!lineHasNonSpace)&&(partialByNl[i]=filteredIndentation+partialByNl[i]);return partialByNl.join("\n")},Writer.prototype.renderPartial=function(token,context,partials,config){if(partials){var tags=this.getConfigTags(config),value=isFunction(partials)?partials(token[1]):partials[token[1]];if(null!=value){var lineHasNonSpace=token[6],tagIndex=token[5],indentation=token[4],indentedValue=value;0==tagIndex&&indentation&&(indentedValue=this.indentPartial(value,indentation,lineHasNonSpace));var tokens=this.parse(indentedValue,tags);return this.renderTokens(tokens,context,partials,indentedValue,config)}}},Writer.prototype.unescapedValue=function(token,context){var value=context.lookup(token[1]);if(null!=value)return value},Writer.prototype.escapedValue=function(token,context,config){var escape=this.getConfigEscape(config)||mustache.escape,value=context.lookup(token[1]);if(null!=value)return"number"==typeof value&&escape===mustache.escape?String(value):escape(value)},Writer.prototype.rawValue=function(token){return token[1]},Writer.prototype.getConfigTags=function(config){return isArray(config)?config:config&&"object"==typeof config?config.tags:void 0},Writer.prototype.getConfigEscape=function(config){return config&&"object"==typeof config&&!isArray(config)?config.escape:void 0};var mustache={"name":"mustache.js","version":"4.1.0","tags":["{{","}}"],"clearCache":void 0,"escape":void 0,"parse":void 0,"render":void 0,"Scanner":void 0,"Context":void 0,"Writer":void 0,set"templateCache"(cache){defaultWriter.templateCache=cache},get"templateCache"(){return defaultWriter.templateCache}},defaultWriter=new Writer;return mustache.clearCache=function(){return defaultWriter.clearCache()},mustache.parse=function(template,tags){return defaultWriter.parse(template,tags)},mustache.render=function(template,view,partials,config){if("string"!=typeof template)throw new TypeError('Invalid template! Template should be a "string" but "'+typeStr(template)+'" was given as the first argument for mustache#render(template, view, partials)');return defaultWriter.render(template,view,partials,config)},mustache.escape=escapeHtml,mustache.Scanner=Scanner,mustache.Context=Context,mustache.Writer=Writer,mustache})),function(root){function error(type){throw new RangeError(errors[type])}function map(array,fn){for(var length=array.length,result=[];length--;)result[length]=fn(array[length]);return result}function mapDomain(string,fn){var parts=string.split("@"),result="";return parts.length>1&&(result=parts[0]+"@",string=parts[1]),result+map((string=string.replace(regexSeparators,".")).split("."),fn).join(".")}function ucs2decode(string){for(var value,extra,output=[],counter=0,length=string.length;counter<length;)(value=string.charCodeAt(counter++))>=55296&&value<=56319&&counter<length?56320==(64512&(extra=string.charCodeAt(counter++)))?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--):output.push(value);return output}function ucs2encode(array){return map(array,(function(value){var output="";return value>65535&&(output+=stringFromCharCode((value-=65536)>>>10&1023|55296),value=56320|1023&value),output+=stringFromCharCode(value)})).join("")}function basicToDigit(codePoint){return codePoint-48<10?codePoint-22:codePoint-65<26?codePoint-65:codePoint-97<26?codePoint-97:base}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((0!=flag)<<5)}function adapt(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/damp):delta>>1,delta+=floor(delta/numPoints);delta>baseMinusTMin*tMax>>1;k+=base)delta=floor(delta/baseMinusTMin);return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var out,basic,j,index,oldi,w,k,digit,t,baseMinusT,output=[],inputLength=input.length,i=0,n=initialN,bias=initialBias;for((basic=input.lastIndexOf(delimiter))<0&&(basic=0),j=0;j<basic;++j)input.charCodeAt(j)>=128&&error("not-basic"),output.push(input.charCodeAt(j));for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;index>=inputLength&&error("invalid-input"),((digit=basicToDigit(input.charCodeAt(index++)))>=base||digit>floor((maxInt-i)/w))&&error("overflow"),i+=digit*w,!(digit<(t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias));k+=base)w>floor(maxInt/(baseMinusT=base-t))&&error("overflow"),w*=baseMinusT;bias=adapt(i-oldi,out=output.length+1,0==oldi),floor(i/out)>maxInt-n&&error("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,inputLength,handledCPCountPlusOne,baseMinusT,qMinusT,output=[];for(inputLength=(input=ucs2decode(input)).length,n=initialN,delta=0,bias=initialBias,j=0;j<inputLength;++j)(currentValue=input[j])<128&&output.push(stringFromCharCode(currentValue));for(handledCPCount=basicLength=output.length,basicLength&&output.push(delimiter);handledCPCount<inputLength;){for(m=maxInt,j=0;j<inputLength;++j)(currentValue=input[j])>=n&&currentValue<m&&(m=currentValue);for(m-n>floor((maxInt-delta)/(handledCPCountPlusOne=handledCPCount+1))&&error("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m,j=0;j<inputLength;++j)if((currentValue=input[j])<n&&++delta>maxInt&&error("overflow"),currentValue==n){for(q=delta,k=base;!(q<(t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias));k+=base)qMinusT=q-t,baseMinusT=base-t,output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT);output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}++delta,++n}return output.join("")}function toUnicode(input){return mapDomain(input,(function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string}))}function toASCII(input){return mapDomain(input,(function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string}))}var freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule="object"==typeof module&&module&&!module.nodeType&&module,freeGlobal="object"==typeof global&&global;freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal&&freeGlobal.self!==freeGlobal||(root=freeGlobal);var punycode,key,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={"overflow":"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;if(punycode={"version":"1.4.1","ucs2":{"decode":ucs2decode,"encode":ucs2encode},"decode":decode,"encode":encode,"toASCII":toASCII,"toUnicode":toUnicode},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",(function(){return punycode}));else if(freeExports&&freeModule)if(module.exports==freeExports)freeModule.exports=punycode;else for(key in punycode)punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key]);else root.punycode=punycode}(this),function($){void 0===$.fn.each2&&$.extend($.fn,{"each2":function(c){for(var j=$([0]),i=-1,l=this.length;++i<l&&(j.context=j[0]=this[i])&&!1!==c.call(j[0],i,j););return this}})}(jQuery),function($,undefined){"use strict";function reinsertElement(element){var placeholder=$(document.createTextNode(""));element.before(placeholder),placeholder.before(element),placeholder.remove()}function stripDiacritics(str){function match(a){return DIACRITICS[a]||a}return str.replace(/[^\u0000-\u007E]/g,match)}function indexOf(value,array){for(var i=0,l=array.length;i<l;i+=1)if(equal(value,array[i]))return i;return-1}function measureScrollbar(){var $template=$(MEASURE_SCROLLBAR_TEMPLATE);$template.appendTo("body");var dim={"width":$template.width()-$template[0].clientWidth,"height":$template.height()-$template[0].clientHeight};return $template.remove(),dim}function equal(a,b){return a===b||a!==undefined&&b!==undefined&&(null!==a&&null!==b&&(a.constructor===String?a+""==b+"":b.constructor===String&&b+""==a+""))}function splitVal(string,separator){var val,i,l;if(null===string||string.length<1)return[];for(i=0,l=(val=string.split(separator)).length;i<l;i+=1)val[i]=$.trim(val[i]);return val}function getSideBorderPadding(element){return element.outerWidth(!1)-element.width()}function installKeyUpChangeEvent(element){var key="keyup-change-value";element.on("keydown",(function(){$.data(element,key)===undefined&&$.data(element,key,element.val())})),element.on("keyup",(function(){var val=$.data(element,key);val!==undefined&&element.val()!==val&&($.removeData(element,key),element.trigger("keyup-change"))}))}function installFilteredMouseMove(element){element.on("mousemove",(function(e){var lastpos=lastMousePosition;lastpos!==undefined&&lastpos.x===e.pageX&&lastpos.y===e.pageY||$(e.target).trigger("mousemove-filtered",e)}))}function debounce(quietMillis,fn,ctx){var timeout;return ctx=ctx||undefined,function(){var args=arguments;window.clearTimeout(timeout),timeout=window.setTimeout((function(){fn.apply(ctx,args)}),quietMillis)}}function installDebouncedScroll(threshold,element){var notify=debounce(threshold,(function(e){element.trigger("scroll-debounced",e)}));element.on("scroll",(function(e){indexOf(e.target,element.get())>=0&&notify(e)}))}function focus($el){$el[0]!==document.activeElement&&window.setTimeout((function(){var range,el=$el[0],pos=$el.val().length;$el.focus(),(el.offsetWidth>0||el.offsetHeight>0)&&el===document.activeElement&&(el.setSelectionRange?el.setSelectionRange(pos,pos):el.createTextRange&&((range=el.createTextRange()).collapse(!1),range.select()))}),0)}function getCursorInfo(el){var offset=0,length=0;if("selectionStart"in(el=$(el)[0]))offset=el.selectionStart,length=el.selectionEnd-offset;else if("selection"in document){el.focus();var sel=document.selection.createRange();length=document.selection.createRange().text.length,sel.moveStart("character",-el.value.length),offset=sel.text.length-length}return{"offset":offset,"length":length}}function killEvent(event){event.preventDefault(),event.stopPropagation()}function killEventImmediately(event){event.preventDefault(),event.stopImmediatePropagation()}function measureTextWidth(e){if(!sizer){var style=e[0].currentStyle||window.getComputedStyle(e[0],null);(sizer=$(document.createElement("div")).css({"position":"absolute","left":"-10000px","top":"-10000px","display":"none","fontSize":style.fontSize,"fontFamily":style.fontFamily,"fontStyle":style.fontStyle,"fontWeight":style.fontWeight,"letterSpacing":style.letterSpacing,"textTransform":style.textTransform,"whiteSpace":"nowrap"})).attr("class","select2-sizer"),$("body").append(sizer)}return sizer.text(e.val()),sizer.width()}function syncCssClasses(dest,src,adapter){var classes,adapted,replacements=[];(classes=$.trim(dest.attr("class")))&&$((classes=""+classes).split(/\s+/)).each2((function(){0===this.indexOf("select2-")&&replacements.push(this)})),(classes=$.trim(src.attr("class")))&&$((classes=""+classes).split(/\s+/)).each2((function(){0!==this.indexOf("select2-")&&(adapted=adapter(this))&&replacements.push(adapted)})),dest.attr("class",replacements.join(" "))}function markMatch(text,term,markup,escapeMarkup){var match=stripDiacritics(text.toUpperCase()).indexOf(stripDiacritics(term.toUpperCase())),tl=term.length;match<0?markup.push(escapeMarkup(text)):(markup.push(escapeMarkup(text.substring(0,match))),markup.push("<span class='select2-match'>"),markup.push(escapeMarkup(text.substring(match,match+tl))),markup.push("</span>"),markup.push(escapeMarkup(text.substring(match+tl,text.length))))}function defaultEscapeMarkup(markup){var replace_map={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(markup).replace(/[&<>"'\/\\]/g,(function(match){return replace_map[match]}))}function ajax(options){var timeout,handler=null,quietMillis=options.quietMillis||100,ajaxUrl=options.url,self=this;return function(query){window.clearTimeout(timeout),timeout=window.setTimeout((function(){var data=options.data,url=ajaxUrl,transport=options.transport||$.fn.select2.ajaxDefaults.transport,deprecated={"type":options.type||"GET","cache":options.cache||!1,"jsonpCallback":options.jsonpCallback||undefined,"dataType":options.dataType||"json"},params=$.extend({},$.fn.select2.ajaxDefaults.params,deprecated);data=data?data.call(self,query.term,query.page,query.context):null,url="function"==typeof url?url.call(self,query.term,query.page,query.context):url,handler&&"function"==typeof handler.abort&&handler.abort(),options.params&&($.isFunction(options.params)?$.extend(params,options.params.call(self)):$.extend(params,options.params)),$.extend(params,{"url":url,"dataType":options.dataType,"data":data,"success":function(data){var results=options.results(data,query.page,query);query.callback(results)},"error":function(jqXHR,textStatus,errorThrown){var results={"hasError":!0,"jqXHR":jqXHR,"textStatus":textStatus,"errorThrown":errorThrown};query.callback(results)}}),handler=transport.call(self,params)}),quietMillis)}}function local(options){var dataText,tmp,data=options,text=function(item){return""+item.text};$.isArray(data)&&(data={"results":tmp=data}),!1===$.isFunction(data)&&(tmp=data,data=function(){return tmp});var dataItem=data();return dataItem.text&&(text=dataItem.text,$.isFunction(text)||(dataText=dataItem.text,text=function(item){
return item[dataText]})),function(query){var process,t=query.term,filtered={"results":[]};""!==t?(process=function(datum,collection){var group,attr;if((datum=datum[0]).children){for(attr in group={},datum)datum.hasOwnProperty(attr)&&(group[attr]=datum[attr]);group.children=[],$(datum.children).each2((function(i,childDatum){process(childDatum,group.children)})),(group.children.length||query.matcher(t,text(group),datum))&&collection.push(group)}else query.matcher(t,text(datum),datum)&&collection.push(datum)},$(data().results).each2((function(i,datum){process(datum,filtered.results)})),query.callback(filtered)):query.callback(data())}}function tags(data){var isFunc=$.isFunction(data);return function(query){var t=query.term,filtered={"results":[]},result=isFunc?data(query):data;$.isArray(result)&&($(result).each((function(){var isObject=this.text!==undefined,text=isObject?this.text:this;(""===t||query.matcher(t,text))&&filtered.results.push(isObject?this:{"id":this,"text":this})})),query.callback(filtered))}}function checkFormatter(formatter,formatterName){if($.isFunction(formatter))return!0;if(!formatter)return!1;if("string"==typeof formatter)return!0;throw new Error(formatterName+" must be a string, function, or falsy value")}function evaluate(val,context){if($.isFunction(val)){var args=Array.prototype.slice.call(arguments,2);return val.apply(context,args)}return val}function countResults(results){var count=0;return $.each(results,(function(i,item){item.children?count+=countResults(item.children):count++})),count}function defaultTokenizer(input,selection,selectCallback,opts){var token,index,i,l,separator,original=input,dupe=!1;if(!opts.createSearchChoice||!opts.tokenSeparators||opts.tokenSeparators.length<1)return undefined;for(;;){for(index=-1,i=0,l=opts.tokenSeparators.length;i<l&&(separator=opts.tokenSeparators[i],!((index=input.indexOf(separator))>=0));i++);if(index<0)break;if(token=input.substring(0,index),input=input.substring(index+separator.length),token.length>0&&(token=opts.createSearchChoice.call(this,token,selection))!==undefined&&null!==token&&opts.id(token)!==undefined&&null!==opts.id(token)){for(dupe=!1,i=0,l=selection.length;i<l;i++)if(equal(opts.id(token),opts.id(selection[i]))){dupe=!0;break}dupe||selectCallback(token)}}return original!==input?input:void 0}function cleanupJQueryElements(){var self=this;$.each(arguments,(function(i,element){self[element].remove(),self[element]=null}))}function clazz(SuperClass,methods){var constructor=function(){};return constructor.prototype=new SuperClass,constructor.prototype.constructor=constructor,constructor.prototype.parent=SuperClass.prototype,constructor.prototype=$.extend(constructor.prototype,methods),constructor}if(window.Select2===undefined){var AbstractSelect2,SingleSelect2,MultiSelect2,nextUid,sizer,$document,scrollBarDimensions,counter,lastMousePosition={"x":0,"y":0},KEY={"TAB":9,"ENTER":13,"ESC":27,"SPACE":32,"LEFT":37,"UP":38,"RIGHT":39,"DOWN":40,"SHIFT":16,"CTRL":17,"ALT":18,"PAGE_UP":33,"PAGE_DOWN":34,"HOME":36,"END":35,"BACKSPACE":8,"DELETE":46,"isArrow":function(k){switch(k=k.which?k.which:k){case KEY.LEFT:case KEY.RIGHT:case KEY.UP:case KEY.DOWN:return!0}return!1},"isControl":function(e){switch(e.which){case KEY.SHIFT:case KEY.CTRL:case KEY.ALT:return!0}return!!e.metaKey},"isFunctionKey":function(k){return(k=k.which?k.which:k)>=112&&k<=123}},MEASURE_SCROLLBAR_TEMPLATE="<div class='select2-measure-scrollbar'></div>",DIACRITICS={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"};$document=$(document),counter=1,nextUid=function(){return counter++},AbstractSelect2=clazz(Object,{"bind":function(func){var self=this;return function(){func.apply(self,arguments)}},"init":function(opts){var results,search,resultsSelector=".select2-results";this.opts=opts=this.prepareOpts(opts),this.id=opts.id,opts.element.data("select2")!==undefined&&null!==opts.element.data("select2")&&opts.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=$("<span>",{"role":"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(opts.element.attr("id")||"autogen"+nextUid()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",opts.element.attr("title")),this.body=$("body"),syncCssClasses(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",opts.element.attr("style")),this.container.css(evaluate(opts.containerCss,this.opts.element)),this.container.addClass(evaluate(opts.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",killEvent),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),syncCssClasses(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(evaluate(opts.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",killEvent),this.results=results=this.container.find(resultsSelector),this.search=search=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",killEvent),installFilteredMouseMove(this.results),this.dropdown.on("mousemove-filtered",resultsSelector,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",resultsSelector,this.bind((function(event){this._touchEvent=!0,this.highlightUnderEvent(event)}))),this.dropdown.on("touchmove",resultsSelector,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",resultsSelector,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind((function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())}))),installDebouncedScroll(80,this.results),this.dropdown.on("scroll-debounced",resultsSelector,this.bind(this.loadMoreIfNeeded)),$(this.container).on("change",".select2-input",(function(e){e.stopPropagation()})),$(this.dropdown).on("change",".select2-input",(function(e){e.stopPropagation()})),$.fn.mousewheel&&results.mousewheel((function(e,delta,deltaX,deltaY){var top=results.scrollTop();deltaY>0&&top-deltaY<=0?(results.scrollTop(0),killEvent(e)):deltaY<0&&results.get(0).scrollHeight-results.scrollTop()+deltaY<=results.height()&&(results.scrollTop(results.get(0).scrollHeight-results.height()),killEvent(e))})),installKeyUpChangeEvent(search),search.on("keyup-change input paste",this.bind(this.updateResults)),search.on("focus",(function(){search.addClass("select2-focused")})),search.on("blur",(function(){search.removeClass("select2-focused")})),this.dropdown.on("mouseup",resultsSelector,this.bind((function(e){$(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))}))),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",(function(e){e.stopPropagation()})),this.nextSearchTerm=undefined,$.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==opts.maximumInputLength&&this.search.attr("maxlength",opts.maximumInputLength);var disabled=opts.element.prop("disabled");disabled===undefined&&(disabled=!1),this.enable(!disabled);var readonly=opts.element.prop("readonly");readonly===undefined&&(readonly=!1),this.readonly(readonly),scrollBarDimensions=scrollBarDimensions||measureScrollbar(),this.autofocus=opts.element.prop("autofocus"),opts.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",opts.searchInputPlaceholder)},"destroy":function(){var element=this.opts.element,select2=element.data("select2"),self=this;this.close(),element.length&&element[0].detachEvent&&element.each((function(){this.detachEvent("onpropertychange",self._sync)})),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,select2!==undefined&&(select2.container.remove(),select2.liveRegion.remove(),select2.dropdown.remove(),element.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?element.attr({"tabindex":this.elementTabIndex}):element.removeAttr("tabindex"),element.show()),cleanupJQueryElements.call(this,"container","liveRegion","dropdown","results","search")},"optionToData":function(element){return element.is("option")?{"id":element.prop("value"),"text":element.text(),"element":element.get(),"css":element.attr("class"),"disabled":element.prop("disabled"),"locked":equal(element.attr("locked"),"locked")||equal(element.data("locked"),!0)}:element.is("optgroup")?{"text":element.attr("label"),"children":[],"element":element.get(),"css":element.attr("class")}:void 0},"prepareOpts":function(opts){var element,select,idKey,ajaxUrl,self=this;if("select"===(element=opts.element).get(0).tagName.toLowerCase()&&(this.select=select=opts.element),select&&$.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],(function(){if(this in opts)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")})),"function"!=typeof(opts=$.extend({},{"populateResults":function(container,results,query){var populate,id=this.opts.id,liveRegion=this.liveRegion;populate=function(results,container,depth){var i,l,result,selectable,disabled,compound,node,label,innerContainer,formatted,nodes=[];for(i=0,l=(results=opts.sortResults(results,container,query)).length;i<l;i+=1)selectable=!(disabled=!0===(result=results[i]).disabled)&&id(result)!==undefined,compound=result.children&&result.children.length>0,(node=$("<li></li>")).addClass("select2-results-dept-"+depth),node.addClass("select2-result"),node.addClass(selectable?"select2-result-selectable":"select2-result-unselectable"),disabled&&node.addClass("select2-disabled"),compound&&node.addClass("select2-result-with-children"),node.addClass(self.opts.formatResultCssClass(result)),node.attr("role","presentation"),(label=$(document.createElement("div"))).addClass("select2-result-label"),label.attr("id","select2-result-label-"+nextUid()),label.attr("role","option"),(formatted=opts.formatResult(result,label,query,self.opts.escapeMarkup))!==undefined&&(label.html(formatted),node.append(label)),compound&&((innerContainer=$("<ul></ul>")).addClass("select2-result-sub"),populate(result.children,innerContainer,depth+1),node.append(innerContainer)),node.data("select2-data",result),nodes.push(node[0]);container.append(nodes),liveRegion.text(opts.formatMatches(results.length))},populate(results,container,0)}},$.fn.select2.defaults,opts)).id&&(idKey=opts.id,opts.id=function(e){return e[idKey]}),$.isArray(opts.element.data("select2Tags"))){if("tags"in opts)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+opts.element.attr("id");opts.tags=opts.element.data("select2Tags")}if(select?(opts.query=this.bind((function(query){var children,placeholderOption,process,data={"results":[],"more":!1},term=query.term;process=function(element,collection){var group;element.is("option")?query.matcher(term,element.text(),element)&&collection.push(self.optionToData(element)):element.is("optgroup")&&(group=self.optionToData(element),element.children().each2((function(i,elm){process(elm,group.children)})),group.children.length>0&&collection.push(group))},children=element.children(),this.getPlaceholder()!==undefined&&children.length>0&&(placeholderOption=this.getPlaceholderOption())&&(children=children.not(placeholderOption)),children.each2((function(i,elm){process(elm,data.results)})),query.callback(data)})),opts.id=function(e){return e.id}):"query"in opts||("ajax"in opts?((ajaxUrl=opts.element.data("ajax-url"))&&ajaxUrl.length>0&&(opts.ajax.url=ajaxUrl),opts.query=ajax.call(opts.element,opts.ajax)):"data"in opts?opts.query=local(opts.data):"tags"in opts&&(opts.query=tags(opts.tags),opts.createSearchChoice===undefined&&(opts.createSearchChoice=function(term){return{"id":$.trim(term),"text":$.trim(term)}}),opts.initSelection===undefined&&(opts.initSelection=function(element,callback){var data=[];$(splitVal(element.val(),opts.separator)).each((function(){var obj={"id":this,"text":this},tags=opts.tags;$.isFunction(tags)&&(tags=tags()),$(tags).each((function(){if(equal(this.id,obj.id))return obj=this,!1})),data.push(obj)})),callback(data)}))),"function"!=typeof opts.query)throw"query function not defined for Select2 "+opts.element.attr("id");if("top"===opts.createSearchChoicePosition)opts.createSearchChoicePosition=function(list,item){list.unshift(item)};else if("bottom"===opts.createSearchChoicePosition)opts.createSearchChoicePosition=function(list,item){list.push(item)};else if("function"!=typeof opts.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return opts},"monitorSource":function(){var observer,el=this.opts.element,self=this;el.on("change.select2",this.bind((function(){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()}))),this._sync=this.bind((function(){var disabled=el.prop("disabled");disabled===undefined&&(disabled=!1),this.enable(!disabled);var readonly=el.prop("readonly");readonly===undefined&&(readonly=!1),this.readonly(readonly),syncCssClasses(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(evaluate(this.opts.containerCssClass,this.opts.element)),syncCssClasses(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(evaluate(this.opts.dropdownCssClass,this.opts.element))})),el.length&&el[0].attachEvent&&el.each((function(){this.attachEvent("onpropertychange",self._sync)})),(observer=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==undefined&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new observer((function(mutations){$.each(mutations,self._sync)})),this.propertyObserver.observe(el.get(0),{"attributes":!0,"subtree":!1}))},"triggerSelect":function(data){var evt=$.Event("select2-selecting",{"val":this.id(data),"object":data,"choice":data});return this.opts.element.trigger(evt),!evt.isDefaultPrevented()},"triggerChange":function(details){details=details||{},details=$.extend({},details,{"type":"change","val":this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(details),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},"isInterfaceEnabled":function(){return!0===this.enabledInterface},"enableInterface":function(){var enabled=this._enabled&&!this._readonly,disabled=!enabled;return enabled!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",disabled),this.close(),this.enabledInterface=enabled,!0)},"enable":function(enabled){enabled===undefined&&(enabled=!0),this._enabled!==enabled&&(this._enabled=enabled,this.opts.element.prop("disabled",!enabled),this.enableInterface())},"disable":function(){this.enable(!1)},"readonly":function(enabled){enabled===undefined&&(enabled=!1),this._readonly!==enabled&&(this._readonly=enabled,this.opts.element.prop("readonly",enabled),this.enableInterface())},"opened":function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},"positionDropdown":function(){var bodyOffset,above,changeDirection,css,resultsListNode,$dropdown=this.dropdown,offset=this.container.offset(),height=this.container.outerHeight(!1),width=this.container.outerWidth(!1),dropHeight=$dropdown.outerHeight(!1),$window=$(window),windowWidth=$window.width(),windowHeight=$window.height(),viewPortRight=$window.scrollLeft()+windowWidth,viewportBottom=$window.scrollTop()+windowHeight,dropTop=offset.top+height,dropLeft=offset.left,enoughRoomBelow=dropTop+dropHeight<=viewportBottom,enoughRoomAbove=offset.top-dropHeight>=$window.scrollTop(),dropWidth=$dropdown.outerWidth(!1),enoughRoomOnRight=dropLeft+dropWidth<=viewPortRight;$dropdown.hasClass("select2-drop-above")?(above=!0,!enoughRoomAbove&&enoughRoomBelow&&(changeDirection=!0,above=!1)):(above=!1,!enoughRoomBelow&&enoughRoomAbove&&(changeDirection=!0,above=!0)),changeDirection&&($dropdown.hide(),offset=this.container.offset(),height=this.container.outerHeight(!1),width=this.container.outerWidth(!1),dropHeight=$dropdown.outerHeight(!1),viewPortRight=$window.scrollLeft()+windowWidth,viewportBottom=$window.scrollTop()+windowHeight,dropTop=offset.top+height,enoughRoomOnRight=(dropLeft=offset.left)+(dropWidth=$dropdown.outerWidth(!1))<=viewPortRight,$dropdown.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(resultsListNode=$(".select2-results",$dropdown)[0],$dropdown.addClass("select2-drop-auto-width"),$dropdown.css("width",""),(dropWidth=$dropdown.outerWidth(!1)+(resultsListNode.scrollHeight===resultsListNode.clientHeight?0:scrollBarDimensions.width))>width?width=dropWidth:dropWidth=width,dropHeight=$dropdown.outerHeight(!1),enoughRoomOnRight=dropLeft+dropWidth<=viewPortRight):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(dropTop-=(bodyOffset=this.body.offset()).top,dropLeft-=bodyOffset.left),enoughRoomOnRight||(dropLeft=offset.left+this.container.outerWidth(!1)-dropWidth),css={"left":dropLeft,"width":width},above?(css.top=offset.top-dropHeight,css.bottom="auto",this.container.addClass("select2-drop-above"),$dropdown.addClass("select2-drop-above")):(css.top=dropTop,css.bottom="auto",this.container.removeClass("select2-drop-above"),$dropdown.removeClass("select2-drop-above")),css=$.extend(css,evaluate(this.opts.dropdownCss,this.opts.element)),$dropdown.css(css)},"shouldOpen":function(){var event;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(event=$.Event("select2-opening"),this.opts.element.trigger(event),!event.isDefaultPrevented()))},"clearDropdownAlignmentPreference":function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},"open":function(){return!!this.shouldOpen()&&(this.opening(),$document.on("mousemove.select2Event",(function(e){lastMousePosition.x=e.pageX,lastMousePosition.y=e.pageY})),!0)},"opening":function(){var mask,cid=this.containerEventName,scroll="scroll."+cid,resize="resize."+cid,orient="orientationchange."+cid;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),0==(mask=$("#select2-drop-mask")).length&&((mask=$(document.createElement("div"))).attr("id","select2-drop-mask").attr("class","select2-drop-mask"),mask.hide(),mask.appendTo(this.body),mask.on("mousedown touchstart click",(function(e){reinsertElement(mask);var self,dropdown=$("#select2-drop");dropdown.length>0&&((self=dropdown.data("select2")).opts.selectOnBlur&&self.selectHighlighted({"noFocus":!0}),self.close(),e.preventDefault(),e.stopPropagation())}))),this.dropdown.prev()[0]!==mask[0]&&this.dropdown.before(mask),$("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),mask.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var that=this;this.container.parents().add(window).each((function(){$(this).on(resize+" "+scroll+" "+orient,(function(){that.opened()&&that.positionDropdown()}))}))},"close":function(){if(this.opened()){var cid=this.containerEventName,scroll="scroll."+cid,resize="resize."+cid,orient="orientationchange."+cid;this.container.parents().add(window).each((function(){$(this).off(scroll).off(resize).off(orient)})),this.clearDropdownAlignmentPreference(),$("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),$document.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger($.Event("select2-close"))}},"externalSearch":function(term){this.open(),this.search.val(term),this.updateResults(!1)},"clearSearch":function(){},"getMaximumSelectionSize":function(){return evaluate(this.opts.maximumSelectionSize,this.opts.element)},"ensureHighlightVisible":function(){var children,index,child,hb,rb,y,more,topOffset,results=this.results;(index=this.highlight())<0||(0!=index?(children=this.findHighlightableChoices().find(".select2-result-label"),hb=(topOffset=((child=$(children[index])).offset()||{}).top||0)+child.outerHeight(!0),index===children.length-1&&(more=results.find("li.select2-more-results")).length>0&&(hb=more.offset().top+more.outerHeight(!0)),hb>(rb=results.offset().top+results.outerHeight(!0))&&results.scrollTop(results.scrollTop()+(hb-rb)),(y=topOffset-results.offset().top)<0&&"none"!=child.css("display")&&results.scrollTop(results.scrollTop()+y)):results.scrollTop(0))},"findHighlightableChoices":function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},"moveHighlight":function(delta){for(var choices=this.findHighlightableChoices(),index=this.highlight();index>-1&&index<choices.length;){var choice=$(choices[index+=delta]);if(choice.hasClass("select2-result-selectable")&&!choice.hasClass("select2-disabled")&&!choice.hasClass("select2-selected")){this.highlight(index);break}}},"highlight":function(index){var choice,data,choices=this.findHighlightableChoices();if(0===arguments.length)return indexOf(choices.filter(".select2-highlighted")[0],choices.get());index>=choices.length&&(index=choices.length-1),
index<0&&(index=0),this.removeHighlight(),(choice=$(choices[index])).addClass("select2-highlighted"),this.search.attr("aria-activedescendant",choice.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(choice.text()),(data=choice.data("select2-data"))&&this.opts.element.trigger({"type":"select2-highlight","val":this.id(data),"choice":data})},"removeHighlight":function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},"touchMoved":function(){this._touchMoved=!0},"clearTouchMoved":function(){this._touchMoved=!1},"countSelectableResults":function(){return this.findHighlightableChoices().length},"highlightUnderEvent":function(event){var el=$(event.target).closest(".select2-result-selectable");if(el.length>0&&!el.is(".select2-highlighted")){var choices=this.findHighlightableChoices();this.highlight(choices.index(el))}else 0==el.length&&this.removeHighlight()},"loadMoreIfNeeded":function(){var results=this.results,more=results.find("li.select2-more-results"),page=this.resultsPage+1,self=this,term=this.search.val(),context=this.context;0!==more.length&&more.offset().top-results.offset().top-results.height()<=this.opts.loadMorePadding&&(more.addClass("select2-active"),this.opts.query({"element":this.opts.element,"term":term,"page":page,"context":context,"matcher":this.opts.matcher,"callback":this.bind((function(data){self.opened()&&(self.opts.populateResults.call(this,results,data.results,{"term":term,"page":page,"context":context}),self.postprocessResults(data,!1,!1),!0===data.more?(more.detach().appendTo(results).text(evaluate(self.opts.formatLoadMore,self.opts.element,page+1)),window.setTimeout((function(){self.loadMoreIfNeeded()}),10)):more.remove(),self.positionDropdown(),self.resultsPage=page,self.context=data.context,this.opts.element.trigger({"type":"select2-loaded","items":data}))}))}))},"tokenize":function(){},"updateResults":function(initial){function postRender(){search.removeClass("select2-active"),self.positionDropdown(),results.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?self.liveRegion.text(results.text()):self.liveRegion.text(self.opts.formatMatches(results.find(".select2-result-selectable").length))}function render(html){results.html(html),postRender()}var data,input,queryNumber,search=this.search,results=this.results,opts=this.opts,self=this,term=search.val(),lastTerm=$.data(this.container,"select2-last-term");if((!0===initial||!lastTerm||!equal(term,lastTerm))&&($.data(this.container,"select2-last-term",term),!0===initial||!1!==this.showSearchInput&&this.opened())){queryNumber=++this.queryCount;var maxSelSize=this.getMaximumSelectionSize();if(!(maxSelSize>=1&&(data=this.data(),$.isArray(data)&&data.length>=maxSelSize&&checkFormatter(opts.formatSelectionTooBig,"formatSelectionTooBig"))))return search.val().length<opts.minimumInputLength?(checkFormatter(opts.formatInputTooShort,"formatInputTooShort")?render("<li class='select2-no-results'>"+evaluate(opts.formatInputTooShort,opts.element,search.val(),opts.minimumInputLength)+"</li>"):render(""),void(initial&&this.showSearch&&this.showSearch(!0))):void(opts.maximumInputLength&&search.val().length>opts.maximumInputLength?checkFormatter(opts.formatInputTooLong,"formatInputTooLong")?render("<li class='select2-no-results'>"+evaluate(opts.formatInputTooLong,opts.element,search.val(),opts.maximumInputLength)+"</li>"):render(""):(opts.formatSearching&&0===this.findHighlightableChoices().length&&render("<li class='select2-searching'>"+evaluate(opts.formatSearching,opts.element)+"</li>"),search.addClass("select2-active"),this.removeHighlight(),(input=this.tokenize())!=undefined&&null!=input&&search.val(input),this.resultsPage=1,opts.query({"element":opts.element,"term":search.val(),"page":this.resultsPage,"context":null,"matcher":opts.matcher,"callback":this.bind((function(data){var def;queryNumber==this.queryCount&&(this.opened()?data.hasError!==undefined&&checkFormatter(opts.formatAjaxError,"formatAjaxError")?render("<li class='select2-ajax-error'>"+evaluate(opts.formatAjaxError,opts.element,data.jqXHR,data.textStatus,data.errorThrown)+"</li>"):(this.context=data.context===undefined?null:data.context,this.opts.createSearchChoice&&""!==search.val()&&(def=this.opts.createSearchChoice.call(self,search.val(),data.results))!==undefined&&null!==def&&self.id(def)!==undefined&&null!==self.id(def)&&0===$(data.results).filter((function(){return equal(self.id(this),self.id(def))})).length&&this.opts.createSearchChoicePosition(data.results,def),0===data.results.length&&checkFormatter(opts.formatNoMatches,"formatNoMatches")?render("<li class='select2-no-results'>"+evaluate(opts.formatNoMatches,opts.element,search.val())+"</li>"):(results.empty(),self.opts.populateResults.call(this,results,data.results,{"term":search.val(),"page":this.resultsPage,"context":null}),!0===data.more&&checkFormatter(opts.formatLoadMore,"formatLoadMore")&&(results.append("<li class='select2-more-results'>"+opts.escapeMarkup(evaluate(opts.formatLoadMore,opts.element,this.resultsPage))+"</li>"),window.setTimeout((function(){self.loadMoreIfNeeded()}),10)),this.postprocessResults(data,initial),postRender(),this.opts.element.trigger({"type":"select2-loaded","items":data}))):this.search.removeClass("select2-active"))}))})));render("<li class='select2-selection-limit'>"+evaluate(opts.formatSelectionTooBig,opts.element,maxSelSize)+"</li>")}},"cancel":function(){this.close()},"blur":function(){this.opts.selectOnBlur&&this.selectHighlighted({"noFocus":!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},"focusSearch":function(){focus(this.search)},"selectHighlighted":function(options){if(this._touchMoved)this.clearTouchMoved();else{var index=this.highlight(),data=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");data?(this.highlight(index),this.onSelect(data,options)):options&&options.noFocus&&this.close()}},"getPlaceholder":function(){var placeholderOption;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((placeholderOption=this.getPlaceholderOption())!==undefined?placeholderOption.text():undefined)},"getPlaceholderOption":function(){if(this.select){var firstOption=this.select.children("option").first();if(this.opts.placeholderOption!==undefined)return"first"===this.opts.placeholderOption&&firstOption||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===$.trim(firstOption.text())&&""===firstOption.val())return firstOption}},"initContainerWidth":function(){function resolveContainerWidth(){var style,attrs,matches,i,l;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if((style=this.opts.element.attr("style"))!==undefined)for(i=0,l=(attrs=style.split(";")).length;i<l;i+=1)if(null!==(matches=attrs[i].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&matches.length>=1)return matches[1];return"resolve"===this.opts.width?(style=this.opts.element.css("width")).indexOf("%")>0?style:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}return $.isFunction(this.opts.width)?this.opts.width():this.opts.width}var width=resolveContainerWidth.call(this);null!==width&&this.container.css("width",width)}}),SingleSelect2=clazz(AbstractSelect2,{"createContainer":function(){return $(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))},"enableInterface":function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},"opening":function(){var el,range,len;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),(el=this.search.get(0)).createTextRange?((range=el.createTextRange()).collapse(!1),range.select()):el.setSelectionRange&&(len=this.search.val().length,el.setSelectionRange(len,len))),""===this.search.val()&&this.nextSearchTerm!=undefined&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger($.Event("select2-open"))},"close":function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},"focus":function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},"isFocused":function(){return this.container.hasClass("select2-container-active")},"cancel":function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},"destroy":function(){$("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),cleanupJQueryElements.call(this,"selection","focusser")},"initContainer":function(){var selection,elementLabel,container=this.container,dropdown=this.dropdown,idSuffix=nextUid();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=selection=container.find(".select2-choice"),this.focusser=container.find(".select2-focusser"),selection.find(".select2-chosen").attr("id","select2-chosen-"+idSuffix),this.focusser.attr("aria-labelledby","select2-chosen-"+idSuffix),this.results.attr("id","select2-results-"+idSuffix),this.search.attr("aria-owns","select2-results-"+idSuffix),this.focusser.attr("id","s2id_autogen"+idSuffix),elementLabel=$("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(elementLabel.text()).attr("for",this.focusser.attr("id"));var originalTitle=this.opts.element.attr("title");this.opts.element.attr("title",originalTitle||elementLabel.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text($("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind((function(e){if(this.isInterfaceEnabled()&&229!=e.keyCode)if(e.which!==KEY.PAGE_UP&&e.which!==KEY.PAGE_DOWN)switch(e.which){case KEY.UP:case KEY.DOWN:return this.moveHighlight(e.which===KEY.UP?-1:1),void killEvent(e);case KEY.ENTER:return this.selectHighlighted(),void killEvent(e);case KEY.TAB:return void this.selectHighlighted({"noFocus":!0});case KEY.ESC:return this.cancel(e),void killEvent(e)}else killEvent(e)}))),this.search.on("blur",this.bind((function(){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind((function(){this.opened()&&this.search.focus()})),0)}))),this.focusser.on("keydown",this.bind((function(e){if(this.isInterfaceEnabled()&&e.which!==KEY.TAB&&!KEY.isControl(e)&&!KEY.isFunctionKey(e)&&e.which!==KEY.ESC){if(!1!==this.opts.openOnEnter||e.which!==KEY.ENTER){if(e.which==KEY.DOWN||e.which==KEY.UP||e.which==KEY.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void killEvent(e)}return e.which==KEY.DELETE||e.which==KEY.BACKSPACE?(this.opts.allowClear&&this.clear(),void killEvent(e)):void 0}killEvent(e)}}))),installKeyUpChangeEvent(this.focusser),this.focusser.on("keyup-change input",this.bind((function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}}))),selection.on("mousedown touchstart","abbr",this.bind((function(e){this.isInterfaceEnabled()&&(this.clear(),killEventImmediately(e),this.close(),this.selection.focus())}))),selection.on("mousedown touchstart",this.bind((function(e){reinsertElement(selection),this.container.hasClass("select2-container-active")||this.opts.element.trigger($.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),killEvent(e)}))),dropdown.on("mousedown touchstart",this.bind((function(){this.opts.shouldFocusInput(this)&&this.search.focus()}))),selection.on("focus",this.bind((function(e){killEvent(e)}))),this.focusser.on("focus",this.bind((function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger($.Event("select2-focus")),this.container.addClass("select2-container-active")}))).on("blur",this.bind((function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger($.Event("select2-blur")))}))),this.search.on("focus",this.bind((function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger($.Event("select2-focus")),this.container.addClass("select2-container-active")}))),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},"clear":function(triggerChange){var data=this.selection.data("select2-data");if(data){var evt=$.Event("select2-clearing");if(this.opts.element.trigger(evt),evt.isDefaultPrevented())return;var placeholderOption=this.getPlaceholderOption();this.opts.element.val(placeholderOption?placeholderOption.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==triggerChange&&(this.opts.element.trigger({"type":"select2-removed","val":this.id(data),"choice":data}),this.triggerChange({"removed":data}))}},"initSelection":function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var self=this;this.opts.initSelection.call(null,this.opts.element,(function(selected){selected!==undefined&&null!==selected&&(self.updateSelection(selected),self.close(),self.setPlaceholder(),self.nextSearchTerm=self.opts.nextSearchTerm(selected,self.search.val()))}))}},"isPlaceholderOptionSelected":function(){var placeholderOption;return this.getPlaceholder()!==undefined&&((placeholderOption=this.getPlaceholderOption())!==undefined&&placeholderOption.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===undefined||null===this.opts.element.val())},"prepareOpts":function(){var opts=this.parent.prepareOpts.apply(this,arguments),self=this;return"select"===opts.element.get(0).tagName.toLowerCase()?opts.initSelection=function(element,callback){var selected=element.find("option").filter((function(){return this.selected&&!this.disabled}));callback(self.optionToData(selected))}:"data"in opts&&(opts.initSelection=opts.initSelection||function(element,callback){var id=element.val(),match=null;opts.query({"matcher":function(term,text,el){var is_match=equal(id,opts.id(el));return is_match&&(match=el),is_match},"callback":$.isFunction(callback)?function(){callback(match)}:$.noop})}),opts},"getPlaceholder":function(){return this.select&&this.getPlaceholderOption()===undefined?undefined:this.parent.getPlaceholder.apply(this,arguments)},"setPlaceholder":function(){var placeholder=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&placeholder!==undefined){if(this.select&&this.getPlaceholderOption()===undefined)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(placeholder)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},"postprocessResults":function(data,initial,noHighlightUpdate){var selected=0,self=this;if(this.findHighlightableChoices().each2((function(i,elm){if(equal(self.id(elm.data("select2-data")),self.opts.element.val()))return selected=i,!1})),!1!==noHighlightUpdate&&(!0===initial&&selected>=0?this.highlight(selected):this.highlight(0)),!0===initial){var min=this.opts.minimumResultsForSearch;min>=0&&this.showSearch(countResults(data.results)>=min)}},"showSearch":function(showSearchInput){this.showSearchInput!==showSearchInput&&(this.showSearchInput=showSearchInput,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!showSearchInput),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!showSearchInput),$(this.dropdown,this.container).toggleClass("select2-with-searchbox",showSearchInput))},"onSelect":function(data,options){if(this.triggerSelect(data)){var old=this.opts.element.val(),oldData=this.data();this.opts.element.val(this.id(data)),this.updateSelection(data),this.opts.element.trigger({"type":"select2-selected","val":this.id(data),"choice":data}),this.nextSearchTerm=this.opts.nextSearchTerm(data,this.search.val()),this.close(),options&&options.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),equal(old,this.id(data))||this.triggerChange({"added":data,"removed":oldData})}},"updateSelection":function(data){var formatted,cssClass,container=this.selection.find(".select2-chosen");this.selection.data("select2-data",data),container.empty(),null!==data&&(formatted=this.opts.formatSelection(data,container,this.opts.escapeMarkup)),formatted!==undefined&&container.append(formatted),(cssClass=this.opts.formatSelectionCssClass(data,container))!==undefined&&container.addClass(cssClass),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==undefined&&this.container.addClass("select2-allowclear")},"val":function(){var val,triggerChange=!1,data=null,self=this,oldData=this.data();if(0===arguments.length)return this.opts.element.val();if(val=arguments[0],arguments.length>1&&(triggerChange=arguments[1]),this.select)this.select.val(val).find("option").filter((function(){return this.selected})).each2((function(i,elm){return data=self.optionToData(elm),!1})),this.updateSelection(data),this.setPlaceholder(),triggerChange&&this.triggerChange({"added":data,"removed":oldData});else{if(!val&&0!==val)return void this.clear(triggerChange);if(this.opts.initSelection===undefined)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(val),this.opts.initSelection(this.opts.element,(function(data){self.opts.element.val(data?self.id(data):""),self.updateSelection(data),self.setPlaceholder(),triggerChange&&self.triggerChange({"added":data,"removed":oldData})}))}},"clearSearch":function(){this.search.val(""),this.focusser.val("")},"data":function(value){var data,triggerChange=!1;if(0===arguments.length)return(data=this.selection.data("select2-data"))==undefined&&(data=null),data;arguments.length>1&&(triggerChange=arguments[1]),value?(data=this.data(),this.opts.element.val(value?this.id(value):""),this.updateSelection(value),triggerChange&&this.triggerChange({"added":value,"removed":data})):this.clear(triggerChange)}}),MultiSelect2=clazz(AbstractSelect2,{"createContainer":function(){return $(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},"prepareOpts":function(){var opts=this.parent.prepareOpts.apply(this,arguments),self=this;return"select"===opts.element.get(0).tagName.toLowerCase()?opts.initSelection=function(element,callback){var data=[];element.find("option").filter((function(){return this.selected&&!this.disabled})).each2((function(i,elm){data.push(self.optionToData(elm))})),callback(data)}:"data"in opts&&(opts.initSelection=opts.initSelection||function(element,callback){var ids=splitVal(element.val(),opts.separator),matches=[];opts.query({"matcher":function(term,text,el){var is_match=$.grep(ids,(function(id){return equal(id,opts.id(el))})).length;return is_match&&matches.push(el),is_match},"callback":$.isFunction(callback)?function(){for(var ordered=[],i=0;i<ids.length;i++)for(var id=ids[i],j=0;j<matches.length;j++){var match=matches[j];if(equal(id,opts.id(match))){ordered.push(match),matches.splice(j,1);break}}callback(ordered)}:$.noop})}),opts},"selectChoice":function(choice){var selected=this.container.find(".select2-search-choice-focus");selected.length&&choice&&choice[0]==selected[0]||(selected.length&&this.opts.element.trigger("choice-deselected",selected),selected.removeClass("select2-search-choice-focus"),choice&&choice.length&&(this.close(),choice.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",choice)))},"destroy":function(){$("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),cleanupJQueryElements.call(this,"searchContainer","selection")},"initContainer":function(){var selection,selector=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=selection=this.container.find(selector);var _this=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",(function(){_this.search[0].focus(),_this.selectChoice($(this))})),this.search.attr("id","s2id_autogen"+nextUid()),this.search.prev().text($("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind((function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())}))),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind((function(e){if(this.isInterfaceEnabled()){++this.keydowns;var selected=selection.find(".select2-search-choice-focus"),prev=selected.prev(".select2-search-choice:not(.select2-locked)"),next=selected.next(".select2-search-choice:not(.select2-locked)"),pos=getCursorInfo(this.search);if(selected.length&&(e.which==KEY.LEFT||e.which==KEY.RIGHT||e.which==KEY.BACKSPACE||e.which==KEY.DELETE||e.which==KEY.ENTER)){var selectedChoice=selected;return e.which==KEY.LEFT&&prev.length?selectedChoice=prev:e.which==KEY.RIGHT?selectedChoice=next.length?next:null:e.which===KEY.BACKSPACE?this.unselect(selected.first())&&(this.search.width(10),selectedChoice=prev.length?prev:next):e.which==KEY.DELETE?this.unselect(selected.first())&&(this.search.width(10),selectedChoice=next.length?next:null):e.which==KEY.ENTER&&(selectedChoice=null),this.selectChoice(selectedChoice),killEvent(e),void(selectedChoice&&selectedChoice.length||this.open())}if((e.which===KEY.BACKSPACE&&1==this.keydowns||e.which==KEY.LEFT)&&0==pos.offset&&!pos.length)return this.selectChoice(selection.find(".select2-search-choice:not(.select2-locked)").last()),void killEvent(e);if(this.selectChoice(null),this.opened())switch(e.which){case KEY.UP:case KEY.DOWN:return this.moveHighlight(e.which===KEY.UP?-1:1),void killEvent(e);case KEY.ENTER:return this.selectHighlighted(),void killEvent(e);case KEY.TAB:return this.selectHighlighted({"noFocus":!0}),void this.close();case KEY.ESC:return this.cancel(e),void killEvent(e)}if(e.which!==KEY.TAB&&!KEY.isControl(e)&&!KEY.isFunctionKey(e)&&e.which!==KEY.BACKSPACE&&e.which!==KEY.ESC){if(e.which===KEY.ENTER){if(!1===this.opts.openOnEnter)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),e.which!==KEY.PAGE_UP&&e.which!==KEY.PAGE_DOWN||killEvent(e),e.which===KEY.ENTER&&killEvent(e)}}}))),this.search.on("keyup",this.bind((function(){this.keydowns=0,this.resizeSearch()}))),this.search.on("blur",this.bind((function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger($.Event("select2-blur"))}))),this.container.on("click",selector,this.bind((function(e){this.isInterfaceEnabled()&&($(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger($.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))}))),this.container.on("focus",selector,this.bind((function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger($.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}))),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},"enableInterface":function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},"initSelection":function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var self=this;this.opts.initSelection.call(null,this.opts.element,(function(data){data!==undefined&&null!==data&&(self.updateSelection(data),self.close(),self.clearSearch())}))}},"clearSearch":function(){var placeholder=this.getPlaceholder(),maxWidth=this.getMaxSearchWidth();placeholder!==undefined&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(placeholder).addClass("select2-default"),this.search.width(maxWidth>0?maxWidth:this.container.css("width"))):this.search.val("").width(10)},"clearPlaceholder":function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},"opening":function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=undefined&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger($.Event("select2-open"))},"close":function(){this.opened()&&this.parent.close.apply(this,arguments)},"focus":function(){this.close(),this.search.focus()},"isFocused":function(){return this.search.hasClass("select2-focused")},"updateSelection":function(data){var ids=[],filtered=[],self=this;$(data).each((function(){indexOf(self.id(this),ids)<0&&(ids.push(self.id(this)),filtered.push(this))})),data=filtered,this.selection.find(".select2-search-choice").remove(),$(data).each((function(){self.addSelectedChoice(this)})),self.postprocessResults()},"tokenize":function(){var input=this.search.val();null!=(input=this.opts.tokenizer.call(this,input,this.data(),this.bind(this.onSelect),this.opts))&&input!=undefined&&(this.search.val(input),input.length>0&&this.open())},"onSelect":function(data,options){this.triggerSelect(data)&&""!==data.text&&(this.addSelectedChoice(data),this.opts.element.trigger({"type":"selected","val":this.id(data),"choice":data}),this.nextSearchTerm=this.opts.nextSearchTerm(data,this.search.val()),this.clearSearch(),this.updateResults(),!this.select&&this.opts.closeOnSelect||this.postprocessResults(data,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=undefined&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({"added":data}),options&&options.noFocus||this.focusSearch())},"cancel":function(){this.close(),this.focusSearch()},"addSelectedChoice":function(data){var formatted,cssClass,enableChoice=!data.locked,enabledItem=$("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),disabledItem=$("<li class='select2-search-choice select2-locked'><div></div></li>"),choice=enableChoice?enabledItem:disabledItem,id=this.id(data),val=this.getVal();(formatted=this.opts.formatSelection(data,choice.find("div"),this.opts.escapeMarkup))!=undefined&&choice.find("div").replaceWith("<div>"+formatted+"</div>"),(cssClass=this.opts.formatSelectionCssClass(data,choice.find("div")))!=undefined&&choice.addClass(cssClass),enableChoice&&choice.find(".select2-search-choice-close").on("mousedown",killEvent).on("click dblclick",this.bind((function(e){this.isInterfaceEnabled()&&(this.unselect($(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),killEvent(e),this.close(),this.focusSearch())}))).on("focus",this.bind((function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}))),choice.data("select2-data",data),choice.insertBefore(this.searchContainer),val.push(id),this.setVal(val)},"unselect":function(selected){var data,index,val=this.getVal();if(0===(selected=selected.closest(".select2-search-choice")).length)throw"Invalid argument: "+selected+". Must be .select2-search-choice";if(data=selected.data("select2-data")){var evt=$.Event("select2-removing");if(evt.val=this.id(data),evt.choice=data,this.opts.element.trigger(evt),evt.isDefaultPrevented())return!1;for(;(index=indexOf(this.id(data),val))>=0;)val.splice(index,1),this.setVal(val),this.select&&this.postprocessResults();return selected.remove(),this.opts.element.trigger({"type":"select2-removed","val":this.id(data),"choice":data}),this.triggerChange({"removed":data}),!0}},"postprocessResults":function(data,initial,noHighlightUpdate){var val=this.getVal(),choices=this.results.find(".select2-result"),compound=this.results.find(".select2-result-with-children"),self=this;choices.each2((function(i,choice){indexOf(self.id(choice.data("select2-data")),val)>=0&&(choice.addClass("select2-selected"),choice.find(".select2-result-selectable").addClass("select2-selected"))})),compound.each2((function(i,choice){choice.is(".select2-result-selectable")||0!==choice.find(".select2-result-selectable:not(.select2-selected)").length||choice.addClass("select2-selected")})),-1==this.highlight()&&!1!==noHighlightUpdate&&self.highlight(0),!this.opts.createSearchChoice&&!choices.filter(".select2-result:not(.select2-selected)").length>0&&(!data||data&&!data.more&&0===this.results.find(".select2-no-results").length)&&checkFormatter(self.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+evaluate(self.opts.formatNoMatches,self.opts.element,self.search.val())+"</li>")},"getMaxSearchWidth":function(){return this.selection.width()-getSideBorderPadding(this.search)},"resizeSearch":function(){var minimumWidth,left,maxWidth,searchWidth,sideBorderPadding=getSideBorderPadding(this.search);minimumWidth=measureTextWidth(this.search)+10,left=this.search.offset().left,(searchWidth=(maxWidth=this.selection.width())-(left-this.selection.offset().left)-sideBorderPadding)<minimumWidth&&(searchWidth=maxWidth-sideBorderPadding),searchWidth<40&&(searchWidth=maxWidth-sideBorderPadding),searchWidth<=0&&(searchWidth=minimumWidth),this.search.width(Math.floor(searchWidth))},"getVal":function(){var val;return this.select?null===(val=this.select.val())?[]:val:splitVal(val=this.opts.element.val(),this.opts.separator)},"setVal":function(val){var unique;this.select?this.select.val(val):(unique=[],$(val).each((function(){indexOf(this,unique)<0&&unique.push(this)})),this.opts.element.val(0===unique.length?"":unique.join(this.opts.separator)))},"buildChangeDetails":function(old,current){current=current.slice(0),old=old.slice(0)
;for(var i=0;i<current.length;i++)for(var j=0;j<old.length;j++)equal(this.opts.id(current[i]),this.opts.id(old[j]))&&(current.splice(i,1),i>0&&i--,old.splice(j,1),j--);return{"added":current,"removed":old}},"val":function(val,triggerChange){var oldData,self=this;if(0===arguments.length)return this.getVal();if((oldData=this.data()).length||(oldData=[]),!val&&0!==val)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(triggerChange&&this.triggerChange({"added":this.data(),"removed":oldData}));if(this.setVal(val),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),triggerChange&&this.triggerChange(this.buildChangeDetails(oldData,this.data()));else{if(this.opts.initSelection===undefined)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,(function(data){var ids=$.map(data,self.id);self.setVal(ids),self.updateSelection(data),self.clearSearch(),triggerChange&&self.triggerChange(self.buildChangeDetails(oldData,self.data()))}))}this.clearSearch()},"onSortStart":function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},"onSortEnd":function(){var val=[],self=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each((function(){val.push(self.opts.id($(this).data("select2-data")))})),this.setVal(val),this.triggerChange()},"data":function(values,triggerChange){var ids,old,self=this;if(0===arguments.length)return this.selection.children(".select2-search-choice").map((function(){return $(this).data("select2-data")})).get();old=this.data(),values||(values=[]),ids=$.map(values,(function(e){return self.opts.id(e)})),this.setVal(ids),this.updateSelection(values),this.clearSearch(),triggerChange&&this.triggerChange(this.buildChangeDetails(old,this.data()))}}),$.fn.select2=function(){var opts,select2,method,value,multiple,args=Array.prototype.slice.call(arguments,0),allowedMethods=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],valueMethods=["opened","isFocused","container","dropdown"],propertyMethods=["val","data"],methodsMap={"search":"externalSearch"};return this.each((function(){if(0===args.length||"object"==typeof args[0])(opts=0===args.length?{}:$.extend({},args[0])).element=$(this),"select"===opts.element.get(0).tagName.toLowerCase()?multiple=opts.element.prop("multiple"):(multiple=opts.multiple||!1,"tags"in opts&&(opts.multiple=multiple=!0)),(select2=multiple?new window.Select2.class.multi:new window.Select2.class.single).init(opts);else{if("string"!=typeof args[0])throw"Invalid arguments to select2 plugin: "+args;if(indexOf(args[0],allowedMethods)<0)throw"Unknown method: "+args[0];if(value=undefined,(select2=$(this).data("select2"))===undefined)return;if("container"===(method=args[0])?value=select2.container:"dropdown"===method?value=select2.dropdown:(methodsMap[method]&&(method=methodsMap[method]),value=select2[method].apply(select2,args.slice(1))),indexOf(args[0],valueMethods)>=0||indexOf(args[0],propertyMethods)>=0&&1==args.length)return!1}})),value===undefined?this:value},$.fn.select2.defaults={"width":"copy","loadMorePadding":0,"closeOnSelect":!0,"openOnEnter":!0,"containerCss":{},"dropdownCss":{},"containerCssClass":"","dropdownCssClass":"","formatResult":function(result,container,query,escapeMarkup){var markup=[];return markMatch(result.text,query.term,markup,escapeMarkup),markup.join("")},"formatSelection":function(data,container,escapeMarkup){return data?escapeMarkup(data.text):undefined},"sortResults":function(results){return results},"formatResultCssClass":function(data){return data.css},"formatSelectionCssClass":function(){return undefined},"minimumResultsForSearch":0,"minimumInputLength":0,"maximumInputLength":null,"maximumSelectionSize":0,"id":function(e){return e==undefined?null:e.id},"matcher":function(term,text){return stripDiacritics(""+text).toUpperCase().indexOf(stripDiacritics(""+term).toUpperCase())>=0},"separator":",","tokenSeparators":[],"tokenizer":defaultTokenizer,"escapeMarkup":defaultEscapeMarkup,"blurOnChange":!1,"selectOnBlur":!1,"adaptContainerCssClass":function(c){return c},"adaptDropdownCssClass":function(){return null},"nextSearchTerm":function(){return undefined},"searchInputPlaceholder":"","createSearchChoicePosition":"top","shouldFocusInput":function(instance){return!("ontouchstart"in window||navigator.msMaxTouchPoints>0)||!(instance.opts.minimumResultsForSearch<0)}},$.fn.select2.locales=[],$.fn.select2.locales.en={"formatMatches":function(matches){return 1===matches?"One result is available, press enter to select it.":matches+" results are available, use up and down arrow keys to navigate."},"formatNoMatches":function(){return"No matches found"},"formatAjaxError":function(){return"Loading failed"},"formatInputTooShort":function(input,min){var n=min-input.length;return"Please enter "+n+" or more character"+(1==n?"":"s")},"formatInputTooLong":function(input,max){var n=input.length-max;return"Please delete "+n+" character"+(1==n?"":"s")},"formatSelectionTooBig":function(limit){return"You can only select "+limit+" item"+(1==limit?"":"s")},"formatLoadMore":function(){return"Loading more results\u2026"},"formatSearching":function(){return"Searching\u2026"}},$.extend($.fn.select2.defaults,$.fn.select2.locales.en),$.fn.select2.ajaxDefaults={"transport":$.ajax,"params":{"type":"GET","cache":!1,"dataType":"json"}},window.Select2={"query":{"ajax":ajax,"local":local,"tags":tags},"util":{"debounce":debounce,"markMatch":markMatch,"escapeMarkup":defaultEscapeMarkup,"stripDiacritics":stripDiacritics},"class":{"abstract":AbstractSelect2,"single":SingleSelect2,"multi":MultiSelect2}}}}(jQuery),function(){function parseUri(url,strictMode){for(var str=url,res=parser[strictMode?"strict":"loose"].exec(str),uri={"attr":{},"param":{},"seg":{}},i=14;i--;)uri.attr[key[i]]=res[i]||"";return uri.param.query=parseString(uri.attr.query),uri.param.fragment=parseString(uri.attr.fragment),uri.seg.path=uri.attr.path.replace(/^\/+|\/+$/g,"").split("/"),uri.seg.fragment=uri.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),uri.attr.base=uri.attr.host?(uri.attr.protocol?uri.attr.protocol+"://"+uri.attr.host:uri.attr.host)+(uri.attr.port?":"+uri.attr.port:""):"",uri}function getAttrName(elm){var tn=elm.tagName;return void 0!==tn?tag2attr[tn.toLowerCase()]:tn}function promote(parent,key){if(0===parent[key].length)return parent[key]={};var t={};for(var i in parent[key])t[i]=parent[key][i];return parent[key]=t,t}function parse(parts,parent,key,val){var part=parts.shift();if(part){var obj=parent[key]=parent[key]||[];"]"==part?isArray(obj)?""!==val&&obj.push(val):"object"==typeof obj?obj[keys(obj).length]=val:obj=parent[key]=[parent[key],val]:~part.indexOf("]")?(part=part.substr(0,part.length-1),!isint.test(part)&&isArray(obj)&&(obj=promote(parent,key)),parse(parts,obj,part,val)):(!isint.test(part)&&isArray(obj)&&(obj=promote(parent,key)),parse(parts,obj,part,val))}else isArray(parent[key])?parent[key].push(val):"object"==typeof parent[key]||void 0===parent[key]?parent[key]=val:parent[key]=[parent[key],val]}function merge(parent,key,val){if(~key.indexOf("]")){parse(key.split("["),parent,"base",val)}else{if(!isint.test(key)&&isArray(parent.base)){var t={};for(var k in parent.base)t[k]=parent.base[k];parent.base=t}""!==key&&set(parent.base,key,val)}return parent}function parseString(str){return reduce(String(str).split(/&|;/),(function(ret,pair){try{pair=decodeURIComponent(pair.replace(/\+/g," "))}catch(e){}var eql=pair.indexOf("="),brace=lastBraceInKey(pair),key=pair.substr(0,brace||eql),val=pair.substr(brace||eql,pair.length);return val=val.substr(val.indexOf("=")+1,val.length),""===key&&(key=pair,val=""),merge(ret,key,val)}),{"base":{}}).base}function set(obj,key,val){var v=obj[key];void 0===v?obj[key]=val:isArray(v)?v.push(val):obj[key]=[v,val]}function lastBraceInKey(str){for(var brace,c,len=str.length,i=0;i<len;++i)if("]"==(c=str[i])&&(brace=!1),"["==c&&(brace=!0),"="==c&&!brace)return i}function reduce(obj,accumulator){for(var i=0,l=obj.length>>0,curr=arguments[2];i<l;)i in obj&&(curr=accumulator.call(void 0,curr,obj[i],i,obj)),++i;return curr}function isArray(vArg){return"[object Array]"===Object.prototype.toString.call(vArg)}function keys(obj){var key_array=[];for(var prop in obj)obj.hasOwnProperty(prop)&&key_array.push(prop);return key_array}function purl(url,strictMode){return 1===arguments.length&&!0===url&&(strictMode=!0,url=void 0),strictMode=strictMode||!1,{"data":parseUri(url=url||window.location.toString(),strictMode),"attr":function(attr){return void 0!==(attr=aliases[attr]||attr)?this.data.attr[attr]:this.data.attr},"param":function(param){return void 0!==param?this.data.param.query[param]:this.data.param.query},"fparam":function(param){return void 0!==param?this.data.param.fragment[param]:this.data.param.fragment},"segment":function(seg){return void 0===seg?this.data.seg.path:(seg=seg<0?this.data.seg.path.length+seg:seg-1,this.data.seg.path[seg])},"fsegment":function(seg){return void 0===seg?this.data.seg.fragment:(seg=seg<0?this.data.seg.fragment.length+seg:seg-1,this.data.seg.fragment[seg])}}}var tag2attr={"a":"href","img":"src","form":"action","base":"href","script":"src","iframe":"src","link":"href"},key=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],aliases={"anchor":"fragment"},parser={"strict":/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,"loose":/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},isint=/^[0-9]+$/;purl.jQuery=function($){null!=$&&($.fn.url=function(strictMode){var url="";return this.length&&(url=$(this).attr(getAttrName(this[0]))||""),purl(url,strictMode)},$.url=purl)},purl.jQuery(window.jQuery)}(jQuery),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Swiper=t()}(this,(function(){"use strict";function L(e,t){var a=[],i=0;if(e&&!t&&e instanceof l)return e;if(e)if("string"==typeof e){var s,r,n=e.trim();if(0<=n.indexOf("<")&&0<=n.indexOf(">")){var o="div";for(0===n.indexOf("<li")&&(o="ul"),0===n.indexOf("<tr")&&(o="tbody"),0!==n.indexOf("<td")&&0!==n.indexOf("<th")||(o="tr"),0===n.indexOf("<tbody")&&(o="table"),0===n.indexOf("<option")&&(o="select"),(r=f.createElement(o)).innerHTML=n,i=0;i<r.childNodes.length;i+=1)a.push(r.childNodes[i])}else for(s=t||"#"!==e[0]||e.match(/[ .<>:~]/)?(t||f).querySelectorAll(e.trim()):[f.getElementById(e.trim().split("#")[1])],i=0;i<s.length;i+=1)s[i]&&a.push(s[i])}else if(e.nodeType||e===J||e===f)a.push(e);else if(0<e.length&&e[0].nodeType)for(i=0;i<e.length;i+=1)a.push(e[i]);return new l(a)}function r(e){for(var t=[],a=0;a<e.length;a+=1)-1===t.indexOf(e[a])&&t.push(e[a]);return t}function g(){var e=this,t=e.params,a=e.el;if(!a||0!==a.offsetWidth){t.breakpoints&&e.setBreakpoint();var i=e.allowSlideNext,s=e.allowSlidePrev,r=e.snapGrid;if(e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),t.freeMode){var n=Math.min(Math.max(e.translate,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses(),t.autoHeight&&e.updateAutoHeight()}else e.updateSlidesClasses(),("auto"===t.slidesPerView||1<t.slidesPerView)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0);e.allowSlidePrev=s,e.allowSlideNext=i,e.params.watchOverflow&&r!==e.snapGrid&&e.checkOverflow()}}var f="undefined"==typeof document?{"body":{},"addEventListener":function(){},"removeEventListener":function(){},"activeElement":{"blur":function(){},"nodeName":""},"querySelector":function(){return null},"querySelectorAll":function(){return[]},"getElementById":function(){return null},"createEvent":function(){return{"initEvent":function(){}}},"createElement":function(){return{"children":[],"childNodes":[],"style":{},"setAttribute":function(){},"getElementsByTagName":function(){return[]}}},"location":{"hash":""}}:document,J="undefined"==typeof window?{"document":f,"navigator":{"userAgent":""},"location":{},"history":{},"CustomEvent":function(){return this},"addEventListener":function(){},"removeEventListener":function(){},"getComputedStyle":function(){return{"getPropertyValue":function(){return""}}},"Image":function(){},"Date":function(){},"screen":{},"setTimeout":function(){},"clearTimeout":function(){}}:window,l=function(e){for(var t=0;t<e.length;t+=1)this[t]=e[t];return this.length=e.length,this};L.fn=l.prototype,L.Class=l,L.Dom7=l;var t={"addClass":function(e){if(void 0===e)return this;for(var t=e.split(" "),a=0;a<t.length;a+=1)for(var i=0;i<this.length;i+=1)void 0!==this[i]&&void 0!==this[i].classList&&this[i].classList.add(t[a]);return this},"removeClass":function(e){for(var t=e.split(" "),a=0;a<t.length;a+=1)for(var i=0;i<this.length;i+=1)void 0!==this[i]&&void 0!==this[i].classList&&this[i].classList.remove(t[a]);return this},"hasClass":function(e){return!!this[0]&&this[0].classList.contains(e)},"toggleClass":function(e){for(var t=e.split(" "),a=0;a<t.length;a+=1)for(var i=0;i<this.length;i+=1)void 0!==this[i]&&void 0!==this[i].classList&&this[i].classList.toggle(t[a]);return this},"attr":function(e,t){var a=arguments;if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var i=0;i<this.length;i+=1)if(2===a.length)this[i].setAttribute(e,t);else for(var s in e)this[i][s]=e[s],this[i].setAttribute(s,e[s]);return this},"removeAttr":function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},"data":function(e,t){var a;if(void 0!==t){for(var i=0;i<this.length;i+=1)(a=this[i]).dom7ElementDataStorage||(a.dom7ElementDataStorage={}),a.dom7ElementDataStorage[e]=t;return this}if(a=this[0])return a.dom7ElementDataStorage&&e in a.dom7ElementDataStorage?a.dom7ElementDataStorage[e]:a.getAttribute("data-"+e)||void 0},"transform":function(e){for(var t=0;t<this.length;t+=1){var a=this[t].style;a.webkitTransform=e,a.transform=e}return this},"transition":function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t+=1){var a=this[t].style;a.webkitTransitionDuration=e,a.transitionDuration=e}return this},"on":function(){function o(e){var t=e.target;if(t){var a=e.target.dom7EventData||[];if(a.indexOf(e)<0&&a.unshift(e),L(t).is(r))n.apply(t,a);else for(var i=L(t).parents(),s=0;s<i.length;s+=1)L(i[s]).is(r)&&n.apply(i[s],a)}}function l(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),n.apply(this,t)}for(var e,t=[],a=arguments.length;a--;)t[a]=arguments[a];var i=t[0],r=t[1],n=t[2],s=t[3];"function"==typeof t[1]&&(i=(e=t)[0],n=e[1],s=e[2],r=void 0),s||(s=!1);for(var d,p=i.split(" "),c=0;c<this.length;c+=1){var u=this[c];if(r)for(d=0;d<p.length;d+=1){var h=p[d];u.dom7LiveListeners||(u.dom7LiveListeners={}),u.dom7LiveListeners[h]||(u.dom7LiveListeners[h]=[]),u.dom7LiveListeners[h].push({"listener":n,"proxyListener":o}),u.addEventListener(h,o,s)}else for(d=0;d<p.length;d+=1){var v=p[d];u.dom7Listeners||(u.dom7Listeners={}),u.dom7Listeners[v]||(u.dom7Listeners[v]=[]),u.dom7Listeners[v].push({"listener":n,"proxyListener":l}),u.addEventListener(v,l,s)}}return this},"off":function(){for(var e,t=[],a=arguments.length;a--;)t[a]=arguments[a];var i=t[0],s=t[1],r=t[2],n=t[3];"function"==typeof t[1]&&(i=(e=t)[0],r=e[1],n=e[2],s=void 0),n||(n=!1);for(var o=i.split(" "),l=0;l<o.length;l+=1)for(var d=o[l],p=0;p<this.length;p+=1){var c=this[p],u=void 0;if(!s&&c.dom7Listeners?u=c.dom7Listeners[d]:s&&c.dom7LiveListeners&&(u=c.dom7LiveListeners[d]),u&&u.length)for(var h=u.length-1;0<=h;h-=1){var v=u[h];r&&v.listener===r?(c.removeEventListener(d,v.proxyListener,n),u.splice(h,1)):r||(c.removeEventListener(d,v.proxyListener,n),u.splice(h,1))}}return this},"trigger":function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var a=e[0].split(" "),i=e[1],s=0;s<a.length;s+=1)for(var r=a[s],n=0;n<this.length;n+=1){var o=this[n],l=void 0;try{l=new J.CustomEvent(r,{"detail":i,"bubbles":!0,"cancelable":!0})}catch(e){(l=f.createEvent("Event")).initEvent(r,!0,!0),l.detail=i}o.dom7EventData=e.filter((function(e,t){return 0<t})),o.dispatchEvent(l),o.dom7EventData=[],delete o.dom7EventData}return this},"transitionEnd":function(t){function r(e){if(e.target===this)for(t.call(this,e),a=0;a<i.length;a+=1)s.off(i[a],r)}var a,i=["webkitTransitionEnd","transitionend"],s=this;if(t)for(a=0;a<i.length;a+=1)s.on(i[a],r);return this},"outerWidth":function(e){if(0<this.length){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},"outerHeight":function(e){if(0<this.length){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},"offset":function(){if(0<this.length){var e=this[0],t=e.getBoundingClientRect(),a=f.body,i=e.clientTop||a.clientTop||0,s=e.clientLeft||a.clientLeft||0,r=e===J?J.scrollY:e.scrollTop,n=e===J?J.scrollX:e.scrollLeft;return{"top":t.top+r-i,"left":t.left+n-s}}return null},"css":function(e,t){var a;if(1===arguments.length){if("string"!=typeof e){for(a=0;a<this.length;a+=1)for(var i in e)this[a].style[i]=e[i];return this}if(this[0])return J.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(a=0;a<this.length;a+=1)this[a].style[e]=t;return this}return this},"each":function(e){if(!e)return this;for(var t=0;t<this.length;t+=1)if(!1===e.call(this[t],t,this[t]))return this;return this},"html":function(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},"text":function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},"is":function(e){var t,a,i=this[0];if(!i||void 0===e)return!1;if("string"==typeof e){if(i.matches)return i.matches(e);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(e);if(i.msMatchesSelector)return i.msMatchesSelector(e);for(t=L(e),a=0;a<t.length;a+=1)if(t[a]===i)return!0;return!1}if(e===f)return i===f;if(e===J)return i===J;if(e.nodeType||e instanceof l){for(t=e.nodeType?[e]:e,a=0;a<t.length;a+=1)if(t[a]===i)return!0;return!1}return!1},"index":function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},"eq":function(e){if(void 0===e)return this;var t,a=this.length;return new l(a-1<e?[]:e<0?(t=a+e)<0?[]:[this[t]]:[this[e]])},"append":function(){for(var e,t=[],a=arguments.length;a--;)t[a]=arguments[a];for(var i=0;i<t.length;i+=1){e=t[i];for(var s=0;s<this.length;s+=1)if("string"==typeof e){var r=f.createElement("div");for(r.innerHTML=e;r.firstChild;)this[s].appendChild(r.firstChild)}else if(e instanceof l)for(var n=0;n<e.length;n+=1)this[s].appendChild(e[n]);else this[s].appendChild(e)}return this},"prepend":function(e){var t,a;for(t=0;t<this.length;t+=1)if("string"==typeof e){var i=f.createElement("div");for(i.innerHTML=e,a=i.childNodes.length-1;0<=a;a-=1)this[t].insertBefore(i.childNodes[a],this[t].childNodes[0])}else if(e instanceof l)for(a=0;a<e.length;a+=1)this[t].insertBefore(e[a],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},"next":function(e){return 0<this.length?e?this[0].nextElementSibling&&L(this[0].nextElementSibling).is(e)?new l([this[0].nextElementSibling]):new l([]):this[0].nextElementSibling?new l([this[0].nextElementSibling]):new l([]):new l([])},"nextAll":function(e){var t=[],a=this[0];if(!a)return new l([]);for(;a.nextElementSibling;){var i=a.nextElementSibling;e?L(i).is(e)&&t.push(i):t.push(i),a=i}return new l(t)},"prev":function(e){if(0<this.length){var t=this[0];return e?t.previousElementSibling&&L(t.previousElementSibling).is(e)?new l([t.previousElementSibling]):new l([]):t.previousElementSibling?new l([t.previousElementSibling]):new l([])}return new l([])},"prevAll":function(e){var t=[],a=this[0];if(!a)return new l([]);for(;a.previousElementSibling;){var i=a.previousElementSibling;e?L(i).is(e)&&t.push(i):t.push(i),a=i}return new l(t)},"parent":function(e){for(var t=[],a=0;a<this.length;a+=1)null!==this[a].parentNode&&(e?L(this[a].parentNode).is(e)&&t.push(this[a].parentNode):t.push(this[a].parentNode));return L(r(t))},"parents":function(e){for(var t=[],a=0;a<this.length;a+=1)for(var i=this[a].parentNode;i;)e?L(i).is(e)&&t.push(i):t.push(i),i=i.parentNode;return L(r(t))},"closest":function(e){var t=this;return void 0===e?new l([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},"find":function(e){for(var t=[],a=0;a<this.length;a+=1)for(var i=this[a].querySelectorAll(e),s=0;s<i.length;s+=1)t.push(i[s]);return new l(t)},"children":function(e){for(var t=[],a=0;a<this.length;a+=1)for(var i=this[a].childNodes,s=0;s<i.length;s+=1)e?1===i[s].nodeType&&L(i[s]).is(e)&&t.push(i[s]):1===i[s].nodeType&&t.push(i[s]);return new l(r(t))},"remove":function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},"add":function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a,i;for(a=0;a<e.length;a+=1){var s=L(e[a]);for(i=0;i<s.length;i+=1)this[this.length]=s[i],this.length+=1}return this},"styles":function(){return this[0]?J.getComputedStyle(this[0],null):{}}};Object.keys(t).forEach((function(e){L.fn[e]=t[e]}));var e,a,i,ee={"deleteProps":function(e){var t=e;Object.keys(t).forEach((function(e){try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))},"nextTick":function(e,t){return void 0===t&&(t=0),setTimeout(e,t)},"now":function(){return Date.now()},"getTranslate":function(e,t){var a,i,s;void 0===t&&(t="x");var r=J.getComputedStyle(e,null);return J.WebKitCSSMatrix?(6<(i=r.transform||r.webkitTransform).split(",").length&&(i=i.split(", ").map((function(e){return e.replace(",",".")})).join(", ")),s=new J.WebKitCSSMatrix("none"===i?"":i)):a=(s=r.MozTransform||r.OTransform||r.MsTransform||r.msTransform||r.transform||r.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(i=J.WebKitCSSMatrix?s.m41:16===a.length?parseFloat(a[12]):parseFloat(a[4])),"y"===t&&(i=J.WebKitCSSMatrix?s.m42:16===a.length?parseFloat(a[13]):parseFloat(a[5])),i||0},"parseUrlQuery":function(e){var t,a,i,s,r={},n=e||J.location.href;if("string"==typeof n&&n.length)for(s=(a=(n=-1<n.indexOf("?")?n.replace(/\S*\?/,""):"").split("&").filter((function(e){return""!==e}))).length,t=0;t<s;t+=1)i=a[t].replace(/#\S+/g,"").split("="),r[decodeURIComponent(i[0])]=void 0===i[1]?void 0:decodeURIComponent(i[1])||"";return r},"isObject":function(e){return"object"==typeof e&&null!==e&&e.constructor&&e.constructor===Object},"extend":function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var a=Object(e[0]),i=1;i<e.length;i+=1){var s=e[i];if(null!=s)for(var r=Object.keys(Object(s)),n=0,o=r.length;n<o;n+=1){var l=r[n],d=Object.getOwnPropertyDescriptor(s,l);void 0!==d&&d.enumerable&&(ee.isObject(a[l])&&ee.isObject(s[l])?ee.extend(a[l],s[l]):!ee.isObject(a[l])&&ee.isObject(s[l])?(a[l]={},ee.extend(a[l],s[l])):a[l]=s[l])}}return a}},te=(i=f.createElement("div"),{"touch":J.Modernizr&&!0===J.Modernizr.touch||!!(0<J.navigator.maxTouchPoints||"ontouchstart"in J||J.DocumentTouch&&f instanceof J.DocumentTouch),"pointerEvents":!!(J.navigator.pointerEnabled||J.PointerEvent||"maxTouchPoints"in J.navigator),"prefixedPointerEvents":!!J.navigator.msPointerEnabled,"transition":(a=i.style,"transition"in a||"webkitTransition"in a||"MozTransition"in a),"transforms3d":J.Modernizr&&!0===J.Modernizr.csstransforms3d||(e=i.style,"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e),"flexbox":function(){for(var e=i.style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),a=0;a<t.length;a+=1)if(t[a]in e)return!0;return!1}(),"observer":"MutationObserver"in J||"WebkitMutationObserver"in J,"passiveListener":function(){var e=!1;try{var t=Object.defineProperty({},"passive",{"get":function(){e=!0}});J.addEventListener("testPassiveListener",null,t)}catch(e){}return e}(),"gestures":"ongesturestart"in J}),s=function(e){void 0===e&&(e={});var t=this;t.params=e,t.eventsListeners={},t.params&&t.params.on&&Object.keys(t.params.on).forEach((function(e){t.on(e,t.params.on[e])}))},n={"components":{"configurable":!0}};s.prototype.on=function(e,t,a){var i=this;if("function"!=typeof t)return i;var s=a?"unshift":"push";return e.split(" ").forEach((function(e){i.eventsListeners[e]||(i.eventsListeners[e]=[]),i.eventsListeners[e][s](t)})),i},s.prototype.once=function(i,s,e){var r=this;return"function"!=typeof s?r:r.on(i,(function e(){for(var t=[],a=arguments.length;a--;)t[a]=arguments[a];s.apply(r,t),r.off(i,e)}),e)},s.prototype.off=function(e,i){var s=this;return s.eventsListeners&&e.split(" ").forEach((function(a){void 0===i?s.eventsListeners[a]=[]:s.eventsListeners[a]&&s.eventsListeners[a].length&&s.eventsListeners[a].forEach((function(e,t){e===i&&s.eventsListeners[a].splice(t,1)}))})),s},s.prototype.emit=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a,i,s,r=this;return r.eventsListeners&&("string"==typeof e[0]||Array.isArray(e[0])?(a=e[0],i=e.slice(1,e.length),s=r):(a=e[0].events,i=e[0].data,s=e[0].context||r),(Array.isArray(a)?a:a.split(" ")).forEach((function(e){if(r.eventsListeners&&r.eventsListeners[e]){var t=[];r.eventsListeners[e].forEach((function(e){t.push(e)})),t.forEach((function(e){e.apply(s,i)}))}}))),r},s.prototype.useModulesParams=function(a){var i=this;i.modules&&Object.keys(i.modules).forEach((function(e){var t=i.modules[e];t.params&&ee.extend(a,t.params)}))},s.prototype.useModules=function(i){void 0===i&&(i={});var s=this;s.modules&&Object.keys(s.modules).forEach((function(e){var a=s.modules[e],t=i[e]||{};a.instance&&Object.keys(a.instance).forEach((function(e){var t=a.instance[e];s[e]="function"==typeof t?t.bind(s):t})),a.on&&s.on&&Object.keys(a.on).forEach((function(e){s.on(e,a.on[e])})),a.create&&a.create.bind(s)(t)}))},n.components.set=function(e){this.use&&this.use(e)},s.installModule=function(t){for(var e=[],a=arguments.length-1;0<a--;)e[a]=arguments[a+1];var i=this;i.prototype.modules||(i.prototype.modules={});var s=t.name||Object.keys(i.prototype.modules).length+"_"+ee.now();return(i.prototype.modules[s]=t).proto&&Object.keys(t.proto).forEach((function(e){i.prototype[e]=t.proto[e]})),t.static&&Object.keys(t.static).forEach((function(e){i[e]=t.static[e]})),t.install&&t.install.apply(i,e),i},s.use=function(e){for(var t=[],a=arguments.length-1;0<a--;)t[a]=arguments[a+1];var i=this;return Array.isArray(e)?(e.forEach((function(e){return i.installModule(e)})),i):i.installModule.apply(i,[e].concat(t))},Object.defineProperties(s,n);var w,o={"updateSize":function(){var e,t,a=this,i=a.$el;e=void 0!==a.params.width?a.params.width:i[0].clientWidth,t=void 0!==a.params.height?a.params.height:i[0].clientHeight,0===e&&a.isHorizontal()||0===t&&a.isVertical()||(e=e-parseInt(i.css("padding-left"),10)-parseInt(i.css("padding-right"),10),t=t-parseInt(i.css("padding-top"),10)-parseInt(i.css("padding-bottom"),10),ee.extend(a,{"width":e,"height":t,"size":a.isHorizontal()?e:t}))},"updateSlides":function(){var e=this,t=e.params,a=e.$wrapperEl,i=e.size,s=e.rtlTranslate,r=e.wrongRTL,n=e.virtual&&t.virtual.enabled,o=n?e.virtual.slides.length:e.slides.length,l=a.children("."+e.params.slideClass),d=n?e.virtual.slides.length:l.length,p=[],c=[],u=[],h=t.slidesOffsetBefore;"function"==typeof h&&(h=t.slidesOffsetBefore.call(e));var v=t.slidesOffsetAfter;"function"==typeof v&&(v=t.slidesOffsetAfter.call(e));var f=e.snapGrid.length,m=e.snapGrid.length,g=t.spaceBetween,b=-h,w=0,y=0;if(void 0!==i){var x,T;"string"==typeof g&&0<=g.indexOf("%")&&(g=parseFloat(g.replace("%",""))/100*i),e.virtualSize=-g,s?l.css({"marginLeft":"","marginTop":""}):l.css({"marginRight":"","marginBottom":""}),1<t.slidesPerColumn&&(x=Math.floor(d/t.slidesPerColumn)===d/e.params.slidesPerColumn?d:Math.ceil(d/t.slidesPerColumn)*t.slidesPerColumn,"auto"!==t.slidesPerView&&"row"===t.slidesPerColumnFill&&(x=Math.max(x,t.slidesPerView*t.slidesPerColumn)));for(var E,S=t.slidesPerColumn,C=x/S,M=Math.floor(d/t.slidesPerColumn),k=0;k<d;k+=1){T=0;var P=l.eq(k);if(1<t.slidesPerColumn){var z=void 0,$=void 0,L=void 0;"column"===t.slidesPerColumnFill?(L=k-($=Math.floor(k/S))*S,(M<$||$===M&&L===S-1)&&S<=(L+=1)&&(L=0,$+=1),z=$+L*x/S,P.css({"-webkit-box-ordinal-group":z,"-moz-box-ordinal-group":z,"-ms-flex-order":z,"-webkit-order":z,"order":z})):$=k-(L=Math.floor(k/C))*C,P.css("margin-"+(e.isHorizontal()?"top":"left"),0!==L&&t.spaceBetween&&t.spaceBetween+"px").attr("data-swiper-column",$).attr("data-swiper-row",L)}if("none"!==P.css("display")){if("auto"===t.slidesPerView){var I=J.getComputedStyle(P[0],null),D=P[0].style.transform,O=P[0].style.webkitTransform;if(D&&(P[0].style.transform="none"),O&&(P[0].style.webkitTransform="none"),t.roundLengths)T=e.isHorizontal()?P.outerWidth(!0):P.outerHeight(!0);else if(e.isHorizontal()){var A=parseFloat(I.getPropertyValue("width")),N=parseFloat(I.getPropertyValue("padding-left")),H=parseFloat(I.getPropertyValue("padding-right")),G=parseFloat(I.getPropertyValue("margin-left")),B=parseFloat(I.getPropertyValue("margin-right")),X=I.getPropertyValue("box-sizing");T=X&&"border-box"===X?A+G+B:A+N+H+G+B}else{var Y=parseFloat(I.getPropertyValue("height")),V=parseFloat(I.getPropertyValue("padding-top")),F=parseFloat(I.getPropertyValue("padding-bottom")),R=parseFloat(I.getPropertyValue("margin-top")),q=parseFloat(I.getPropertyValue("margin-bottom")),W=I.getPropertyValue("box-sizing");T=W&&"border-box"===W?Y+R+q:Y+V+F+R+q}D&&(P[0].style.transform=D),O&&(P[0].style.webkitTransform=O),t.roundLengths&&(T=Math.floor(T))}else T=(i-(t.slidesPerView-1)*g)/t.slidesPerView,t.roundLengths&&(T=Math.floor(T)),l[k]&&(e.isHorizontal()?l[k].style.width=T+"px":l[k].style.height=T+"px");l[k]&&(l[k].swiperSlideSize=T),u.push(T),t.centeredSlides?(b=b+T/2+w/2+g,0===w&&0!==k&&(b=b-i/2-g),0===k&&(b=b-i/2-g),Math.abs(b)<.001&&(b=0),t.roundLengths&&(b=Math.floor(b)),y%t.slidesPerGroup==0&&p.push(b),c.push(b)):(t.roundLengths&&(b=Math.floor(b)),y%t.slidesPerGroup==0&&p.push(b),c.push(b),b=b+T+g),e.virtualSize+=T+g,w=T,y+=1}}if(e.virtualSize=Math.max(e.virtualSize,i)+v,s&&r&&("slide"===t.effect||"coverflow"===t.effect)&&a.css({"width":e.virtualSize+t.spaceBetween+"px"}),te.flexbox&&!t.setWrapperSize||(e.isHorizontal()?a.css({"width":e.virtualSize+t.spaceBetween+"px"}):a.css({"height":e.virtualSize+t.spaceBetween+"px"})),1<t.slidesPerColumn&&(e.virtualSize=(T+t.spaceBetween)*x,e.virtualSize=Math.ceil(e.virtualSize/t.slidesPerColumn)-t.spaceBetween,e.isHorizontal()?a.css({"width":e.virtualSize+t.spaceBetween+"px"}):a.css({"height":e.virtualSize+t.spaceBetween+"px"}),t.centeredSlides)){E=[];for(var j=0;j<p.length;j+=1){var U=p[j];t.roundLengths&&(U=Math.floor(U)),p[j]<e.virtualSize+p[0]&&E.push(U)}p=E}if(!t.centeredSlides){E=[];for(var K=0;K<p.length;K+=1){var _=p[K];t.roundLengths&&(_=Math.floor(_)),p[K]<=e.virtualSize-i&&E.push(_)}p=E,1<Math.floor(e.virtualSize-i)-Math.floor(p[p.length-1])&&p.push(e.virtualSize-i)}if(0===p.length&&(p=[0]),0!==t.spaceBetween&&(e.isHorizontal()?s?l.css({"marginLeft":g+"px"}):l.css({"marginRight":g+"px"}):l.css({"marginBottom":g+"px"})),t.centerInsufficientSlides){var Z=0;if(u.forEach((function(e){Z+=e+(t.spaceBetween?t.spaceBetween:0)})),(Z-=t.spaceBetween)<i){var Q=(i-Z)/2;p.forEach((function(e,t){p[t]=e-Q})),c.forEach((function(e,t){c[t]=e+Q}))}}ee.extend(e,{"slides":l,"snapGrid":p,"slidesGrid":c,"slidesSizesGrid":u}),d!==o&&e.emit("slidesLengthChange"),p.length!==f&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),c.length!==m&&e.emit("slidesGridLengthChange"),(t.watchSlidesProgress||t.watchSlidesVisibility)&&e.updateSlidesOffset()}},"updateAutoHeight":function(e){var t,a=this,i=[],s=0;if("number"==typeof e?a.setTransition(e):!0===e&&a.setTransition(a.params.speed),
"auto"!==a.params.slidesPerView&&1<a.params.slidesPerView)for(t=0;t<Math.ceil(a.params.slidesPerView);t+=1){var r=a.activeIndex+t;if(r>a.slides.length)break;i.push(a.slides.eq(r)[0])}else i.push(a.slides.eq(a.activeIndex)[0]);for(t=0;t<i.length;t+=1)if(void 0!==i[t]){var n=i[t].offsetHeight;s=s<n?n:s}s&&a.$wrapperEl.css("height",s+"px")},"updateSlidesOffset":function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},"updateSlidesProgress":function(e){void 0===e&&(e=this&&this.translate||0);var t=this,a=t.params,i=t.slides,s=t.rtlTranslate;if(0!==i.length){void 0===i[0].swiperSlideOffset&&t.updateSlidesOffset();var r=-e;s&&(r=e),i.removeClass(a.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var n=0;n<i.length;n+=1){var o=i[n],l=(r+(a.centeredSlides?t.minTranslate():0)-o.swiperSlideOffset)/(o.swiperSlideSize+a.spaceBetween);if(a.watchSlidesVisibility){var d=-(r-o.swiperSlideOffset),p=d+t.slidesSizesGrid[n];(0<=d&&d<t.size||0<p&&p<=t.size||d<=0&&p>=t.size)&&(t.visibleSlides.push(o),t.visibleSlidesIndexes.push(n),i.eq(n).addClass(a.slideVisibleClass))}o.progress=s?-l:l}t.visibleSlides=L(t.visibleSlides)}},"updateProgress":function(e){void 0===e&&(e=this&&this.translate||0);var t=this,a=t.params,i=t.maxTranslate()-t.minTranslate(),s=t.progress,r=t.isBeginning,n=t.isEnd,o=r,l=n;0===i?n=r=!(s=0):(r=(s=(e-t.minTranslate())/i)<=0,n=1<=s),ee.extend(t,{"progress":s,"isBeginning":r,"isEnd":n}),(a.watchSlidesProgress||a.watchSlidesVisibility)&&t.updateSlidesProgress(e),r&&!o&&t.emit("reachBeginning toEdge"),n&&!l&&t.emit("reachEnd toEdge"),(o&&!r||l&&!n)&&t.emit("fromEdge"),t.emit("progress",s)},"updateSlidesClasses":function(){var e,t=this,a=t.slides,i=t.params,s=t.$wrapperEl,r=t.activeIndex,n=t.realIndex,o=t.virtual&&i.virtual.enabled;a.removeClass(i.slideActiveClass+" "+i.slideNextClass+" "+i.slidePrevClass+" "+i.slideDuplicateActiveClass+" "+i.slideDuplicateNextClass+" "+i.slideDuplicatePrevClass),(e=o?t.$wrapperEl.find("."+i.slideClass+'[data-swiper-slide-index="'+r+'"]'):a.eq(r)).addClass(i.slideActiveClass),i.loop&&(e.hasClass(i.slideDuplicateClass)?s.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+n+'"]').addClass(i.slideDuplicateActiveClass):s.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+n+'"]').addClass(i.slideDuplicateActiveClass));var l=e.nextAll("."+i.slideClass).eq(0).addClass(i.slideNextClass);i.loop&&0===l.length&&(l=a.eq(0)).addClass(i.slideNextClass);var d=e.prevAll("."+i.slideClass).eq(0).addClass(i.slidePrevClass);i.loop&&0===d.length&&(d=a.eq(-1)).addClass(i.slidePrevClass),i.loop&&(l.hasClass(i.slideDuplicateClass)?s.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicateNextClass):s.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicateNextClass),d.hasClass(i.slideDuplicateClass)?s.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+d.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicatePrevClass):s.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+d.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicatePrevClass))},"updateActiveIndex":function(e){var t,a=this,i=a.rtlTranslate?a.translate:-a.translate,s=a.slidesGrid,r=a.snapGrid,n=a.params,o=a.activeIndex,l=a.realIndex,d=a.snapIndex,p=e;if(void 0===p){for(var c=0;c<s.length;c+=1)void 0!==s[c+1]?i>=s[c]&&i<s[c+1]-(s[c+1]-s[c])/2?p=c:i>=s[c]&&i<s[c+1]&&(p=c+1):i>=s[c]&&(p=c);n.normalizeSlideIndex&&(p<0||void 0===p)&&(p=0)}if((t=0<=r.indexOf(i)?r.indexOf(i):Math.floor(p/n.slidesPerGroup))>=r.length&&(t=r.length-1),p!==o){var u=parseInt(a.slides.eq(p).attr("data-swiper-slide-index")||p,10);ee.extend(a,{"snapIndex":t,"realIndex":u,"previousIndex":o,"activeIndex":p}),a.emit("activeIndexChange"),a.emit("snapIndexChange"),l!==u&&a.emit("realIndexChange"),a.emit("slideChange")}else t!==d&&(a.snapIndex=t,a.emit("snapIndexChange"))},"updateClickedSlide":function(e){var t=this,a=t.params,i=L(e.target).closest("."+a.slideClass)[0],s=!1;if(i)for(var r=0;r<t.slides.length;r+=1)t.slides[r]===i&&(s=!0);if(!i||!s)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=i,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(L(i).attr("data-swiper-slide-index"),10):t.clickedIndex=L(i).index(),a.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}},d={"getTranslate":function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");var t=this.params,a=this.rtlTranslate,i=this.translate,s=this.$wrapperEl;if(t.virtualTranslate)return a?-i:i;var r=ee.getTranslate(s[0],e);return a&&(r=-r),r||0},"setTranslate":function(e,t){var a=this,i=a.rtlTranslate,s=a.params,r=a.$wrapperEl,n=a.progress,o=0,l=0;a.isHorizontal()?o=i?-e:e:l=e,s.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),s.virtualTranslate||(te.transforms3d?r.transform("translate3d("+o+"px, "+l+"px, 0px)"):r.transform("translate("+o+"px, "+l+"px)")),a.previousTranslate=a.translate,a.translate=a.isHorizontal()?o:l;var d=a.maxTranslate()-a.minTranslate();(0===d?0:(e-a.minTranslate())/d)!==n&&a.updateProgress(e),a.emit("setTranslate",a.translate,t)},"minTranslate":function(){return-this.snapGrid[0]},"maxTranslate":function(){return-this.snapGrid[this.snapGrid.length-1]}},p={"setTransition":function(e,t){this.$wrapperEl.transition(e),this.emit("setTransition",e,t)},"transitionStart":function(e,t){void 0===e&&(e=!0);var a=this,i=a.activeIndex,s=a.params,r=a.previousIndex;s.autoHeight&&a.updateAutoHeight();var n=t;if(n||(n=r<i?"next":i<r?"prev":"reset"),a.emit("transitionStart"),e&&i!==r){if("reset"===n)return void a.emit("slideResetTransitionStart");a.emit("slideChangeTransitionStart"),"next"===n?a.emit("slideNextTransitionStart"):a.emit("slidePrevTransitionStart")}},"transitionEnd":function(e,t){void 0===e&&(e=!0);var a=this,i=a.activeIndex,s=a.previousIndex;a.animating=!1,a.setTransition(0);var r=t;if(r||(r=s<i?"next":i<s?"prev":"reset"),a.emit("transitionEnd"),e&&i!==s){if("reset"===r)return void a.emit("slideResetTransitionEnd");a.emit("slideChangeTransitionEnd"),"next"===r?a.emit("slideNextTransitionEnd"):a.emit("slidePrevTransitionEnd")}}},c={"slideTo":function(e,t,a,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===a&&(a=!0);var s=this,r=e;r<0&&(r=0);var n=s.params,o=s.snapGrid,l=s.slidesGrid,d=s.previousIndex,p=s.activeIndex,c=s.rtlTranslate;if(s.animating&&n.preventInteractionOnTransition)return!1;var u=Math.floor(r/n.slidesPerGroup);u>=o.length&&(u=o.length-1),(p||n.initialSlide||0)===(d||0)&&a&&s.emit("beforeSlideChangeStart");var h,v=-o[u];if(s.updateProgress(v),n.normalizeSlideIndex)for(var f=0;f<l.length;f+=1)-Math.floor(100*v)>=Math.floor(100*l[f])&&(r=f);if(s.initialized&&r!==p){if(!s.allowSlideNext&&v<s.translate&&v<s.minTranslate())return!1;if(!s.allowSlidePrev&&v>s.translate&&v>s.maxTranslate()&&(p||0)!==r)return!1}return h=p<r?"next":r<p?"prev":"reset",c&&-v===s.translate||!c&&v===s.translate?(s.updateActiveIndex(r),n.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),"slide"!==n.effect&&s.setTranslate(v),"reset"!==h&&(s.transitionStart(a,h),s.transitionEnd(a,h)),!1):(0!==t&&te.transition?(s.setTransition(t),s.setTranslate(v),s.updateActiveIndex(r),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,i),s.transitionStart(a,h),s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(e){s&&!s.destroyed&&e.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(a,h))}),s.$wrapperEl[0].addEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd))):(s.setTransition(0),s.setTranslate(v),s.updateActiveIndex(r),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,i),s.transitionStart(a,h),s.transitionEnd(a,h)),!0)},"slideToLoop":function(e,t,a,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===a&&(a=!0);var s=e;return this.params.loop&&(s+=this.loopedSlides),this.slideTo(s,t,a,i)},"slideNext":function(e,t,a){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var i=this,s=i.params,r=i.animating;return s.loop?!r&&(i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft,i.slideTo(i.activeIndex+s.slidesPerGroup,e,t,a)):i.slideTo(i.activeIndex+s.slidesPerGroup,e,t,a)},"slidePrev":function(e,t,a){function d(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var i=this,s=i.params,r=i.animating,n=i.snapGrid,o=i.slidesGrid,l=i.rtlTranslate;if(s.loop){if(r)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}var p,c=d(l?i.translate:-i.translate),u=n.map((function(e){return d(e)})),h=(o.map((function(e){return d(e)})),n[u.indexOf(c)],n[u.indexOf(c)-1]);return void 0!==h&&(p=o.indexOf(h))<0&&(p=i.activeIndex-1),i.slideTo(p,e,t,a)},"slideReset":function(e,t,a){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,a)},"slideToClosest":function(e,t,a){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var i=this,s=i.activeIndex,r=Math.floor(s/i.params.slidesPerGroup);if(r<i.snapGrid.length-1){var n=i.rtlTranslate?i.translate:-i.translate,o=i.snapGrid[r];(i.snapGrid[r+1]-o)/2<n-o&&(s=i.params.slidesPerGroup)}return i.slideTo(s,e,t,a)},"slideToClickedSlide":function(){var e,t=this,a=t.params,i=t.$wrapperEl,s="auto"===a.slidesPerView?t.slidesPerViewDynamic():a.slidesPerView,r=t.clickedIndex;if(a.loop){if(t.animating)return;e=parseInt(L(t.clickedSlide).attr("data-swiper-slide-index"),10),a.centeredSlides?r<t.loopedSlides-s/2||r>t.slides.length-t.loopedSlides+s/2?(t.loopFix(),r=i.children("."+a.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+a.slideDuplicateClass+")").eq(0).index(),ee.nextTick((function(){t.slideTo(r)}))):t.slideTo(r):r>t.slides.length-s?(t.loopFix(),r=i.children("."+a.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+a.slideDuplicateClass+")").eq(0).index(),ee.nextTick((function(){t.slideTo(r)}))):t.slideTo(r)}else t.slideTo(r)}},u={"loopCreate":function(){var i=this,e=i.params,t=i.$wrapperEl;t.children("."+e.slideClass+"."+e.slideDuplicateClass).remove();var s=t.children("."+e.slideClass);if(e.loopFillGroupWithBlank){var a=e.slidesPerGroup-s.length%e.slidesPerGroup;if(a!==e.slidesPerGroup){for(var r=0;r<a;r+=1){var n=L(f.createElement("div")).addClass(e.slideClass+" "+e.slideBlankClass);t.append(n)}s=t.children("."+e.slideClass)}}"auto"!==e.slidesPerView||e.loopedSlides||(e.loopedSlides=s.length),i.loopedSlides=parseInt(e.loopedSlides||e.slidesPerView,10),i.loopedSlides+=e.loopAdditionalSlides,i.loopedSlides>s.length&&(i.loopedSlides=s.length);var o=[],l=[];s.each((function(e,t){var a=L(t);e<i.loopedSlides&&l.push(t),e<s.length&&e>=s.length-i.loopedSlides&&o.push(t),a.attr("data-swiper-slide-index",e)}));for(var d=0;d<l.length;d+=1)t.append(L(l[d].cloneNode(!0)).addClass(e.slideDuplicateClass));for(var p=o.length-1;0<=p;p-=1)t.prepend(L(o[p].cloneNode(!0)).addClass(e.slideDuplicateClass))},"loopFix":function(){var e,t=this,a=t.params,i=t.activeIndex,s=t.slides,r=t.loopedSlides,n=t.allowSlidePrev,o=t.allowSlideNext,l=t.snapGrid,d=t.rtlTranslate;t.allowSlidePrev=!0,t.allowSlideNext=!0;var p=-l[i]-t.getTranslate();i<r?(e=s.length-3*r+i,e+=r,t.slideTo(e,0,!1,!0)&&0!==p&&t.setTranslate((d?-t.translate:t.translate)-p)):("auto"===a.slidesPerView&&2*r<=i||i>=s.length-r)&&(e=-s.length+i+r,e+=r,t.slideTo(e,0,!1,!0)&&0!==p&&t.setTranslate((d?-t.translate:t.translate)-p)),t.allowSlidePrev=n,t.allowSlideNext=o},"loopDestroy":function(){var e=this.$wrapperEl,t=this.params,a=this.slides;e.children("."+t.slideClass+"."+t.slideDuplicateClass+",."+t.slideClass+"."+t.slideBlankClass).remove(),a.removeAttr("data-swiper-slide-index")}},h={"setGrabCursor":function(e){if(!(te.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked)){var t=this.el;t.style.cursor="move",t.style.cursor=e?"-webkit-grabbing":"-webkit-grab",t.style.cursor=e?"-moz-grabbin":"-moz-grab",t.style.cursor=e?"grabbing":"grab"}},"unsetGrabCursor":function(){te.touch||this.params.watchOverflow&&this.isLocked||(this.el.style.cursor="")}},v={"appendSlide":function(e){var t=this,a=t.$wrapperEl,i=t.params;if(i.loop&&t.loopDestroy(),"object"==typeof e&&"length"in e)for(var s=0;s<e.length;s+=1)e[s]&&a.append(e[s]);else a.append(e);i.loop&&t.loopCreate(),i.observer&&te.observer||t.update()},"prependSlide":function(e){var t=this,a=t.params,i=t.$wrapperEl,s=t.activeIndex;a.loop&&t.loopDestroy();var r=s+1;if("object"==typeof e&&"length"in e){for(var n=0;n<e.length;n+=1)e[n]&&i.prepend(e[n]);r=s+e.length}else i.prepend(e);a.loop&&t.loopCreate(),a.observer&&te.observer||t.update(),t.slideTo(r,0,!1)},"addSlide":function(e,t){var a=this,i=a.$wrapperEl,s=a.params,r=a.activeIndex;s.loop&&(r-=a.loopedSlides,a.loopDestroy(),a.slides=i.children("."+s.slideClass));var n=a.slides.length;if(e<=0)a.prependSlide(t);else if(n<=e)a.appendSlide(t);else{for(var o=e<r?r+1:r,l=[],d=n-1;e<=d;d-=1){var p=a.slides.eq(d);p.remove(),l.unshift(p)}if("object"==typeof t&&"length"in t){for(var c=0;c<t.length;c+=1)t[c]&&i.append(t[c]);o=e<r?r+t.length:r}else i.append(t);for(var u=0;u<l.length;u+=1)i.append(l[u]);s.loop&&a.loopCreate(),s.observer&&te.observer||a.update(),s.loop?a.slideTo(o+a.loopedSlides,0,!1):a.slideTo(o,0,!1)}},"removeSlide":function(e){var t=this,a=t.params,i=t.$wrapperEl,s=t.activeIndex;a.loop&&(s-=t.loopedSlides,t.loopDestroy(),t.slides=i.children("."+a.slideClass));var r,n=s;if("object"==typeof e&&"length"in e){for(var o=0;o<e.length;o+=1)r=e[o],t.slides[r]&&t.slides.eq(r).remove(),r<n&&(n-=1);n=Math.max(n,0)}else r=e,t.slides[r]&&t.slides.eq(r).remove(),r<n&&(n-=1),n=Math.max(n,0);a.loop&&t.loopCreate(),a.observer&&te.observer||t.update(),a.loop?t.slideTo(n+t.loopedSlides,0,!1):t.slideTo(n,0,!1)},"removeAllSlides":function(){for(var e=[],t=0;t<this.slides.length;t+=1)e.push(t);this.removeSlide(e)}},m=function(){var e=J.navigator.userAgent,t={"ios":!1,"android":!1,"androidChrome":!1,"desktop":!1,"windows":!1,"iphone":!1,"ipod":!1,"ipad":!1,"cordova":J.cordova||J.phonegap,"phonegap":J.cordova||J.phonegap},a=e.match(/(Windows Phone);?[\s\/]+([\d.]+)?/),i=e.match(/(Android);?[\s\/]+([\d.]+)?/),s=e.match(/(iPad).*OS\s([\d_]+)/),r=e.match(/(iPod)(.*OS\s([\d_]+))?/),n=!s&&e.match(/(iPhone\sOS|iOS)\s([\d_]+)/);if(a&&(t.os="windows",t.osVersion=a[2],t.windows=!0),i&&!a&&(t.os="android",t.osVersion=i[2],t.android=!0,t.androidChrome=0<=e.toLowerCase().indexOf("chrome")),(s||n||r)&&(t.os="ios",t.ios=!0),n&&!r&&(t.osVersion=n[2].replace(/_/g,"."),t.iphone=!0),s&&(t.osVersion=s[2].replace(/_/g,"."),t.ipad=!0),r&&(t.osVersion=r[3]?r[3].replace(/_/g,"."):null,t.iphone=!0),t.ios&&t.osVersion&&0<=e.indexOf("Version/")&&"10"===t.osVersion.split(".")[0]&&(t.osVersion=e.toLowerCase().split("version/")[1].split(" ")[0]),t.desktop=!(t.os||t.android||t.webView),t.webView=(n||s||r)&&e.match(/.*AppleWebKit(?!.*Safari)/i),t.os&&"ios"===t.os){var o=t.osVersion.split("."),l=f.querySelector('meta[name="viewport"]');t.minimalUi=!t.webView&&(r||n)&&(1*o[0]==7?1<=1*o[1]:7<1*o[0])&&l&&0<=l.getAttribute("content").indexOf("minimal-ui")}return t.pixelRatio=J.devicePixelRatio||1,t}(),b={"attachEvents":function(){var e=this,t=e.params,a=e.touchEvents,i=e.el,s=e.wrapperEl;e.onTouchStart=function(e){var t=this,a=t.touchEventsData,i=t.params,s=t.touches;if(!t.animating||!i.preventInteractionOnTransition){var r=e;if(r.originalEvent&&(r=r.originalEvent),a.isTouchEvent="touchstart"===r.type,(a.isTouchEvent||!("which"in r)||3!==r.which)&&!(!a.isTouchEvent&&"button"in r&&0<r.button||a.isTouched&&a.isMoved))if(i.noSwiping&&L(r.target).closest(i.noSwipingSelector?i.noSwipingSelector:"."+i.noSwipingClass)[0])t.allowClick=!0;else if(!i.swipeHandler||L(r).closest(i.swipeHandler)[0]){s.currentX="touchstart"===r.type?r.targetTouches[0].pageX:r.pageX,s.currentY="touchstart"===r.type?r.targetTouches[0].pageY:r.pageY;var n=s.currentX,o=s.currentY,l=i.edgeSwipeDetection||i.iOSEdgeSwipeDetection,d=i.edgeSwipeThreshold||i.iOSEdgeSwipeThreshold;if(!l||!(n<=d||n>=J.screen.width-d)){if(ee.extend(a,{"isTouched":!0,"isMoved":!1,"allowTouchCallbacks":!0,"isScrolling":void 0,"startMoving":void 0}),s.startX=n,s.startY=o,a.touchStartTime=ee.now(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,0<i.threshold&&(a.allowThresholdMove=!1),"touchstart"!==r.type){var p=!0;L(r.target).is(a.formElements)&&(p=!1),f.activeElement&&L(f.activeElement).is(a.formElements)&&f.activeElement!==r.target&&f.activeElement.blur();var c=p&&t.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||c)&&r.preventDefault()}t.emit("touchStart",r)}}}}.bind(e),e.onTouchMove=function(e){var t=this,a=t.touchEventsData,i=t.params,s=t.touches,r=t.rtlTranslate,n=e;if(n.originalEvent&&(n=n.originalEvent),a.isTouched){if(!a.isTouchEvent||"mousemove"!==n.type){var o="touchmove"===n.type?n.targetTouches[0].pageX:n.pageX,l="touchmove"===n.type?n.targetTouches[0].pageY:n.pageY;if(n.preventedByNestedSwiper)return s.startX=o,void(s.startY=l);if(!t.allowTouchMove)return t.allowClick=!1,void(a.isTouched&&(ee.extend(s,{"startX":o,"startY":l,"currentX":o,"currentY":l}),a.touchStartTime=ee.now()));if(a.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop)if(t.isVertical()){if(l<s.startY&&t.translate<=t.maxTranslate()||l>s.startY&&t.translate>=t.minTranslate())return a.isTouched=!1,void(a.isMoved=!1)}else if(o<s.startX&&t.translate<=t.maxTranslate()||o>s.startX&&t.translate>=t.minTranslate())return;if(a.isTouchEvent&&f.activeElement&&n.target===f.activeElement&&L(n.target).is(a.formElements))return a.isMoved=!0,void(t.allowClick=!1);if(a.allowTouchCallbacks&&t.emit("touchMove",n),!(n.targetTouches&&1<n.targetTouches.length)){s.currentX=o,s.currentY=l;var d,p=s.currentX-s.startX,c=s.currentY-s.startY;if(!(t.params.threshold&&Math.sqrt(Math.pow(p,2)+Math.pow(c,2))<t.params.threshold))if(void 0===a.isScrolling&&(t.isHorizontal()&&s.currentY===s.startY||t.isVertical()&&s.currentX===s.startX?a.isScrolling=!1:25<=p*p+c*c&&(d=180*Math.atan2(Math.abs(c),Math.abs(p))/Math.PI,a.isScrolling=t.isHorizontal()?d>i.touchAngle:90-d>i.touchAngle)),a.isScrolling&&t.emit("touchMoveOpposite",n),void 0===a.startMoving&&(s.currentX===s.startX&&s.currentY===s.startY||(a.startMoving=!0)),a.isScrolling)a.isTouched=!1;else if(a.startMoving){t.allowClick=!1,n.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&n.stopPropagation(),a.isMoved||(i.loop&&t.loopFix(),a.startTranslate=t.getTranslate(),t.setTransition(0),t.animating&&t.$wrapperEl.trigger("webkitTransitionEnd transitionend"),a.allowMomentumBounce=!1,!i.grabCursor||!0!==t.allowSlideNext&&!0!==t.allowSlidePrev||t.setGrabCursor(!0),t.emit("sliderFirstMove",n)),t.emit("sliderMove",n),a.isMoved=!0;var u=t.isHorizontal()?p:c;s.diff=u,u*=i.touchRatio,r&&(u=-u),t.swipeDirection=0<u?"prev":"next",a.currentTranslate=u+a.startTranslate;var h=!0,v=i.resistanceRatio;if(i.touchReleaseOnEdges&&(v=0),0<u&&a.currentTranslate>t.minTranslate()?(h=!1,i.resistance&&(a.currentTranslate=t.minTranslate()-1+Math.pow(-t.minTranslate()+a.startTranslate+u,v))):u<0&&a.currentTranslate<t.maxTranslate()&&(h=!1,i.resistance&&(a.currentTranslate=t.maxTranslate()+1-Math.pow(t.maxTranslate()-a.startTranslate-u,v))),h&&(n.preventedByNestedSwiper=!0),!t.allowSlideNext&&"next"===t.swipeDirection&&a.currentTranslate<a.startTranslate&&(a.currentTranslate=a.startTranslate),!t.allowSlidePrev&&"prev"===t.swipeDirection&&a.currentTranslate>a.startTranslate&&(a.currentTranslate=a.startTranslate),0<i.threshold){if(!(Math.abs(u)>i.threshold||a.allowThresholdMove))return void(a.currentTranslate=a.startTranslate);if(!a.allowThresholdMove)return a.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,a.currentTranslate=a.startTranslate,void(s.diff=t.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY)}i.followFinger&&((i.freeMode||i.watchSlidesProgress||i.watchSlidesVisibility)&&(t.updateActiveIndex(),t.updateSlidesClasses()),i.freeMode&&(0===a.velocities.length&&a.velocities.push({"position":s[t.isHorizontal()?"startX":"startY"],"time":a.touchStartTime}),a.velocities.push({"position":s[t.isHorizontal()?"currentX":"currentY"],"time":ee.now()})),t.updateProgress(a.currentTranslate),t.setTranslate(a.currentTranslate))}}}}else a.startMoving&&a.isScrolling&&t.emit("touchMoveOpposite",n)}.bind(e),e.onTouchEnd=function(e){var t=this,a=t.touchEventsData,i=t.params,s=t.touches,r=t.rtlTranslate,n=t.$wrapperEl,o=t.slidesGrid,l=t.snapGrid,d=e;if(d.originalEvent&&(d=d.originalEvent),a.allowTouchCallbacks&&t.emit("touchEnd",d),a.allowTouchCallbacks=!1,!a.isTouched)return a.isMoved&&i.grabCursor&&t.setGrabCursor(!1),a.isMoved=!1,void(a.startMoving=!1);i.grabCursor&&a.isMoved&&a.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var p,c=ee.now(),u=c-a.touchStartTime;if(t.allowClick&&(t.updateClickedSlide(d),t.emit("tap",d),u<300&&300<c-a.lastClickTime&&(a.clickTimeout&&clearTimeout(a.clickTimeout),a.clickTimeout=ee.nextTick((function(){t&&!t.destroyed&&t.emit("click",d)}),300)),u<300&&c-a.lastClickTime<300&&(a.clickTimeout&&clearTimeout(a.clickTimeout),t.emit("doubleTap",d))),a.lastClickTime=ee.now(),ee.nextTick((function(){t.destroyed||(t.allowClick=!0)})),!a.isTouched||!a.isMoved||!t.swipeDirection||0===s.diff||a.currentTranslate===a.startTranslate)return a.isTouched=!1,a.isMoved=!1,void(a.startMoving=!1);if(a.isTouched=!1,a.isMoved=!1,a.startMoving=!1,p=i.followFinger?r?t.translate:-t.translate:-a.currentTranslate,i.freeMode){if(p<-t.minTranslate())return void t.slideTo(t.activeIndex);if(p>-t.maxTranslate())return void(t.slides.length<l.length?t.slideTo(l.length-1):t.slideTo(t.slides.length-1));if(i.freeModeMomentum){if(1<a.velocities.length){var h=a.velocities.pop(),v=a.velocities.pop(),f=h.position-v.position,m=h.time-v.time;t.velocity=f/m,t.velocity/=2,Math.abs(t.velocity)<i.freeModeMinimumVelocity&&(t.velocity=0),(150<m||300<ee.now()-h.time)&&(t.velocity=0)}else t.velocity=0;t.velocity*=i.freeModeMomentumVelocityRatio,a.velocities.length=0;var g=1e3*i.freeModeMomentumRatio,b=t.velocity*g,w=t.translate+b;r&&(w=-w);var y,x,T=!1,E=20*Math.abs(t.velocity)*i.freeModeMomentumBounceRatio;if(w<t.maxTranslate())i.freeModeMomentumBounce?(w+t.maxTranslate()<-E&&(w=t.maxTranslate()-E),y=t.maxTranslate(),T=!0,a.allowMomentumBounce=!0):w=t.maxTranslate(),i.loop&&i.centeredSlides&&(x=!0);else if(w>t.minTranslate())i.freeModeMomentumBounce?(w-t.minTranslate()>E&&(w=t.minTranslate()+E),y=t.minTranslate(),T=!0,a.allowMomentumBounce=!0):w=t.minTranslate(),i.loop&&i.centeredSlides&&(x=!0);else if(i.freeModeSticky){for(var S,C=0;C<l.length;C+=1)if(l[C]>-w){S=C;break}w=-(w=Math.abs(l[S]-w)<Math.abs(l[S-1]-w)||"next"===t.swipeDirection?l[S]:l[S-1])}if(x&&t.once("transitionEnd",(function(){t.loopFix()})),0!==t.velocity)g=r?Math.abs((-w-t.translate)/t.velocity):Math.abs((w-t.translate)/t.velocity);else if(i.freeModeSticky)return void t.slideToClosest();i.freeModeMomentumBounce&&T?(t.updateProgress(y),t.setTransition(g),t.setTranslate(w),t.transitionStart(!0,t.swipeDirection),t.animating=!0,n.transitionEnd((function(){t&&!t.destroyed&&a.allowMomentumBounce&&(t.emit("momentumBounce"),t.setTransition(i.speed),t.setTranslate(y),n.transitionEnd((function(){t&&!t.destroyed&&t.transitionEnd()})))}))):t.velocity?(t.updateProgress(w),t.setTransition(g),t.setTranslate(w),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,n.transitionEnd((function(){t&&!t.destroyed&&t.transitionEnd()})))):t.updateProgress(w),t.updateActiveIndex(),t.updateSlidesClasses()}else if(i.freeModeSticky)return void t.slideToClosest();(!i.freeModeMomentum||u>=i.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}else{for(var M=0,k=t.slidesSizesGrid[0],P=0;P<o.length;P+=i.slidesPerGroup)void 0!==o[P+i.slidesPerGroup]?p>=o[P]&&p<o[P+i.slidesPerGroup]&&(k=o[(M=P)+i.slidesPerGroup]-o[P]):p>=o[P]&&(M=P,k=o[o.length-1]-o[o.length-2]);var z=(p-o[M])/k;if(u>i.longSwipesMs){if(!i.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(z>=i.longSwipesRatio?t.slideTo(M+i.slidesPerGroup):t.slideTo(M)),"prev"===t.swipeDirection&&(z>1-i.longSwipesRatio?t.slideTo(M+i.slidesPerGroup):t.slideTo(M))}else{if(!i.shortSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&t.slideTo(M+i.slidesPerGroup),"prev"===t.swipeDirection&&t.slideTo(M)}}}.bind(e),e.onClick=function(e){this.allowClick||(this.params.preventClicks&&e.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))}.bind(e);var r="container"===t.touchEventsTarget?i:s,n=!!t.nested;if(te.touch||!te.pointerEvents&&!te.prefixedPointerEvents){if(te.touch){var o=!("touchstart"!==a.start||!te.passiveListener||!t.passiveListeners)&&{"passive":!0,"capture":!1};r.addEventListener(a.start,e.onTouchStart,o),r.addEventListener(a.move,e.onTouchMove,te.passiveListener?{"passive":!1,"capture":n}:n),r.addEventListener(a.end,e.onTouchEnd,o)}(t.simulateTouch&&!m.ios&&!m.android||t.simulateTouch&&!te.touch&&m.ios)&&(r.addEventListener("mousedown",e.onTouchStart,!1),f.addEventListener("mousemove",e.onTouchMove,n),f.addEventListener("mouseup",e.onTouchEnd,!1))}else r.addEventListener(a.start,e.onTouchStart,!1),f.addEventListener(a.move,e.onTouchMove,n),f.addEventListener(a.end,e.onTouchEnd,!1);(t.preventClicks||t.preventClicksPropagation)&&r.addEventListener("click",e.onClick,!0),e.on(m.ios||m.android?"resize orientationchange observerUpdate":"resize observerUpdate",g,!0)},"detachEvents":function(){var e=this,t=e.params,a=e.touchEvents,i=e.el,s=e.wrapperEl,r="container"===t.touchEventsTarget?i:s,n=!!t.nested;if(te.touch||!te.pointerEvents&&!te.prefixedPointerEvents){if(te.touch){var o=!("onTouchStart"!==a.start||!te.passiveListener||!t.passiveListeners)&&{"passive":!0,"capture":!1};r.removeEventListener(a.start,e.onTouchStart,o),r.removeEventListener(a.move,e.onTouchMove,n),r.removeEventListener(a.end,e.onTouchEnd,o)}(t.simulateTouch&&!m.ios&&!m.android||t.simulateTouch&&!te.touch&&m.ios)&&(r.removeEventListener("mousedown",e.onTouchStart,!1),f.removeEventListener("mousemove",e.onTouchMove,n),f.removeEventListener("mouseup",e.onTouchEnd,!1))}else r.removeEventListener(a.start,e.onTouchStart,!1),f.removeEventListener(a.move,e.onTouchMove,n),f.removeEventListener(a.end,e.onTouchEnd,!1);(t.preventClicks||t.preventClicksPropagation)&&r.removeEventListener("click",e.onClick,!0),e.off(m.ios||m.android?"resize orientationchange observerUpdate":"resize observerUpdate",g)}},y={"setBreakpoint":function(){var e=this,t=e.activeIndex,a=e.initialized,i=e.loopedSlides;void 0===i&&(i=0);var s=e.params,r=s.breakpoints;if(r&&(!r||0!==Object.keys(r).length)){var n=e.getBreakpoint(r);if(n&&e.currentBreakpoint!==n){var o=n in r?r[n]:void 0;o&&["slidesPerView","spaceBetween","slidesPerGroup"].forEach((function(e){var t=o[e];void 0!==t&&(o[e]="slidesPerView"!==e||"AUTO"!==t&&"auto"!==t?"slidesPerView"===e?parseFloat(t):parseInt(t,10):"auto")}));var l=o||e.originalParams,d=s.loop&&l.slidesPerView!==s.slidesPerView;ee.extend(e.params,l),ee.extend(e,{"allowTouchMove":e.params.allowTouchMove,"allowSlideNext":e.params.allowSlideNext,"allowSlidePrev":e.params.allowSlidePrev}),e.currentBreakpoint=n,d&&a&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-i+e.loopedSlides,0,!1)),e.emit("breakpoint",l)}}},"getBreakpoint":function(e){if(e){var t=!1,a=[];Object.keys(e).forEach((function(e){a.push(e)})),a.sort((function(e,t){return parseInt(e,10)-parseInt(t,10)}));for(var i=0;i<a.length;i+=1){var s=a[i];this.params.breakpointsInverse?s<=J.innerWidth&&(t=s):s>=J.innerWidth&&!t&&(t=s)}return t||"max"}}},I={"isIE":!!J.navigator.userAgent.match(/Trident/g)||!!J.navigator.userAgent.match(/MSIE/g),"isEdge":!!J.navigator.userAgent.match(/Edge/g),"isSafari":(w=J.navigator.userAgent.toLowerCase(),0<=w.indexOf("safari")&&w.indexOf("chrome")<0&&w.indexOf("android")<0),"isUiWebView":/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(J.navigator.userAgent)},x={"init":!0,"direction":"horizontal","touchEventsTarget":"container","initialSlide":0,"speed":300,"preventInteractionOnTransition":!1,"edgeSwipeDetection":!1,"edgeSwipeThreshold":20,"freeMode":!1,"freeModeMomentum":!0,"freeModeMomentumRatio":1,"freeModeMomentumBounce":!0,"freeModeMomentumBounceRatio":1,"freeModeMomentumVelocityRatio":1,"freeModeSticky":!1,"freeModeMinimumVelocity":.02,"autoHeight":!1,"setWrapperSize":!1,"virtualTranslate":!1,"effect":"slide","breakpoints":void 0,"breakpointsInverse":!1,"spaceBetween":0,"slidesPerView":1,"slidesPerColumn":1,"slidesPerColumnFill":"column","slidesPerGroup":1,"centeredSlides":!1,"slidesOffsetBefore":0,"slidesOffsetAfter":0,"normalizeSlideIndex":!0,"centerInsufficientSlides":!1,"watchOverflow":!1,"roundLengths":!1,"touchRatio":1,"touchAngle":45,"simulateTouch":!0,"shortSwipes":!0,"longSwipes":!0,"longSwipesRatio":.5,"longSwipesMs":300,"followFinger":!0,"allowTouchMove":!0,"threshold":0,"touchMoveStopPropagation":!0,"touchStartPreventDefault":!0,"touchStartForcePreventDefault":!1,"touchReleaseOnEdges":!1,"uniqueNavElements":!0,"resistance":!0,"resistanceRatio":.85,"watchSlidesProgress":!1,"watchSlidesVisibility":!1,"grabCursor":!1,"preventClicks":!0,"preventClicksPropagation":!0,"slideToClickedSlide":!1,"preloadImages":!0,"updateOnImagesReady":!0,"loop":!1,"loopAdditionalSlides":0,"loopedSlides":null,"loopFillGroupWithBlank":!1,"allowSlidePrev":!0,"allowSlideNext":!0,"swipeHandler":null,"noSwiping":!0,"noSwipingClass":"swiper-no-swiping","noSwipingSelector":null,"passiveListeners":!0,"containerModifierClass":"swiper-container-","slideClass":"swiper-slide","slideBlankClass":"swiper-slide-invisible-blank","slideActiveClass":"swiper-slide-active","slideDuplicateActiveClass":"swiper-slide-duplicate-active","slideVisibleClass":"swiper-slide-visible","slideDuplicateClass":"swiper-slide-duplicate","slideNextClass":"swiper-slide-next","slideDuplicateNextClass":"swiper-slide-duplicate-next","slidePrevClass":"swiper-slide-prev","slideDuplicatePrevClass":"swiper-slide-duplicate-prev","wrapperClass":"swiper-wrapper","runCallbacksOnInit":!0},T={"update":o,"translate":d,"transition":p,"slide":c,"loop":u,"grabCursor":h,"manipulation":v,"events":b,"breakpoints":y,"checkOverflow":{"checkOverflow":function(){var e=this,t=e.isLocked;e.isLocked=1===e.snapGrid.length,e.allowSlideNext=!e.isLocked,e.allowSlidePrev=!e.isLocked,t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock"),t&&t!==e.isLocked&&(e.isEnd=!1,e.navigation.update())}},"classes":{"addClasses":function(){var t=this.classNames,a=this.params,e=this.rtl,i=this.$el,s=[];s.push(a.direction),a.freeMode&&s.push("free-mode"),te.flexbox||s.push("no-flexbox"),a.autoHeight&&s.push("autoheight"),e&&s.push("rtl"),1<a.slidesPerColumn&&s.push("multirow"),m.android&&s.push("android"),m.ios&&s.push("ios"),(I.isIE||I.isEdge)&&(te.pointerEvents||te.prefixedPointerEvents)&&s.push("wp8-"+a.direction),s.forEach((function(e){t.push(a.containerModifierClass+e)})),i.addClass(t.join(" "))},"removeClasses":function(){var e=this.$el,t=this.classNames;e.removeClass(t.join(" "))}},"images":{"loadImage":function(e,t,a,i,s,r){function o(){r&&r()}var n;e.complete&&s?o():t?((n=new J.Image).onload=o,n.onerror=o,i&&(n.sizes=i),a&&(n.srcset=a),t&&(n.src=t)):o()},"preloadImages":function(){function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}var e=this;e.imagesToLoad=e.$el.find("img");for(var a=0;a<e.imagesToLoad.length;a+=1){var i=e.imagesToLoad[a];e.loadImage(i,i.currentSrc||i.getAttribute("src"),i.srcset||i.getAttribute("srcset"),i.sizes||i.getAttribute("sizes"),!0,t)}}}},E={},S=function(u){function h(){for(var e,t,s,a=[],i=arguments.length;i--;)a[i]=arguments[i];1===a.length&&a[0].constructor&&a[0].constructor===Object?s=a[0]:(t=(e=a)[0],s=e[1]),s||(s={}),s=ee.extend({},s),t&&!s.el&&(s.el=t),u.call(this,s),Object.keys(T).forEach((function(t){Object.keys(T[t]).forEach((function(e){h.prototype[e]||(h.prototype[e]=T[t][e])}))}));var r=this;void 0===r.modules&&(r.modules={}),Object.keys(r.modules).forEach((function(e){var t=r.modules[e];if(t.params){
var a=Object.keys(t.params)[0],i=t.params[a];if("object"!=typeof i||null===i)return;if(!(a in s)||!("enabled"in i))return;!0===s[a]&&(s[a]={"enabled":!0}),"object"!=typeof s[a]||"enabled"in s[a]||(s[a].enabled=!0),s[a]||(s[a]={"enabled":!1})}}));var n=ee.extend({},x);r.useModulesParams(n),r.params=ee.extend({},n,E,s),r.originalParams=ee.extend({},r.params),r.passedParams=ee.extend({},s);var o=(r.$=L)(r.params.el);if(t=o[0]){if(1<o.length){var l=[];return o.each((function(e,t){var a=ee.extend({},s,{"el":t});l.push(new h(a))})),l}t.swiper=r,o.data("swiper",r);var d,p,c=o.children("."+r.params.wrapperClass);return ee.extend(r,{"$el":o,"el":t,"$wrapperEl":c,"wrapperEl":c[0],"classNames":[],"slides":L(),"slidesGrid":[],"snapGrid":[],"slidesSizesGrid":[],"isHorizontal":function(){return"horizontal"===r.params.direction},"isVertical":function(){return"vertical"===r.params.direction},"rtl":"rtl"===t.dir.toLowerCase()||"rtl"===o.css("direction"),"rtlTranslate":"horizontal"===r.params.direction&&("rtl"===t.dir.toLowerCase()||"rtl"===o.css("direction")),"wrongRTL":"-webkit-box"===c.css("display"),"activeIndex":0,"realIndex":0,"isBeginning":!0,"isEnd":!1,"translate":0,"previousTranslate":0,"progress":0,"velocity":0,"animating":!1,"allowSlideNext":r.params.allowSlideNext,"allowSlidePrev":r.params.allowSlidePrev,"touchEvents":(d=["touchstart","touchmove","touchend"],p=["mousedown","mousemove","mouseup"],te.pointerEvents?p=["pointerdown","pointermove","pointerup"]:te.prefixedPointerEvents&&(p=["MSPointerDown","MSPointerMove","MSPointerUp"]),r.touchEventsTouch={"start":d[0],"move":d[1],"end":d[2]},r.touchEventsDesktop={"start":p[0],"move":p[1],"end":p[2]},te.touch||!r.params.simulateTouch?r.touchEventsTouch:r.touchEventsDesktop),"touchEventsData":{"isTouched":void 0,"isMoved":void 0,"allowTouchCallbacks":void 0,"touchStartTime":void 0,"isScrolling":void 0,"currentTranslate":void 0,"startTranslate":void 0,"allowThresholdMove":void 0,"formElements":"input, select, option, textarea, button, video","lastClickTime":ee.now(),"clickTimeout":void 0,"velocities":[],"allowMomentumBounce":void 0,"isTouchEvent":void 0,"startMoving":void 0},"allowClick":!0,"allowTouchMove":r.params.allowTouchMove,"touches":{"startX":0,"startY":0,"currentX":0,"currentY":0,"diff":0},"imagesToLoad":[],"imagesLoaded":0}),r.useModules(),r.params.init&&r.init(),r}}u&&(h.__proto__=u);var e={"extendedDefaults":{"configurable":!0},"defaults":{"configurable":!0},"Class":{"configurable":!0},"$":{"configurable":!0}};return((h.prototype=Object.create(u&&u.prototype)).constructor=h).prototype.slidesPerViewDynamic=function(){var e=this,t=e.params,a=e.slides,i=e.slidesGrid,s=e.size,r=e.activeIndex,n=1;if(t.centeredSlides){for(var o,l=a[r].swiperSlideSize,d=r+1;d<a.length;d+=1)a[d]&&!o&&(n+=1,s<(l+=a[d].swiperSlideSize)&&(o=!0));for(var p=r-1;0<=p;p-=1)a[p]&&!o&&(n+=1,s<(l+=a[p].swiperSlideSize)&&(o=!0))}else for(var c=r+1;c<a.length;c+=1)i[c]-i[r]<s&&(n+=1);return n},h.prototype.update=function(){function i(){var e=a.rtlTranslate?-1*a.translate:a.translate,t=Math.min(Math.max(e,a.maxTranslate()),a.minTranslate());a.setTranslate(t),a.updateActiveIndex(),a.updateSlidesClasses()}var a=this;if(a&&!a.destroyed){var e=a.snapGrid,t=a.params;t.breakpoints&&a.setBreakpoint(),a.updateSize(),a.updateSlides(),a.updateProgress(),a.updateSlidesClasses(),a.params.freeMode?(i(),a.params.autoHeight&&a.updateAutoHeight()):(("auto"===a.params.slidesPerView||1<a.params.slidesPerView)&&a.isEnd&&!a.params.centeredSlides?a.slideTo(a.slides.length-1,0,!1,!0):a.slideTo(a.activeIndex,0,!1,!0))||i(),t.watchOverflow&&e!==a.snapGrid&&a.checkOverflow(),a.emit("update")}},h.prototype.init=function(){var e=this;e.initialized||(e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.params.loop&&e.loopCreate(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.setGrabCursor(),e.params.preloadImages&&e.preloadImages(),e.params.loop?e.slideTo(e.params.initialSlide+e.loopedSlides,0,e.params.runCallbacksOnInit):e.slideTo(e.params.initialSlide,0,e.params.runCallbacksOnInit),e.attachEvents(),e.initialized=!0,e.emit("init"))},h.prototype.destroy=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var a=this,i=a.params,s=a.$el,r=a.$wrapperEl,n=a.slides;return void 0===a.params||a.destroyed||(a.emit("beforeDestroy"),a.initialized=!1,a.detachEvents(),i.loop&&a.loopDestroy(),t&&(a.removeClasses(),s.removeAttr("style"),r.removeAttr("style"),n&&n.length&&n.removeClass([i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index").removeAttr("data-swiper-column").removeAttr("data-swiper-row")),a.emit("destroy"),Object.keys(a.eventsListeners).forEach((function(e){a.off(e)})),!1!==e&&(a.$el[0].swiper=null,a.$el.data("swiper",null),ee.deleteProps(a)),a.destroyed=!0),null},h.extendDefaults=function(e){ee.extend(E,e)},e.extendedDefaults.get=function(){return E},e.defaults.get=function(){return x},e.Class.get=function(){return u},e.$.get=function(){return L},Object.defineProperties(h,e),h}(s),C={"name":"device","proto":{"device":m},"static":{"device":m}},M={"name":"support","proto":{"support":te},"static":{"support":te}},k={"name":"browser","proto":{"browser":I},"static":{"browser":I}},P={"name":"resize","create":function(){var e=this;ee.extend(e,{"resize":{"resizeHandler":function(){e&&!e.destroyed&&e.initialized&&(e.emit("beforeResize"),e.emit("resize"))},"orientationChangeHandler":function(){e&&!e.destroyed&&e.initialized&&e.emit("orientationchange")}}})},"on":{"init":function(){J.addEventListener("resize",this.resize.resizeHandler),J.addEventListener("orientationchange",this.resize.orientationChangeHandler)},"destroy":function(){J.removeEventListener("resize",this.resize.resizeHandler),J.removeEventListener("orientationchange",this.resize.orientationChangeHandler)}}},z={"func":J.MutationObserver||J.WebkitMutationObserver,"attach":function(e,t){void 0===t&&(t={});var a=this,i=new z.func((function(e){if(1!==e.length){var t=function(){a.emit("observerUpdate",e[0])};J.requestAnimationFrame?J.requestAnimationFrame(t):J.setTimeout(t,0)}else a.emit("observerUpdate",e[0])}));i.observe(e,{"attributes":void 0===t.attributes||t.attributes,"childList":void 0===t.childList||t.childList,"characterData":void 0===t.characterData||t.characterData}),a.observer.observers.push(i)},"init":function(){var e=this;if(te.observer&&e.params.observer){if(e.params.observeParents)for(var t=e.$el.parents(),a=0;a<t.length;a+=1)e.observer.attach(t[a]);e.observer.attach(e.$el[0],{"childList":e.params.observeSlideChildren}),e.observer.attach(e.$wrapperEl[0],{"attributes":!1})}},"destroy":function(){this.observer.observers.forEach((function(e){e.disconnect()})),this.observer.observers=[]}},$={"name":"observer","params":{"observer":!1,"observeParents":!1,"observeSlideChildren":!1},"create":function(){ee.extend(this,{"observer":{"init":z.init.bind(this),"attach":z.attach.bind(this),"destroy":z.destroy.bind(this),"observers":[]}})},"on":{"init":function(){this.observer.init()},"destroy":function(){this.observer.destroy()}}},D={"update":function(e){function E(){t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load()}var t=this,a=t.params,i=a.slidesPerView,s=a.slidesPerGroup,r=a.centeredSlides,n=t.params.virtual,o=n.addSlidesBefore,l=n.addSlidesAfter,d=t.virtual,p=d.from,c=d.to,u=d.slides,h=d.slidesGrid,v=d.renderSlide,f=d.offset;t.updateActiveIndex();var m,g,b,w=t.activeIndex||0;m=t.rtlTranslate?"right":t.isHorizontal()?"left":"top",r?(g=Math.floor(i/2)+s+o,b=Math.floor(i/2)+s+l):(g=i+(s-1)+o,b=s+l);var y=Math.max((w||0)-b,0),x=Math.min((w||0)+g,u.length-1),T=(t.slidesGrid[y]||0)-(t.slidesGrid[0]||0);if(ee.extend(t.virtual,{"from":y,"to":x,"offset":T,"slidesGrid":t.slidesGrid}),p===y&&c===x&&!e)return t.slidesGrid!==h&&T!==f&&t.slides.css(m,T+"px"),void t.updateProgress();if(t.params.virtual.renderExternal)return t.params.virtual.renderExternal.call(t,{"offset":T,"from":y,"to":x,"slides":function(){for(var e=[],t=y;t<=x;t+=1)e.push(u[t]);return e}()}),void E();var S=[],C=[];if(e)t.$wrapperEl.find("."+t.params.slideClass).remove();else for(var M=p;M<=c;M+=1)(M<y||x<M)&&t.$wrapperEl.find("."+t.params.slideClass+'[data-swiper-slide-index="'+M+'"]').remove();for(var k=0;k<u.length;k+=1)y<=k&&k<=x&&(void 0===c||e?C.push(k):(c<k&&C.push(k),k<p&&S.push(k)));C.forEach((function(e){t.$wrapperEl.append(v(u[e],e))})),S.sort((function(e,t){return t-e})).forEach((function(e){t.$wrapperEl.prepend(v(u[e],e))})),t.$wrapperEl.children(".swiper-slide").css(m,T+"px"),E()},"renderSlide":function(e,t){var a=this,i=a.params.virtual;if(i.cache&&a.virtual.cache[t])return a.virtual.cache[t];var s=i.renderSlide?L(i.renderSlide.call(a,e,t)):L('<div class="'+a.params.slideClass+'" data-swiper-slide-index="'+t+'">'+e+"</div>");return s.attr("data-swiper-slide-index")||s.attr("data-swiper-slide-index",t),i.cache&&(a.virtual.cache[t]=s),s},"appendSlide":function(e){this.virtual.slides.push(e),this.virtual.update(!0)},"prependSlide":function(e){var t=this;if(t.virtual.slides.unshift(e),t.params.virtual.cache){var a=t.virtual.cache,i={};Object.keys(a).forEach((function(e){i[e+1]=a[e]})),t.virtual.cache=i}t.virtual.update(!0),t.slideNext(0)}},O={"name":"virtual","params":{"virtual":{"enabled":!1,"slides":[],"cache":!0,"renderSlide":null,"renderExternal":null,"addSlidesBefore":0,"addSlidesAfter":0}},"create":function(){var e=this;ee.extend(e,{"virtual":{"update":D.update.bind(e),"appendSlide":D.appendSlide.bind(e),"prependSlide":D.prependSlide.bind(e),"renderSlide":D.renderSlide.bind(e),"slides":e.params.virtual.slides,"cache":{}}})},"on":{"beforeInit":function(){var e=this;if(e.params.virtual.enabled){e.classNames.push(e.params.containerModifierClass+"virtual");var t={"watchSlidesProgress":!0};ee.extend(e.params,t),ee.extend(e.originalParams,t),e.params.initialSlide||e.virtual.update()}},"setTranslate":function(){this.params.virtual.enabled&&this.virtual.update()}}},A={"handle":function(e){var t=this,a=t.rtlTranslate,i=e;i.originalEvent&&(i=i.originalEvent);var s=i.keyCode||i.charCode;if(!t.allowSlideNext&&(t.isHorizontal()&&39===s||t.isVertical()&&40===s))return!1;if(!t.allowSlidePrev&&(t.isHorizontal()&&37===s||t.isVertical()&&38===s))return!1;if(!(i.shiftKey||i.altKey||i.ctrlKey||i.metaKey||f.activeElement&&f.activeElement.nodeName&&("input"===f.activeElement.nodeName.toLowerCase()||"textarea"===f.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(37===s||39===s||38===s||40===s)){var r=!1;if(0<t.$el.parents("."+t.params.slideClass).length&&0===t.$el.parents("."+t.params.slideActiveClass).length)return;var n=J.innerWidth,o=J.innerHeight,l=t.$el.offset();a&&(l.left-=t.$el[0].scrollLeft);for(var d=[[l.left,l.top],[l.left+t.width,l.top],[l.left,l.top+t.height],[l.left+t.width,l.top+t.height]],p=0;p<d.length;p+=1){var c=d[p];0<=c[0]&&c[0]<=n&&0<=c[1]&&c[1]<=o&&(r=!0)}if(!r)return}t.isHorizontal()?(37!==s&&39!==s||(i.preventDefault?i.preventDefault():i.returnValue=!1),(39===s&&!a||37===s&&a)&&t.slideNext(),(37===s&&!a||39===s&&a)&&t.slidePrev()):(38!==s&&40!==s||(i.preventDefault?i.preventDefault():i.returnValue=!1),40===s&&t.slideNext(),38===s&&t.slidePrev()),t.emit("keyPress",s)}},"enable":function(){this.keyboard.enabled||(L(f).on("keydown",this.keyboard.handle),this.keyboard.enabled=!0)},"disable":function(){this.keyboard.enabled&&(L(f).off("keydown",this.keyboard.handle),this.keyboard.enabled=!1)}},N={"name":"keyboard","params":{"keyboard":{"enabled":!1,"onlyInViewport":!0}},"create":function(){ee.extend(this,{"keyboard":{"enabled":!1,"enable":A.enable.bind(this),"disable":A.disable.bind(this),"handle":A.handle.bind(this)}})},"on":{"init":function(){this.params.keyboard.enabled&&this.keyboard.enable()},"destroy":function(){this.keyboard.enabled&&this.keyboard.disable()}}},H={"lastScrollTime":ee.now(),"event":-1<J.navigator.userAgent.indexOf("firefox")?"DOMMouseScroll":function(){var e="onwheel",t=e in f;if(!t){var a=f.createElement("div");a.setAttribute(e,"return;"),t="function"==typeof a[e]}return!t&&f.implementation&&f.implementation.hasFeature&&!0!==f.implementation.hasFeature("","")&&(t=f.implementation.hasFeature("Events.wheel","3.0")),t}()?"wheel":"mousewheel","normalize":function(e){var t=0,a=0,i=0,s=0;return"detail"in e&&(a=e.detail),"wheelDelta"in e&&(a=-e.wheelDelta/120),"wheelDeltaY"in e&&(a=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=a,a=0),i=10*t,s=10*a,"deltaY"in e&&(s=e.deltaY),"deltaX"in e&&(i=e.deltaX),(i||s)&&e.deltaMode&&(1===e.deltaMode?(i*=40,s*=40):(i*=800,s*=800)),i&&!t&&(t=i<1?-1:1),s&&!a&&(a=s<1?-1:1),{"spinX":t,"spinY":a,"pixelX":i,"pixelY":s}},"handleMouseEnter":function(){this.mouseEntered=!0},"handleMouseLeave":function(){this.mouseEntered=!1},"handle":function(e){var t=e,a=this,i=a.params.mousewheel;if(!a.mouseEntered&&!i.releaseOnEdges)return!0;t.originalEvent&&(t=t.originalEvent);var s=0,r=a.rtlTranslate?-1:1,n=H.normalize(t);if(i.forceToAxis)if(a.isHorizontal()){if(!(Math.abs(n.pixelX)>Math.abs(n.pixelY)))return!0;s=n.pixelX*r}else{if(!(Math.abs(n.pixelY)>Math.abs(n.pixelX)))return!0;s=n.pixelY}else s=Math.abs(n.pixelX)>Math.abs(n.pixelY)?-n.pixelX*r:-n.pixelY;if(0===s)return!0;if(i.invert&&(s=-s),a.params.freeMode){a.params.loop&&a.loopFix();var o=a.getTranslate()+s*i.sensitivity,l=a.isBeginning,d=a.isEnd;if(o>=a.minTranslate()&&(o=a.minTranslate()),o<=a.maxTranslate()&&(o=a.maxTranslate()),a.setTransition(0),a.setTranslate(o),a.updateProgress(),a.updateActiveIndex(),a.updateSlidesClasses(),(!l&&a.isBeginning||!d&&a.isEnd)&&a.updateSlidesClasses(),a.params.freeModeSticky&&(clearTimeout(a.mousewheel.timeout),a.mousewheel.timeout=ee.nextTick((function(){a.slideToClosest()}),300)),a.emit("scroll",t),a.params.autoplay&&a.params.autoplayDisableOnInteraction&&a.autoplay.stop(),o===a.minTranslate()||o===a.maxTranslate())return!0}else{if(60<ee.now()-a.mousewheel.lastScrollTime)if(s<0)if(a.isEnd&&!a.params.loop||a.animating){if(i.releaseOnEdges)return!0}else a.slideNext(),a.emit("scroll",t);else if(a.isBeginning&&!a.params.loop||a.animating){if(i.releaseOnEdges)return!0}else a.slidePrev(),a.emit("scroll",t);a.mousewheel.lastScrollTime=(new J.Date).getTime()}return t.preventDefault?t.preventDefault():t.returnValue=!1,!1},"enable":function(){var e=this;if(!H.event)return!1;if(e.mousewheel.enabled)return!1;var t=e.$el;return"container"!==e.params.mousewheel.eventsTarged&&(t=L(e.params.mousewheel.eventsTarged)),t.on("mouseenter",e.mousewheel.handleMouseEnter),t.on("mouseleave",e.mousewheel.handleMouseLeave),t.on(H.event,e.mousewheel.handle),e.mousewheel.enabled=!0},"disable":function(){var e=this;if(!H.event)return!1;if(!e.mousewheel.enabled)return!1;var t=e.$el;return"container"!==e.params.mousewheel.eventsTarged&&(t=L(e.params.mousewheel.eventsTarged)),t.off(H.event,e.mousewheel.handle),!(e.mousewheel.enabled=!1)}},G={"update":function(){var e=this,t=e.params.navigation;if(!e.params.loop){var a=e.navigation,i=a.$nextEl,s=a.$prevEl;s&&0<s.length&&(e.isBeginning?s.addClass(t.disabledClass):s.removeClass(t.disabledClass),s[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](t.lockClass)),i&&0<i.length&&(e.isEnd?i.addClass(t.disabledClass):i.removeClass(t.disabledClass),i[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](t.lockClass))}},"onPrevClick":function(e){e.preventDefault(),this.isBeginning&&!this.params.loop||this.slidePrev()},"onNextClick":function(e){e.preventDefault(),this.isEnd&&!this.params.loop||this.slideNext()},"init":function(){var e,t,a=this,i=a.params.navigation;(i.nextEl||i.prevEl)&&(i.nextEl&&(e=L(i.nextEl),a.params.uniqueNavElements&&"string"==typeof i.nextEl&&1<e.length&&1===a.$el.find(i.nextEl).length&&(e=a.$el.find(i.nextEl))),i.prevEl&&(t=L(i.prevEl),a.params.uniqueNavElements&&"string"==typeof i.prevEl&&1<t.length&&1===a.$el.find(i.prevEl).length&&(t=a.$el.find(i.prevEl))),e&&0<e.length&&e.on("click",a.navigation.onNextClick),t&&0<t.length&&t.on("click",a.navigation.onPrevClick),ee.extend(a.navigation,{"$nextEl":e,"nextEl":e&&e[0],"$prevEl":t,"prevEl":t&&t[0]}))},"destroy":function(){var e=this,t=e.navigation,a=t.$nextEl,i=t.$prevEl;a&&a.length&&(a.off("click",e.navigation.onNextClick),a.removeClass(e.params.navigation.disabledClass)),i&&i.length&&(i.off("click",e.navigation.onPrevClick),i.removeClass(e.params.navigation.disabledClass))}},B={"update":function(){var e=this,t=e.rtl,s=e.params.pagination;if(s.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var r,a=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,i=e.pagination.$el,n=e.params.loop?Math.ceil((a-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?((r=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup))>a-1-2*e.loopedSlides&&(r-=a-2*e.loopedSlides),n-1<r&&(r-=n),r<0&&"bullets"!==e.params.paginationType&&(r=n+r)):r=void 0!==e.snapIndex?e.snapIndex:e.activeIndex||0,"bullets"===s.type&&e.pagination.bullets&&0<e.pagination.bullets.length){var o,l,d,p=e.pagination.bullets;if(s.dynamicBullets&&(e.pagination.bulletSize=p.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),i.css(e.isHorizontal()?"width":"height",e.pagination.bulletSize*(s.dynamicMainBullets+4)+"px"),1<s.dynamicMainBullets&&void 0!==e.previousIndex&&(e.pagination.dynamicBulletIndex+=r-e.previousIndex,e.pagination.dynamicBulletIndex>s.dynamicMainBullets-1?e.pagination.dynamicBulletIndex=s.dynamicMainBullets-1:e.pagination.dynamicBulletIndex<0&&(e.pagination.dynamicBulletIndex=0)),o=r-e.pagination.dynamicBulletIndex,d=((l=o+(Math.min(p.length,s.dynamicMainBullets)-1))+o)/2),p.removeClass(s.bulletActiveClass+" "+s.bulletActiveClass+"-next "+s.bulletActiveClass+"-next-next "+s.bulletActiveClass+"-prev "+s.bulletActiveClass+"-prev-prev "+s.bulletActiveClass+"-main"),1<i.length)p.each((function(e,t){var a=L(t),i=a.index();i===r&&a.addClass(s.bulletActiveClass),s.dynamicBullets&&(o<=i&&i<=l&&a.addClass(s.bulletActiveClass+"-main"),i===o&&a.prev().addClass(s.bulletActiveClass+"-prev").prev().addClass(s.bulletActiveClass+"-prev-prev"),i===l&&a.next().addClass(s.bulletActiveClass+"-next").next().addClass(s.bulletActiveClass+"-next-next"))}));else if(p.eq(r).addClass(s.bulletActiveClass),s.dynamicBullets){for(var c=p.eq(o),u=p.eq(l),h=o;h<=l;h+=1)p.eq(h).addClass(s.bulletActiveClass+"-main");c.prev().addClass(s.bulletActiveClass+"-prev").prev().addClass(s.bulletActiveClass+"-prev-prev"),u.next().addClass(s.bulletActiveClass+"-next").next().addClass(s.bulletActiveClass+"-next-next")}if(s.dynamicBullets){var v=Math.min(p.length,s.dynamicMainBullets+4),f=(e.pagination.bulletSize*v-e.pagination.bulletSize)/2-d*e.pagination.bulletSize,m=t?"right":"left";p.css(e.isHorizontal()?m:"top",f+"px")}}if("fraction"===s.type&&(i.find("."+s.currentClass).text(s.formatFractionCurrent(r+1)),i.find("."+s.totalClass).text(s.formatFractionTotal(n))),"progressbar"===s.type){var g;g=s.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";var b=(r+1)/n,w=1,y=1;"horizontal"===g?w=b:y=b,i.find("."+s.progressbarFillClass).transform("translate3d(0,0,0) scaleX("+w+") scaleY("+y+")").transition(e.params.speed)}"custom"===s.type&&s.renderCustom?(i.html(s.renderCustom(e,r+1,n)),e.emit("paginationRender",e,i[0])):e.emit("paginationUpdate",e,i[0]),i[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](s.lockClass)}},"render":function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var a=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,i=e.pagination.$el,s="";if("bullets"===t.type){for(var r=e.params.loop?Math.ceil((a-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length,n=0;n<r;n+=1)t.renderBullet?s+=t.renderBullet.call(e,n,t.bulletClass):s+="<"+t.bulletElement+' class="'+t.bulletClass+'"></'+t.bulletElement+">";i.html(s),e.pagination.bullets=i.find("."+t.bulletClass)}"fraction"===t.type&&(s=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):'<span class="'+t.currentClass+'"></span> / <span class="'+t.totalClass+'"></span>',i.html(s)),"progressbar"===t.type&&(s=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):'<span class="'+t.progressbarFillClass+'"></span>',i.html(s)),"custom"!==t.type&&e.emit("paginationRender",e.pagination.$el[0])}},"init":function(){var a=this,e=a.params.pagination;if(e.el){var t=L(e.el);0!==t.length&&(a.params.uniqueNavElements&&"string"==typeof e.el&&1<t.length&&1===a.$el.find(e.el).length&&(t=a.$el.find(e.el)),"bullets"===e.type&&e.clickable&&t.addClass(e.clickableClass),t.addClass(e.modifierClass+e.type),"bullets"===e.type&&e.dynamicBullets&&(t.addClass(""+e.modifierClass+e.type+"-dynamic"),a.pagination.dynamicBulletIndex=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&t.addClass(e.progressbarOppositeClass),e.clickable&&t.on("click","."+e.bulletClass,(function(e){e.preventDefault();var t=L(this).index()*a.params.slidesPerGroup;a.params.loop&&(t+=a.loopedSlides),a.slideTo(t)})),ee.extend(a.pagination,{"$el":t,"el":t[0]}))}},"destroy":function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var a=e.pagination.$el;a.removeClass(t.hiddenClass),a.removeClass(t.modifierClass+t.type),e.pagination.bullets&&e.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&a.off("click","."+t.bulletClass)}}},X={"setTranslate":function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var t=e.scrollbar,a=e.rtlTranslate,i=e.progress,s=t.dragSize,r=t.trackSize,n=t.$dragEl,o=t.$el,l=e.params.scrollbar,d=s,p=(r-s)*i;a?0<(p=-p)?(d=s-p,p=0):r<-p+s&&(d=r+p):p<0?(d=s+p,p=0):r<p+s&&(d=r-p),e.isHorizontal()?(te.transforms3d?n.transform("translate3d("+p+"px, 0, 0)"):n.transform("translateX("+p+"px)"),n[0].style.width=d+"px"):(te.transforms3d?n.transform("translate3d(0px, "+p+"px, 0)"):n.transform("translateY("+p+"px)"),n[0].style.height=d+"px"),l.hide&&(clearTimeout(e.scrollbar.timeout),o[0].style.opacity=1,e.scrollbar.timeout=setTimeout((function(){o[0].style.opacity=0,o.transition(400)}),1e3))}},"setTransition":function(e){this.params.scrollbar.el&&this.scrollbar.el&&this.scrollbar.$dragEl.transition(e)},"updateSize":function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var t=e.scrollbar,a=t.$dragEl,i=t.$el;a[0].style.width="",a[0].style.height="";var s,r=e.isHorizontal()?i[0].offsetWidth:i[0].offsetHeight,n=e.size/e.virtualSize,o=n*(r/e.size);s="auto"===e.params.scrollbar.dragSize?r*n:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?a[0].style.width=s+"px":a[0].style.height=s+"px",i[0].style.display=1<=n?"none":"",e.params.scrollbarHide&&(i[0].style.opacity=0),ee.extend(t,{"trackSize":r,"divider":n,"moveDivider":o,"dragSize":s}),t.$el[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](e.params.scrollbar.lockClass)}},"setDragPosition":function(e){var t,a=this,i=a.scrollbar,s=a.rtlTranslate,r=i.$el,n=i.dragSize,o=i.trackSize;t=((a.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY)-r.offset()[a.isHorizontal()?"left":"top"]-n/2)/(o-n),t=Math.max(Math.min(t,1),0),s&&(t=1-t);var l=a.minTranslate()+(a.maxTranslate()-a.minTranslate())*t;a.updateProgress(l),a.setTranslate(l),a.updateActiveIndex(),a.updateSlidesClasses()},"onDragStart":function(e){var t=this,a=t.params.scrollbar,i=t.scrollbar,s=t.$wrapperEl,r=i.$el,n=i.$dragEl;t.scrollbar.isTouched=!0,e.preventDefault(),e.stopPropagation(),s.transition(100),n.transition(100),i.setDragPosition(e),clearTimeout(t.scrollbar.dragTimeout),r.transition(0),a.hide&&r.css("opacity",1),t.emit("scrollbarDragStart",e)},"onDragMove":function(e){var t=this.scrollbar,a=this.$wrapperEl,i=t.$el,s=t.$dragEl;this.scrollbar.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),a.transition(0),i.transition(0),s.transition(0),this.emit("scrollbarDragMove",e))},"onDragEnd":function(e){var t=this,a=t.params.scrollbar,i=t.scrollbar.$el;t.scrollbar.isTouched&&(t.scrollbar.isTouched=!1,a.hide&&(clearTimeout(t.scrollbar.dragTimeout),t.scrollbar.dragTimeout=ee.nextTick((function(){i.css("opacity",0),i.transition(400)}),1e3)),t.emit("scrollbarDragEnd",e),a.snapOnRelease&&t.slideToClosest())},"enableDraggable":function(){var e=this;if(e.params.scrollbar.el){var t=e.scrollbar,a=e.touchEventsTouch,i=e.touchEventsDesktop,s=e.params,r=t.$el[0],n=!(!te.passiveListener||!s.passiveListeners)&&{"passive":!1,"capture":!1},o=!(!te.passiveListener||!s.passiveListeners)&&{"passive":!0,"capture":!1};te.touch?(r.addEventListener(a.start,e.scrollbar.onDragStart,n),r.addEventListener(a.move,e.scrollbar.onDragMove,n),r.addEventListener(a.end,e.scrollbar.onDragEnd,o)):(r.addEventListener(i.start,e.scrollbar.onDragStart,n),f.addEventListener(i.move,e.scrollbar.onDragMove,n),f.addEventListener(i.end,e.scrollbar.onDragEnd,o))}},"disableDraggable":function(){var e=this;if(e.params.scrollbar.el){var t=e.scrollbar,a=e.touchEventsTouch,i=e.touchEventsDesktop,s=e.params,r=t.$el[0],n=!(!te.passiveListener||!s.passiveListeners)&&{"passive":!1,"capture":!1},o=!(!te.passiveListener||!s.passiveListeners)&&{"passive":!0,"capture":!1};te.touch?(r.removeEventListener(a.start,e.scrollbar.onDragStart,n),r.removeEventListener(a.move,e.scrollbar.onDragMove,n),r.removeEventListener(a.end,e.scrollbar.onDragEnd,o)):(r.removeEventListener(i.start,e.scrollbar.onDragStart,n),f.removeEventListener(i.move,e.scrollbar.onDragMove,n),f.removeEventListener(i.end,e.scrollbar.onDragEnd,o))}},"init":function(){var e=this;if(e.params.scrollbar.el){var t=e.scrollbar,a=e.$el,i=e.params.scrollbar,s=L(i.el);e.params.uniqueNavElements&&"string"==typeof i.el&&1<s.length&&1===a.find(i.el).length&&(s=a.find(i.el));var r=s.find("."+e.params.scrollbar.dragClass);0===r.length&&(r=L('<div class="'+e.params.scrollbar.dragClass+'"></div>'),s.append(r)),ee.extend(t,{"$el":s,"el":s[0],"$dragEl":r,"dragEl":r[0]}),i.draggable&&t.enableDraggable()}},"destroy":function(){this.scrollbar.disableDraggable()}},Y={"setTransform":function(e,t){var a=this.rtl,i=L(e),s=a?-1:1,r=i.attr("data-swiper-parallax")||"0",n=i.attr("data-swiper-parallax-x"),o=i.attr("data-swiper-parallax-y"),l=i.attr("data-swiper-parallax-scale"),d=i.attr("data-swiper-parallax-opacity");if(n||o?(n=n||"0",o=o||"0"):this.isHorizontal()?(n=r,o="0"):(o=r,n="0"),n=0<=n.indexOf("%")?parseInt(n,10)*t*s+"%":n*t*s+"px",o=0<=o.indexOf("%")?parseInt(o,10)*t+"%":o*t+"px",null!=d){var p=d-(d-1)*(1-Math.abs(t));i[0].style.opacity=p}if(null==l)i.transform("translate3d("+n+", "+o+", 0px)");else{var c=l-(l-1)*(1-Math.abs(t));i.transform("translate3d("+n+", "+o+", 0px) scale("+c+")")}},"setTranslate":function(){var i=this,e=i.$el,t=i.slides,s=i.progress,r=i.snapGrid;e.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each((function(e,t){i.parallax.setTransform(t,s)})),t.each((function(e,t){var a=t.progress;1<i.params.slidesPerGroup&&"auto"!==i.params.slidesPerView&&(a+=Math.ceil(e/2)-s*(r.length-1)),a=Math.min(Math.max(a,-1),1),L(t).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each((function(e,t){i.parallax.setTransform(t,a)}))}))},"setTransition":function(s){void 0===s&&(s=this.params.speed),this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each((function(e,t){var a=L(t),i=parseInt(a.attr("data-swiper-parallax-duration"),10)||s;0===s&&(i=0),a.transition(i)}))}},V={"getDistanceBetweenTouches":function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,a=e.targetTouches[0].pageY,i=e.targetTouches[1].pageX,s=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(i-t,2)+Math.pow(s-a,2))},"onGestureStart":function(e){var t=this,a=t.params.zoom,i=t.zoom,s=i.gesture;if(i.fakeGestureTouched=!1,i.fakeGestureMoved=!1,!te.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;i.fakeGestureTouched=!0,s.scaleStart=V.getDistanceBetweenTouches(e)}s.$slideEl&&s.$slideEl.length||(s.$slideEl=L(e.target).closest(".swiper-slide"),0===s.$slideEl.length&&(s.$slideEl=t.slides.eq(t.activeIndex)),s.$imageEl=s.$slideEl.find("img, svg, canvas"),s.$imageWrapEl=s.$imageEl.parent("."+a.containerClass),s.maxRatio=s.$imageWrapEl.attr("data-swiper-zoom")||a.maxRatio,0!==s.$imageWrapEl.length)?(s.$imageEl.transition(0),t.zoom.isScaling=!0):s.$imageEl=void 0},"onGestureChange":function(e){var t=this.params.zoom,a=this.zoom,i=a.gesture;if(!te.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;a.fakeGestureMoved=!0,i.scaleMove=V.getDistanceBetweenTouches(e)}i.$imageEl&&0!==i.$imageEl.length&&(a.scale=te.gestures?e.scale*a.currentScale:i.scaleMove/i.scaleStart*a.currentScale,a.scale>i.maxRatio&&(a.scale=i.maxRatio-1+Math.pow(a.scale-i.maxRatio+1,.5)),a.scale<t.minRatio&&(a.scale=t.minRatio+1-Math.pow(t.minRatio-a.scale+1,.5)),i.$imageEl.transform("translate3d(0,0,0) scale("+a.scale+")"))},"onGestureEnd":function(e){var t=this.params.zoom,a=this.zoom,i=a.gesture;if(!te.gestures){if(!a.fakeGestureTouched||!a.fakeGestureMoved)return;if("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2&&!m.android)return;a.fakeGestureTouched=!1,a.fakeGestureMoved=!1}i.$imageEl&&0!==i.$imageEl.length&&(a.scale=Math.max(Math.min(a.scale,i.maxRatio),t.minRatio),i.$imageEl.transition(this.params.speed).transform("translate3d(0,0,0) scale("+a.scale+")"),a.currentScale=a.scale,a.isScaling=!1,1===a.scale&&(i.$slideEl=void 0))},"onTouchStart":function(e){var t=this.zoom,a=t.gesture,i=t.image;a.$imageEl&&0!==a.$imageEl.length&&(i.isTouched||(m.android&&e.preventDefault(),i.isTouched=!0,i.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,i.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},"onTouchMove":function(e){var t=this,a=t.zoom,i=a.gesture,s=a.image,r=a.velocity;if(i.$imageEl&&0!==i.$imageEl.length&&(t.allowClick=!1,s.isTouched&&i.$slideEl)){s.isMoved||(s.width=i.$imageEl[0].offsetWidth,s.height=i.$imageEl[0].offsetHeight,s.startX=ee.getTranslate(i.$imageWrapEl[0],"x")||0,s.startY=ee.getTranslate(i.$imageWrapEl[0],"y")||0,i.slideWidth=i.$slideEl[0].offsetWidth,i.slideHeight=i.$slideEl[0].offsetHeight,i.$imageWrapEl.transition(0),t.rtl&&(s.startX=-s.startX,s.startY=-s.startY));var n=s.width*a.scale,o=s.height*a.scale;if(!(n<i.slideWidth&&o<i.slideHeight)){if(s.minX=Math.min(i.slideWidth/2-n/2,0),s.maxX=-s.minX,s.minY=Math.min(i.slideHeight/2-o/2,0),s.maxY=-s.minY,s.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,s.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!s.isMoved&&!a.isScaling){if(t.isHorizontal()&&(Math.floor(s.minX)===Math.floor(s.startX)&&s.touchesCurrent.x<s.touchesStart.x||Math.floor(s.maxX)===Math.floor(s.startX)&&s.touchesCurrent.x>s.touchesStart.x))return void(s.isTouched=!1);if(!t.isHorizontal()&&(Math.floor(s.minY)===Math.floor(s.startY)&&s.touchesCurrent.y<s.touchesStart.y||Math.floor(s.maxY)===Math.floor(s.startY)&&s.touchesCurrent.y>s.touchesStart.y))return void(s.isTouched=!1)}e.preventDefault(),e.stopPropagation(),s.isMoved=!0,s.currentX=s.touchesCurrent.x-s.touchesStart.x+s.startX,s.currentY=s.touchesCurrent.y-s.touchesStart.y+s.startY,s.currentX<s.minX&&(s.currentX=s.minX+1-Math.pow(s.minX-s.currentX+1,.8)),s.currentX>s.maxX&&(s.currentX=s.maxX-1+Math.pow(s.currentX-s.maxX+1,.8)),s.currentY<s.minY&&(s.currentY=s.minY+1-Math.pow(s.minY-s.currentY+1,.8)),s.currentY>s.maxY&&(s.currentY=s.maxY-1+Math.pow(s.currentY-s.maxY+1,.8)),r.prevPositionX||(r.prevPositionX=s.touchesCurrent.x),r.prevPositionY||(r.prevPositionY=s.touchesCurrent.y),r.prevTime||(r.prevTime=Date.now()),r.x=(s.touchesCurrent.x-r.prevPositionX)/(Date.now()-r.prevTime)/2,r.y=(s.touchesCurrent.y-r.prevPositionY)/(Date.now()-r.prevTime)/2,Math.abs(s.touchesCurrent.x-r.prevPositionX)<2&&(r.x=0),Math.abs(s.touchesCurrent.y-r.prevPositionY)<2&&(r.y=0),r.prevPositionX=s.touchesCurrent.x,r.prevPositionY=s.touchesCurrent.y,r.prevTime=Date.now(),i.$imageWrapEl.transform("translate3d("+s.currentX+"px, "+s.currentY+"px,0)")}}},"onTouchEnd":function(){var e=this.zoom,t=e.gesture,a=e.image,i=e.velocity;if(t.$imageEl&&0!==t.$imageEl.length){if(!a.isTouched||!a.isMoved)return a.isTouched=!1,void(a.isMoved=!1);a.isTouched=!1,a.isMoved=!1
;var s=300,r=300,n=i.x*s,o=a.currentX+n,l=i.y*r,d=a.currentY+l;0!==i.x&&(s=Math.abs((o-a.currentX)/i.x)),0!==i.y&&(r=Math.abs((d-a.currentY)/i.y));var p=Math.max(s,r);a.currentX=o,a.currentY=d;var c=a.width*e.scale,u=a.height*e.scale;a.minX=Math.min(t.slideWidth/2-c/2,0),a.maxX=-a.minX,a.minY=Math.min(t.slideHeight/2-u/2,0),a.maxY=-a.minY,a.currentX=Math.max(Math.min(a.currentX,a.maxX),a.minX),a.currentY=Math.max(Math.min(a.currentY,a.maxY),a.minY),t.$imageWrapEl.transition(p).transform("translate3d("+a.currentX+"px, "+a.currentY+"px,0)")}},"onTransitionEnd":function(){var e=this.zoom,t=e.gesture;t.$slideEl&&this.previousIndex!==this.activeIndex&&(t.$imageEl.transform("translate3d(0,0,0) scale(1)"),t.$imageWrapEl.transform("translate3d(0,0,0)"),e.scale=1,e.currentScale=1,t.$slideEl=void 0,t.$imageEl=void 0,t.$imageWrapEl=void 0)},"toggle":function(e){var t=this.zoom;t.scale&&1!==t.scale?t.out():t.in(e)},"in":function(e){var t,a,i,s,r,n,o,l,d,p,c,u,h,v,f,m,g=this,b=g.zoom,w=g.params.zoom,y=b.gesture,x=b.image;y.$slideEl||(y.$slideEl=g.clickedSlide?L(g.clickedSlide):g.slides.eq(g.activeIndex),y.$imageEl=y.$slideEl.find("img, svg, canvas"),y.$imageWrapEl=y.$imageEl.parent("."+w.containerClass)),y.$imageEl&&0!==y.$imageEl.length&&(y.$slideEl.addClass(""+w.zoomedSlideClass),void 0===x.touchesStart.x&&e?(t="touchend"===e.type?e.changedTouches[0].pageX:e.pageX,a="touchend"===e.type?e.changedTouches[0].pageY:e.pageY):(t=x.touchesStart.x,a=x.touchesStart.y),b.scale=y.$imageWrapEl.attr("data-swiper-zoom")||w.maxRatio,b.currentScale=y.$imageWrapEl.attr("data-swiper-zoom")||w.maxRatio,e?(f=y.$slideEl[0].offsetWidth,m=y.$slideEl[0].offsetHeight,i=y.$slideEl.offset().left+f/2-t,s=y.$slideEl.offset().top+m/2-a,o=y.$imageEl[0].offsetWidth,l=y.$imageEl[0].offsetHeight,d=o*b.scale,p=l*b.scale,h=-(c=Math.min(f/2-d/2,0)),v=-(u=Math.min(m/2-p/2,0)),(r=i*b.scale)<c&&(r=c),h<r&&(r=h),(n=s*b.scale)<u&&(n=u),v<n&&(n=v)):n=r=0,y.$imageWrapEl.transition(300).transform("translate3d("+r+"px, "+n+"px,0)"),y.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+b.scale+")"))},"out":function(){var e=this,t=e.zoom,a=e.params.zoom,i=t.gesture;i.$slideEl||(i.$slideEl=e.clickedSlide?L(e.clickedSlide):e.slides.eq(e.activeIndex),i.$imageEl=i.$slideEl.find("img, svg, canvas"),i.$imageWrapEl=i.$imageEl.parent("."+a.containerClass)),i.$imageEl&&0!==i.$imageEl.length&&(t.scale=1,t.currentScale=1,i.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),i.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),i.$slideEl.removeClass(""+a.zoomedSlideClass),i.$slideEl=void 0)},"enable":function(){var e=this,t=e.zoom;if(!t.enabled){t.enabled=!0;var a=!("touchstart"!==e.touchEvents.start||!te.passiveListener||!e.params.passiveListeners)&&{"passive":!0,"capture":!1};te.gestures?(e.$wrapperEl.on("gesturestart",".swiper-slide",t.onGestureStart,a),e.$wrapperEl.on("gesturechange",".swiper-slide",t.onGestureChange,a),e.$wrapperEl.on("gestureend",".swiper-slide",t.onGestureEnd,a)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.on(e.touchEvents.start,".swiper-slide",t.onGestureStart,a),e.$wrapperEl.on(e.touchEvents.move,".swiper-slide",t.onGestureChange,a),e.$wrapperEl.on(e.touchEvents.end,".swiper-slide",t.onGestureEnd,a)),e.$wrapperEl.on(e.touchEvents.move,"."+e.params.zoom.containerClass,t.onTouchMove)}},"disable":function(){var e=this,t=e.zoom;if(t.enabled){e.zoom.enabled=!1;var a=!("touchstart"!==e.touchEvents.start||!te.passiveListener||!e.params.passiveListeners)&&{"passive":!0,"capture":!1};te.gestures?(e.$wrapperEl.off("gesturestart",".swiper-slide",t.onGestureStart,a),e.$wrapperEl.off("gesturechange",".swiper-slide",t.onGestureChange,a),e.$wrapperEl.off("gestureend",".swiper-slide",t.onGestureEnd,a)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.off(e.touchEvents.start,".swiper-slide",t.onGestureStart,a),e.$wrapperEl.off(e.touchEvents.move,".swiper-slide",t.onGestureChange,a),e.$wrapperEl.off(e.touchEvents.end,".swiper-slide",t.onGestureEnd,a)),e.$wrapperEl.off(e.touchEvents.move,"."+e.params.zoom.containerClass,t.onTouchMove)}}},F={"loadInSlide":function(e,l){void 0===l&&(l=!0);var d=this,p=d.params.lazy;if(void 0!==e&&0!==d.slides.length){var c=d.virtual&&d.params.virtual.enabled?d.$wrapperEl.children("."+d.params.slideClass+'[data-swiper-slide-index="'+e+'"]'):d.slides.eq(e),t=c.find("."+p.elementClass+":not(."+p.loadedClass+"):not(."+p.loadingClass+")");!c.hasClass(p.elementClass)||c.hasClass(p.loadedClass)||c.hasClass(p.loadingClass)||(t=t.add(c[0])),0!==t.length&&t.each((function(e,t){var i=L(t);i.addClass(p.loadingClass);var s=i.attr("data-background"),r=i.attr("data-src"),n=i.attr("data-srcset"),o=i.attr("data-sizes");d.loadImage(i[0],r||s,n,o,!1,(function(){if(null!=d&&d&&(!d||d.params)&&!d.destroyed){if(s?(i.css("background-image",'url("'+s+'")'),i.removeAttr("data-background")):(n&&(i.attr("srcset",n),i.removeAttr("data-srcset")),o&&(i.attr("sizes",o),i.removeAttr("data-sizes")),r&&(i.attr("src",r),i.removeAttr("data-src"))),i.addClass(p.loadedClass).removeClass(p.loadingClass),c.find("."+p.preloaderClass).remove(),d.params.loop&&l){var e=c.attr("data-swiper-slide-index");if(c.hasClass(d.params.slideDuplicateClass)){var t=d.$wrapperEl.children('[data-swiper-slide-index="'+e+'"]:not(.'+d.params.slideDuplicateClass+")");d.lazy.loadInSlide(t.index(),!1)}else{var a=d.$wrapperEl.children("."+d.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');d.lazy.loadInSlide(a.index(),!1)}}d.emit("lazyImageReady",c[0],i[0])}})),d.emit("lazyImageLoad",c[0],i[0])}))}},"load":function(){function l(e){if(r){if(t.children("."+a.slideClass+'[data-swiper-slide-index="'+e+'"]').length)return!0}else if(s[e])return!0;return!1}function d(e){return r?L(e).attr("data-swiper-slide-index"):L(e).index()}var i=this,t=i.$wrapperEl,a=i.params,s=i.slides,e=i.activeIndex,r=i.virtual&&a.virtual.enabled,n=a.lazy,o=a.slidesPerView;if("auto"===o&&(o=0),i.lazy.initialImageLoaded||(i.lazy.initialImageLoaded=!0),i.params.watchSlidesVisibility)t.children("."+a.slideVisibleClass).each((function(e,t){var a=r?L(t).attr("data-swiper-slide-index"):L(t).index();i.lazy.loadInSlide(a)}));else if(1<o)for(var p=e;p<e+o;p+=1)l(p)&&i.lazy.loadInSlide(p);else i.lazy.loadInSlide(e);if(n.loadPrevNext)if(1<o||n.loadPrevNextAmount&&1<n.loadPrevNextAmount){for(var c=n.loadPrevNextAmount,u=o,h=Math.min(e+u+Math.max(c,u),s.length),v=Math.max(e-Math.max(u,c),0),f=e+o;f<h;f+=1)l(f)&&i.lazy.loadInSlide(f);for(var m=v;m<e;m+=1)l(m)&&i.lazy.loadInSlide(m)}else{var g=t.children("."+a.slideNextClass);0<g.length&&i.lazy.loadInSlide(d(g));var b=t.children("."+a.slidePrevClass);0<b.length&&i.lazy.loadInSlide(d(b))}}},R={"LinearSpline":function(e,t){var a,i,s,r,n,o=function(e,t){for(i=-1,a=e.length;1<a-i;)e[s=a+i>>1]<=t?i=s:a=s;return a};return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(n=o(this.x,e),r=n-1,(e-this.x[r])*(this.y[n]-this.y[r])/(this.x[n]-this.x[r])+this.y[r]):0},this},"getInterpolateFunction":function(e){var t=this;t.controller.spline||(t.controller.spline=t.params.loop?new R.LinearSpline(t.slidesGrid,e.slidesGrid):new R.LinearSpline(t.snapGrid,e.snapGrid))},"setTranslate":function(e,t){function n(e){var t=s.rtlTranslate?-s.translate:s.translate;"slide"===s.params.controller.by&&(s.controller.getInterpolateFunction(e),i=-s.controller.spline.interpolate(-t)),i&&"container"!==s.params.controller.by||(a=(e.maxTranslate()-e.minTranslate())/(s.maxTranslate()-s.minTranslate()),i=(t-s.minTranslate())*a+e.minTranslate()),s.params.controller.inverse&&(i=e.maxTranslate()-i),e.updateProgress(i),e.setTranslate(i,s),e.updateActiveIndex(),e.updateSlidesClasses()}var a,i,s=this,r=s.controller.control;if(Array.isArray(r))for(var o=0;o<r.length;o+=1)r[o]!==t&&r[o]instanceof S&&n(r[o]);else r instanceof S&&t!==r&&n(r)},"setTransition":function(t,e){function r(e){e.setTransition(t,i),0!==t&&(e.transitionStart(),e.params.autoHeight&&ee.nextTick((function(){e.updateAutoHeight()})),e.$wrapperEl.transitionEnd((function(){s&&(e.params.loop&&"slide"===i.params.controller.by&&e.loopFix(),e.transitionEnd())})))}var a,i=this,s=i.controller.control;if(Array.isArray(s))for(a=0;a<s.length;a+=1)s[a]!==e&&s[a]instanceof S&&r(s[a]);else s instanceof S&&e!==s&&r(s)}},q={"makeElFocusable":function(e){return e.attr("tabIndex","0"),e},"addElRole":function(e,t){return e.attr("role",t),e},"addElLabel":function(e,t){return e.attr("aria-label",t),e},"disableEl":function(e){return e.attr("aria-disabled",!0),e},"enableEl":function(e){return e.attr("aria-disabled",!1),e},"onEnterKey":function(e){var t=this,a=t.params.a11y;if(13===e.keyCode){var i=L(e.target);t.navigation&&t.navigation.$nextEl&&i.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?t.a11y.notify(a.lastSlideMessage):t.a11y.notify(a.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&i.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?t.a11y.notify(a.firstSlideMessage):t.a11y.notify(a.prevSlideMessage)),t.pagination&&i.is("."+t.params.pagination.bulletClass)&&i[0].click()}},"notify":function(e){var t=this.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},"updateNavigation":function(){var e=this;if(!e.params.loop){var t=e.navigation,a=t.$nextEl,i=t.$prevEl;i&&0<i.length&&(e.isBeginning?e.a11y.disableEl(i):e.a11y.enableEl(i)),a&&0<a.length&&(e.isEnd?e.a11y.disableEl(a):e.a11y.enableEl(a))}},"updatePagination":function(){var i=this,s=i.params.a11y;i.pagination&&i.params.pagination.clickable&&i.pagination.bullets&&i.pagination.bullets.length&&i.pagination.bullets.each((function(e,t){var a=L(t);i.a11y.makeElFocusable(a),i.a11y.addElRole(a,"button"),i.a11y.addElLabel(a,s.paginationBulletMessage.replace(/{{index}}/,a.index()+1))}))},"init":function(){var e=this;e.$el.append(e.a11y.liveRegion);var t,a,i=e.params.a11y;e.navigation&&e.navigation.$nextEl&&(t=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(a=e.navigation.$prevEl),t&&(e.a11y.makeElFocusable(t),e.a11y.addElRole(t,"button"),e.a11y.addElLabel(t,i.nextSlideMessage),t.on("keydown",e.a11y.onEnterKey)),a&&(e.a11y.makeElFocusable(a),e.a11y.addElRole(a,"button"),e.a11y.addElLabel(a,i.prevSlideMessage),a.on("keydown",e.a11y.onEnterKey)),e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.$el.on("keydown","."+e.params.pagination.bulletClass,e.a11y.onEnterKey)},"destroy":function(){var e,t,a=this;a.a11y.liveRegion&&0<a.a11y.liveRegion.length&&a.a11y.liveRegion.remove(),a.navigation&&a.navigation.$nextEl&&(e=a.navigation.$nextEl),a.navigation&&a.navigation.$prevEl&&(t=a.navigation.$prevEl),e&&e.off("keydown",a.a11y.onEnterKey),t&&t.off("keydown",a.a11y.onEnterKey),a.pagination&&a.params.pagination.clickable&&a.pagination.bullets&&a.pagination.bullets.length&&a.pagination.$el.off("keydown","."+a.params.pagination.bulletClass,a.a11y.onEnterKey)}},W={"init":function(){var e=this;if(e.params.history){if(!J.history||!J.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);var t=e.history;t.initialized=!0,t.paths=W.getPathValues(),(t.paths.key||t.paths.value)&&(t.scrollToSlide(0,t.paths.value,e.params.runCallbacksOnInit),e.params.history.replaceState||J.addEventListener("popstate",e.history.setHistoryPopState))}},"destroy":function(){this.params.history.replaceState||J.removeEventListener("popstate",this.history.setHistoryPopState)},"setHistoryPopState":function(){this.history.paths=W.getPathValues(),this.history.scrollToSlide(this.params.speed,this.history.paths.value,!1)},"getPathValues":function(){var e=J.location.pathname.slice(1).split("/").filter((function(e){return""!==e})),t=e.length;return{"key":e[t-2],"value":e[t-1]}},"setHistory":function(e,t){if(this.history.initialized&&this.params.history.enabled){var a=this.slides.eq(t),i=W.slugify(a.attr("data-history"));J.location.pathname.includes(e)||(i=e+"/"+i);var s=J.history.state;s&&s.value===i||(this.params.history.replaceState?J.history.replaceState({"value":i},null,i):J.history.pushState({"value":i},null,i))}},"slugify":function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},"scrollToSlide":function(e,t,a){var i=this;if(t)for(var s=0,r=i.slides.length;s<r;s+=1){var n=i.slides.eq(s);if(W.slugify(n.attr("data-history"))===t&&!n.hasClass(i.params.slideDuplicateClass)){var o=n.index();i.slideTo(o,e,a)}}else i.slideTo(0,e,a)}},j={"onHashCange":function(){var e=this,t=f.location.hash.replace("#","");if(t!==e.slides.eq(e.activeIndex).attr("data-hash")){var a=e.$wrapperEl.children("."+e.params.slideClass+'[data-hash="'+t+'"]').index();if(void 0===a)return;e.slideTo(a)}},"setHash":function(){var e=this;if(e.hashNavigation.initialized&&e.params.hashNavigation.enabled)if(e.params.hashNavigation.replaceState&&J.history&&J.history.replaceState)J.history.replaceState(null,null,"#"+e.slides.eq(e.activeIndex).attr("data-hash")||"");else{var t=e.slides.eq(e.activeIndex),a=t.attr("data-hash")||t.attr("data-history");f.location.hash=a||""}},"init":function(){var e=this;if(!(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)){e.hashNavigation.initialized=!0;var t=f.location.hash.replace("#","");if(t)for(var a=0,i=e.slides.length;a<i;a+=1){var s=e.slides.eq(a);if((s.attr("data-hash")||s.attr("data-history"))===t&&!s.hasClass(e.params.slideDuplicateClass)){var r=s.index();e.slideTo(r,0,e.params.runCallbacksOnInit,!0)}}e.params.hashNavigation.watchState&&L(J).on("hashchange",e.hashNavigation.onHashCange)}},"destroy":function(){this.params.hashNavigation.watchState&&L(J).off("hashchange",this.hashNavigation.onHashCange)}},U={"run":function(){var e=this,t=e.slides.eq(e.activeIndex),a=e.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(a=t.attr("data-swiper-autoplay")||e.params.autoplay.delay),e.autoplay.timeout=ee.nextTick((function(){e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(e.slideTo(e.slides.length-1,e.params.speed,!0,!0),e.emit("autoplay")):(e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.params.loop?(e.loopFix(),e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(e.slideTo(0,e.params.speed,!0,!0),e.emit("autoplay")):(e.slideNext(e.params.speed,!0,!0),e.emit("autoplay"))}),a)},"start":function(){var e=this;return void 0===e.autoplay.timeout&&!e.autoplay.running&&(e.autoplay.running=!0,e.emit("autoplayStart"),e.autoplay.run(),!0)},"stop":function(){var e=this;return!!e.autoplay.running&&void 0!==e.autoplay.timeout&&(e.autoplay.timeout&&(clearTimeout(e.autoplay.timeout),e.autoplay.timeout=void 0),e.autoplay.running=!1,e.emit("autoplayStop"),!0)},"pause":function(e){var t=this;t.autoplay.running&&(t.autoplay.paused||(t.autoplay.timeout&&clearTimeout(t.autoplay.timeout),t.autoplay.paused=!0,0!==e&&t.params.autoplay.waitForTransition?(t.$wrapperEl[0].addEventListener("transitionend",t.autoplay.onTransitionEnd),t.$wrapperEl[0].addEventListener("webkitTransitionEnd",t.autoplay.onTransitionEnd)):(t.autoplay.paused=!1,t.autoplay.run())))}},K={"setTranslate":function(){for(var e=this,t=e.slides,a=0;a<t.length;a+=1){var i=e.slides.eq(a),s=-i[0].swiperSlideOffset;e.params.virtualTranslate||(s-=e.translate);var r=0;e.isHorizontal()||(r=s,s=0);var n=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(i[0].progress),0):1+Math.min(Math.max(i[0].progress,-1),0);i.css({"opacity":n}).transform("translate3d("+s+"px, "+r+"px, 0px)")}},"setTransition":function(e){var a=this,t=a.slides,i=a.$wrapperEl;if(t.transition(e),a.params.virtualTranslate&&0!==e){var s=!1;t.transitionEnd((function(){if(!s&&a&&!a.destroyed){s=!0,a.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],t=0;t<e.length;t+=1)i.trigger(e[t])}}))}}},_={"setTranslate":function(){var e,t=this,a=t.$el,i=t.$wrapperEl,s=t.slides,r=t.width,n=t.height,o=t.rtlTranslate,l=t.size,d=t.params.cubeEffect,p=t.isHorizontal(),c=t.virtual&&t.params.virtual.enabled,u=0;d.shadow&&(p?(0===(e=i.find(".swiper-cube-shadow")).length&&(e=L('<div class="swiper-cube-shadow"></div>'),i.append(e)),e.css({"height":r+"px"})):0===(e=a.find(".swiper-cube-shadow")).length&&(e=L('<div class="swiper-cube-shadow"></div>'),a.append(e)));for(var h=0;h<s.length;h+=1){var v=s.eq(h),f=h;c&&(f=parseInt(v.attr("data-swiper-slide-index"),10));var m=90*f,g=Math.floor(m/360);o&&(m=-m,g=Math.floor(-m/360));var b=Math.max(Math.min(v[0].progress,1),-1),w=0,y=0,x=0;f%4==0?(w=4*-g*l,x=0):(f-1)%4==0?(w=0,x=4*-g*l):(f-2)%4==0?(w=l+4*g*l,x=l):(f-3)%4==0&&(w=-l,x=3*l+4*l*g),o&&(w=-w),p||(y=w,w=0);var T="rotateX("+(p?0:-m)+"deg) rotateY("+(p?m:0)+"deg) translate3d("+w+"px, "+y+"px, "+x+"px)";if(b<=1&&-1<b&&(u=90*f+90*b,o&&(u=90*-f-90*b)),v.transform(T),d.slideShadows){var E=p?v.find(".swiper-slide-shadow-left"):v.find(".swiper-slide-shadow-top"),S=p?v.find(".swiper-slide-shadow-right"):v.find(".swiper-slide-shadow-bottom");0===E.length&&(E=L('<div class="swiper-slide-shadow-'+(p?"left":"top")+'"></div>'),v.append(E)),0===S.length&&(S=L('<div class="swiper-slide-shadow-'+(p?"right":"bottom")+'"></div>'),v.append(S)),E.length&&(E[0].style.opacity=Math.max(-b,0)),S.length&&(S[0].style.opacity=Math.max(b,0))}}if(i.css({"-webkit-transform-origin":"50% 50% -"+l/2+"px","-moz-transform-origin":"50% 50% -"+l/2+"px","-ms-transform-origin":"50% 50% -"+l/2+"px","transform-origin":"50% 50% -"+l/2+"px"}),d.shadow)if(p)e.transform("translate3d(0px, "+(r/2+d.shadowOffset)+"px, "+-r/2+"px) rotateX(90deg) rotateZ(0deg) scale("+d.shadowScale+")");else{var C=Math.abs(u)-90*Math.floor(Math.abs(u)/90),M=1.5-(Math.sin(2*C*Math.PI/360)/2+Math.cos(2*C*Math.PI/360)/2),k=d.shadowScale,P=d.shadowScale/M,z=d.shadowOffset;e.transform("scale3d("+k+", 1, "+P+") translate3d(0px, "+(n/2+z)+"px, "+-n/2/P+"px) rotateX(-90deg)")}var $=I.isSafari||I.isUiWebView?-l/2:0;i.transform("translate3d(0px,0,"+$+"px) rotateX("+(t.isHorizontal()?0:u)+"deg) rotateY("+(t.isHorizontal()?-u:0)+"deg)")},"setTransition":function(e){var t=this.$el;this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),this.params.cubeEffect.shadow&&!this.isHorizontal()&&t.find(".swiper-cube-shadow").transition(e)}},Z={"setTranslate":function(){for(var e=this,t=e.slides,a=e.rtlTranslate,i=0;i<t.length;i+=1){var s=t.eq(i),r=s[0].progress;e.params.flipEffect.limitRotation&&(r=Math.max(Math.min(s[0].progress,1),-1));var n=-180*r,o=0,l=-s[0].swiperSlideOffset,d=0;if(e.isHorizontal()?a&&(n=-n):(d=l,o=-n,n=l=0),s[0].style.zIndex=-Math.abs(Math.round(r))+t.length,e.params.flipEffect.slideShadows){var p=e.isHorizontal()?s.find(".swiper-slide-shadow-left"):s.find(".swiper-slide-shadow-top"),c=e.isHorizontal()?s.find(".swiper-slide-shadow-right"):s.find(".swiper-slide-shadow-bottom");0===p.length&&(p=L('<div class="swiper-slide-shadow-'+(e.isHorizontal()?"left":"top")+'"></div>'),s.append(p)),0===c.length&&(c=L('<div class="swiper-slide-shadow-'+(e.isHorizontal()?"right":"bottom")+'"></div>'),s.append(c)),p.length&&(p[0].style.opacity=Math.max(-r,0)),c.length&&(c[0].style.opacity=Math.max(r,0))}s.transform("translate3d("+l+"px, "+d+"px, 0px) rotateX("+o+"deg) rotateY("+n+"deg)")}},"setTransition":function(e){var a=this,t=a.slides,i=a.activeIndex,s=a.$wrapperEl;if(t.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),a.params.virtualTranslate&&0!==e){var r=!1;t.eq(i).transitionEnd((function(){if(!r&&a&&!a.destroyed){r=!0,a.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],t=0;t<e.length;t+=1)s.trigger(e[t])}}))}}},Q={"setTranslate":function(){for(var e=this,t=e.width,a=e.height,i=e.slides,s=e.$wrapperEl,r=e.slidesSizesGrid,n=e.params.coverflowEffect,o=e.isHorizontal(),l=e.translate,d=o?t/2-l:a/2-l,p=o?n.rotate:-n.rotate,c=n.depth,u=0,h=i.length;u<h;u+=1){var v=i.eq(u),f=r[u],m=(d-v[0].swiperSlideOffset-f/2)/f*n.modifier,g=o?p*m:0,b=o?0:p*m,w=-c*Math.abs(m),y=o?0:n.stretch*m,x=o?n.stretch*m:0;Math.abs(x)<.001&&(x=0),Math.abs(y)<.001&&(y=0),Math.abs(w)<.001&&(w=0),Math.abs(g)<.001&&(g=0),Math.abs(b)<.001&&(b=0);var T="translate3d("+x+"px,"+y+"px,"+w+"px)  rotateX("+b+"deg) rotateY("+g+"deg)";if(v.transform(T),v[0].style.zIndex=1-Math.abs(Math.round(m)),n.slideShadows){var E=o?v.find(".swiper-slide-shadow-left"):v.find(".swiper-slide-shadow-top"),S=o?v.find(".swiper-slide-shadow-right"):v.find(".swiper-slide-shadow-bottom");0===E.length&&(E=L('<div class="swiper-slide-shadow-'+(o?"left":"top")+'"></div>'),v.append(E)),0===S.length&&(S=L('<div class="swiper-slide-shadow-'+(o?"right":"bottom")+'"></div>'),v.append(S)),E.length&&(E[0].style.opacity=0<m?m:0),S.length&&(S[0].style.opacity=0<-m?-m:0)}}(te.pointerEvents||te.prefixedPointerEvents)&&(s[0].style.perspectiveOrigin=d+"px 50%")},"setTransition":function(e){this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}},ae={"init":function(){var e=this,t=e.params.thumbs,a=e.constructor;t.swiper instanceof a?(e.thumbs.swiper=t.swiper,ee.extend(e.thumbs.swiper.originalParams,{"watchSlidesProgress":!0,"slideToClickedSlide":!1}),ee.extend(e.thumbs.swiper.params,{"watchSlidesProgress":!0,"slideToClickedSlide":!1})):ee.isObject(t.swiper)&&(e.thumbs.swiper=new a(ee.extend({},t.swiper,{"watchSlidesVisibility":!0,"watchSlidesProgress":!0,"slideToClickedSlide":!1})),e.thumbs.swiperCreated=!0),e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",e.thumbs.onThumbClick)},"onThumbClick":function(){var e=this,t=e.thumbs.swiper;if(t){var a=t.clickedIndex,i=t.clickedSlide;if(!(i&&L(i).hasClass(e.params.thumbs.slideThumbActiveClass)||null==a)){var s;if(s=t.params.loop?parseInt(L(t.clickedSlide).attr("data-swiper-slide-index"),10):a,e.params.loop){var r=e.activeIndex;e.slides.eq(r).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,r=e.activeIndex);var n=e.slides.eq(r).prevAll('[data-swiper-slide-index="'+s+'"]').eq(0).index(),o=e.slides.eq(r).nextAll('[data-swiper-slide-index="'+s+'"]').eq(0).index();s=void 0===n?o:void 0===o?n:o-r<r-n?o:n}e.slideTo(s)}}},"update":function(e){var t=this,a=t.thumbs.swiper;if(a){var i="auto"===a.params.slidesPerView?a.slidesPerViewDynamic():a.params.slidesPerView;if(t.realIndex!==a.realIndex){var s,r=a.activeIndex;if(a.params.loop){a.slides.eq(r).hasClass(a.params.slideDuplicateClass)&&(a.loopFix(),a._clientLeft=a.$wrapperEl[0].clientLeft,r=a.activeIndex);var n=a.slides.eq(r).prevAll('[data-swiper-slide-index="'+t.realIndex+'"]').eq(0).index(),o=a.slides.eq(r).nextAll('[data-swiper-slide-index="'+t.realIndex+'"]').eq(0).index();s=void 0===n?o:void 0===o?n:o-r==r-n?r:o-r<r-n?o:n}else s=t.realIndex;a.visibleSlidesIndexes.indexOf(s)<0&&(a.params.centeredSlides?s=r<s?s-Math.floor(i/2)+1:s+Math.floor(i/2)-1:r<s&&(s=s-i+1),a.slideTo(s,e?0:void 0))}var l=1,d=t.params.thumbs.slideThumbActiveClass;if(1<t.params.slidesPerView&&!t.params.centeredSlides&&(l=t.params.slidesPerView),a.slides.removeClass(d),a.params.loop)for(var p=0;p<l;p+=1)a.$wrapperEl.children('[data-swiper-slide-index="'+(t.realIndex+p)+'"]').addClass(d);else for(var c=0;c<l;c+=1)a.slides.eq(t.realIndex+c).addClass(d)}}},ie=[C,M,k,P,$,O,N,{"name":"mousewheel","params":{"mousewheel":{"enabled":!1,"releaseOnEdges":!1,"invert":!1,"forceToAxis":!1,"sensitivity":1,"eventsTarged":"container"}},"create":function(){var e=this;ee.extend(e,{"mousewheel":{"enabled":!1,"enable":H.enable.bind(e),"disable":H.disable.bind(e),"handle":H.handle.bind(e),"handleMouseEnter":H.handleMouseEnter.bind(e),"handleMouseLeave":H.handleMouseLeave.bind(e),"lastScrollTime":ee.now()}})},"on":{"init":function(){this.params.mousewheel.enabled&&this.mousewheel.enable()},"destroy":function(){this.mousewheel.enabled&&this.mousewheel.disable()}}},{"name":"navigation","params":{"navigation":{"nextEl":null,"prevEl":null,"hideOnClick":!1,"disabledClass":"swiper-button-disabled","hiddenClass":"swiper-button-hidden","lockClass":"swiper-button-lock"}},"create":function(){var e=this;ee.extend(e,{"navigation":{"init":G.init.bind(e),"update":G.update.bind(e),"destroy":G.destroy.bind(e),"onNextClick":G.onNextClick.bind(e),"onPrevClick":G.onPrevClick.bind(e)}})},"on":{"init":function(){this.navigation.init(),this.navigation.update()},"toEdge":function(){this.navigation.update()},"fromEdge":function(){this.navigation.update()},"destroy":function(){this.navigation.destroy()},"click":function(e){var t=this.navigation,a=t.$nextEl,i=t.$prevEl;!this.params.navigation.hideOnClick||L(e.target).is(i)||L(e.target).is(a)||(a&&a.toggleClass(this.params.navigation.hiddenClass),i&&i.toggleClass(this.params.navigation.hiddenClass))}}},{"name":"pagination","params":{"pagination":{"el":null,"bulletElement":"span","clickable":!1,"hideOnClick":!1,"renderBullet":null,"renderProgressbar":null,"renderFraction":null,"renderCustom":null,"progressbarOpposite":!1,"type":"bullets","dynamicBullets":!1,"dynamicMainBullets":1,"formatFractionCurrent":function(e){return e},"formatFractionTotal":function(e){return e},"bulletClass":"swiper-pagination-bullet","bulletActiveClass":"swiper-pagination-bullet-active","modifierClass":"swiper-pagination-","currentClass":"swiper-pagination-current","totalClass":"swiper-pagination-total","hiddenClass":"swiper-pagination-hidden","progressbarFillClass":"swiper-pagination-progressbar-fill","progressbarOppositeClass":"swiper-pagination-progressbar-opposite","clickableClass":"swiper-pagination-clickable","lockClass":"swiper-pagination-lock"}},"create":function(){var e=this;ee.extend(e,{"pagination":{"init":B.init.bind(e),"render":B.render.bind(e),"update":B.update.bind(e),"destroy":B.destroy.bind(e),"dynamicBulletIndex":0}})},"on":{"init":function(){this.pagination.init(),this.pagination.render(),this.pagination.update()},"activeIndexChange":function(){(this.params.loop||void 0===this.snapIndex)&&this.pagination.update()},"snapIndexChange":function(){this.params.loop||this.pagination.update()},"slidesLengthChange":function(){this.params.loop&&(this.pagination.render(),this.pagination.update())},"snapGridLengthChange":function(){this.params.loop||(this.pagination.render(),this.pagination.update())},"destroy":function(){this.pagination.destroy()},"click":function(e){var t=this;t.params.pagination.el&&t.params.pagination.hideOnClick&&0<t.pagination.$el.length&&!L(e.target).hasClass(t.params.pagination.bulletClass)&&t.pagination.$el.toggleClass(t.params.pagination.hiddenClass)}}},{"name":"scrollbar","params":{"scrollbar":{"el":null,"dragSize":"auto","hide":!1,"draggable":!1,"snapOnRelease":!0,"lockClass":"swiper-scrollbar-lock","dragClass":"swiper-scrollbar-drag"}},"create":function(){var e=this;ee.extend(e,{"scrollbar":{"init":X.init.bind(e),"destroy":X.destroy.bind(e),"updateSize":X.updateSize.bind(e),"setTranslate":X.setTranslate.bind(e),"setTransition":X.setTransition.bind(e),"enableDraggable":X.enableDraggable.bind(e),"disableDraggable":X.disableDraggable.bind(e),"setDragPosition":X.setDragPosition.bind(e),"onDragStart":X.onDragStart.bind(e),"onDragMove":X.onDragMove.bind(e),"onDragEnd":X.onDragEnd.bind(e),"isTouched":!1,"timeout":null,"dragTimeout":null}})},"on":{"init":function(){this.scrollbar.init(),this.scrollbar.updateSize(),this.scrollbar.setTranslate()},"update":function(){this.scrollbar.updateSize()},"resize":function(){this.scrollbar.updateSize()},"observerUpdate":function(){this.scrollbar.updateSize()},"setTranslate":function(){this.scrollbar.setTranslate()},"setTransition":function(e){this.scrollbar.setTransition(e)},"destroy":function(){this.scrollbar.destroy()}}},{"name":"parallax","params":{"parallax":{"enabled":!1}},"create":function(){ee.extend(this,{"parallax":{"setTransform":Y.setTransform.bind(this),"setTranslate":Y.setTranslate.bind(this),"setTransition":Y.setTransition.bind(this)}})},"on":{"beforeInit":function(){this.params.parallax.enabled&&(this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},"init":function(){this.params.parallax&&this.parallax.setTranslate()},"setTranslate":function(){this.params.parallax&&this.parallax.setTranslate()},"setTransition":function(e){this.params.parallax&&this.parallax.setTransition(e)}}},{"name":"zoom","params":{"zoom":{"enabled":!1,"maxRatio":3,"minRatio":1,"toggle":!0,"containerClass":"swiper-zoom-container","zoomedSlideClass":"swiper-slide-zoomed"}},"create":function(){var i=this,t={"enabled":!1,"scale":1,"currentScale":1,"isScaling":!1,"gesture":{"$slideEl":void 0,"slideWidth":void 0,"slideHeight":void 0,"$imageEl":void 0,"$imageWrapEl":void 0,"maxRatio":3},"image":{"isTouched":void 0,"isMoved":void 0,"currentX":void 0,"currentY":void 0,"minX":void 0,"minY":void 0,"maxX":void 0,"maxY":void 0,"width":void 0,"height":void 0,"startX":void 0,"startY":void 0,"touchesStart":{},"touchesCurrent":{}},"velocity":{"x":void 0,"y":void 0,"prevPositionX":void 0,"prevPositionY":void 0,"prevTime":void 0}};"onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out".split(" ").forEach((function(e){t[e]=V[e].bind(i)})),ee.extend(i,{"zoom":t});var s=1;Object.defineProperty(i.zoom,"scale",{"get":function(){return s},"set":function(e){if(s!==e){var t=i.zoom.gesture.$imageEl?i.zoom.gesture.$imageEl[0]:void 0,a=i.zoom.gesture.$slideEl?i.zoom.gesture.$slideEl[0]:void 0;i.emit("zoomChange",e,t,a)}s=e}})},"on":{"init":function(){this.params.zoom.enabled&&this.zoom.enable()},"destroy":function(){this.zoom.disable()},"touchStart":function(e){this.zoom.enabled&&this.zoom.onTouchStart(e)},"touchEnd":function(e){this.zoom.enabled&&this.zoom.onTouchEnd(e)},"doubleTap":function(e){this.params.zoom.enabled&&this.zoom.enabled&&this.params.zoom.toggle&&this.zoom.toggle(e)},"transitionEnd":function(){this.zoom.enabled&&this.params.zoom.enabled&&this.zoom.onTransitionEnd()}}},{"name":"lazy","params":{"lazy":{"enabled":!1,"loadPrevNext":!1,"loadPrevNextAmount":1,"loadOnTransitionStart":!1,"elementClass":"swiper-lazy","loadingClass":"swiper-lazy-loading","loadedClass":"swiper-lazy-loaded","preloaderClass":"swiper-lazy-preloader"}},"create":function(){ee.extend(this,{"lazy":{"initialImageLoaded":!1,"load":F.load.bind(this),"loadInSlide":F.loadInSlide.bind(this)}})},"on":{"beforeInit":function(){this.params.lazy.enabled&&this.params.preloadImages&&(this.params.preloadImages=!1)},"init":function(){this.params.lazy.enabled&&!this.params.loop&&0===this.params.initialSlide&&this.lazy.load()},"scroll":function(){this.params.freeMode&&!this.params.freeModeSticky&&this.lazy.load()},"resize":function(){this.params.lazy.enabled&&this.lazy.load()},"scrollbarDragMove":function(){this.params.lazy.enabled&&this.lazy.load()},"transitionStart":function(){var e=this;e.params.lazy.enabled&&(e.params.lazy.loadOnTransitionStart||!e.params.lazy.loadOnTransitionStart&&!e.lazy.initialImageLoaded)&&e.lazy.load()},"transitionEnd":function(){this.params.lazy.enabled&&!this.params.lazy.loadOnTransitionStart&&this.lazy.load()}}},{"name":"controller","params":{"controller":{"control":void 0,"inverse":!1,"by":"slide"}},"create":function(){var e=this;ee.extend(e,{"controller":{"control":e.params.controller.control,"getInterpolateFunction":R.getInterpolateFunction.bind(e),"setTranslate":R.setTranslate.bind(e),"setTransition":R.setTransition.bind(e)}})},"on":{"update":function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},"resize":function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},"observerUpdate":function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},"setTranslate":function(e,t){this.controller.control&&this.controller.setTranslate(e,t)},"setTransition":function(e,t){this.controller.control&&this.controller.setTransition(e,t)}}},{"name":"a11y","params":{"a11y":{"enabled":!0,"notificationClass":"swiper-notification","prevSlideMessage":"Previous slide","nextSlideMessage":"Next slide","firstSlideMessage":"This is the first slide","lastSlideMessage":"This is the last slide","paginationBulletMessage":"Go to slide {{index}}"}},"create":function(){var t=this;ee.extend(t,{"a11y":{"liveRegion":L('<span class="'+t.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')}}),
Object.keys(q).forEach((function(e){t.a11y[e]=q[e].bind(t)}))},"on":{"init":function(){this.params.a11y.enabled&&(this.a11y.init(),this.a11y.updateNavigation())},"toEdge":function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},"fromEdge":function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},"paginationUpdate":function(){this.params.a11y.enabled&&this.a11y.updatePagination()},"destroy":function(){this.params.a11y.enabled&&this.a11y.destroy()}}},{"name":"history","params":{"history":{"enabled":!1,"replaceState":!1,"key":"slides"}},"create":function(){var e=this;ee.extend(e,{"history":{"init":W.init.bind(e),"setHistory":W.setHistory.bind(e),"setHistoryPopState":W.setHistoryPopState.bind(e),"scrollToSlide":W.scrollToSlide.bind(e),"destroy":W.destroy.bind(e)}})},"on":{"init":function(){this.params.history.enabled&&this.history.init()},"destroy":function(){this.params.history.enabled&&this.history.destroy()},"transitionEnd":function(){this.history.initialized&&this.history.setHistory(this.params.history.key,this.activeIndex)}}},{"name":"hash-navigation","params":{"hashNavigation":{"enabled":!1,"replaceState":!1,"watchState":!1}},"create":function(){var e=this;ee.extend(e,{"hashNavigation":{"initialized":!1,"init":j.init.bind(e),"destroy":j.destroy.bind(e),"setHash":j.setHash.bind(e),"onHashCange":j.onHashCange.bind(e)}})},"on":{"init":function(){this.params.hashNavigation.enabled&&this.hashNavigation.init()},"destroy":function(){this.params.hashNavigation.enabled&&this.hashNavigation.destroy()},"transitionEnd":function(){this.hashNavigation.initialized&&this.hashNavigation.setHash()}}},{"name":"autoplay","params":{"autoplay":{"enabled":!1,"delay":3e3,"waitForTransition":!0,"disableOnInteraction":!0,"stopOnLastSlide":!1,"reverseDirection":!1}},"create":function(){var t=this;ee.extend(t,{"autoplay":{"running":!1,"paused":!1,"run":U.run.bind(t),"start":U.start.bind(t),"stop":U.stop.bind(t),"pause":U.pause.bind(t),"onTransitionEnd":function(e){t&&!t.destroyed&&t.$wrapperEl&&e.target===this&&(t.$wrapperEl[0].removeEventListener("transitionend",t.autoplay.onTransitionEnd),t.$wrapperEl[0].removeEventListener("webkitTransitionEnd",t.autoplay.onTransitionEnd),t.autoplay.paused=!1,t.autoplay.running?t.autoplay.run():t.autoplay.stop())}}})},"on":{"init":function(){this.params.autoplay.enabled&&this.autoplay.start()},"beforeTransitionStart":function(e,t){this.autoplay.running&&(t||!this.params.autoplay.disableOnInteraction?this.autoplay.pause(e):this.autoplay.stop())},"sliderFirstMove":function(){this.autoplay.running&&(this.params.autoplay.disableOnInteraction?this.autoplay.stop():this.autoplay.pause())},"destroy":function(){this.autoplay.running&&this.autoplay.stop()}}},{"name":"effect-fade","params":{"fadeEffect":{"crossFade":!1}},"create":function(){ee.extend(this,{"fadeEffect":{"setTranslate":K.setTranslate.bind(this),"setTransition":K.setTransition.bind(this)}})},"on":{"beforeInit":function(){var e=this;if("fade"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"fade");var t={"slidesPerView":1,"slidesPerColumn":1,"slidesPerGroup":1,"watchSlidesProgress":!0,"spaceBetween":0,"virtualTranslate":!0};ee.extend(e.params,t),ee.extend(e.originalParams,t)}},"setTranslate":function(){"fade"===this.params.effect&&this.fadeEffect.setTranslate()},"setTransition":function(e){"fade"===this.params.effect&&this.fadeEffect.setTransition(e)}}},{"name":"effect-cube","params":{"cubeEffect":{"slideShadows":!0,"shadow":!0,"shadowOffset":20,"shadowScale":.94}},"create":function(){ee.extend(this,{"cubeEffect":{"setTranslate":_.setTranslate.bind(this),"setTransition":_.setTransition.bind(this)}})},"on":{"beforeInit":function(){var e=this;if("cube"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"cube"),e.classNames.push(e.params.containerModifierClass+"3d");var t={"slidesPerView":1,"slidesPerColumn":1,"slidesPerGroup":1,"watchSlidesProgress":!0,"resistanceRatio":0,"spaceBetween":0,"centeredSlides":!1,"virtualTranslate":!0};ee.extend(e.params,t),ee.extend(e.originalParams,t)}},"setTranslate":function(){"cube"===this.params.effect&&this.cubeEffect.setTranslate()},"setTransition":function(e){"cube"===this.params.effect&&this.cubeEffect.setTransition(e)}}},{"name":"effect-flip","params":{"flipEffect":{"slideShadows":!0,"limitRotation":!0}},"create":function(){ee.extend(this,{"flipEffect":{"setTranslate":Z.setTranslate.bind(this),"setTransition":Z.setTransition.bind(this)}})},"on":{"beforeInit":function(){var e=this;if("flip"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"flip"),e.classNames.push(e.params.containerModifierClass+"3d");var t={"slidesPerView":1,"slidesPerColumn":1,"slidesPerGroup":1,"watchSlidesProgress":!0,"spaceBetween":0,"virtualTranslate":!0};ee.extend(e.params,t),ee.extend(e.originalParams,t)}},"setTranslate":function(){"flip"===this.params.effect&&this.flipEffect.setTranslate()},"setTransition":function(e){"flip"===this.params.effect&&this.flipEffect.setTransition(e)}}},{"name":"effect-coverflow","params":{"coverflowEffect":{"rotate":50,"stretch":0,"depth":100,"modifier":1,"slideShadows":!0}},"create":function(){ee.extend(this,{"coverflowEffect":{"setTranslate":Q.setTranslate.bind(this),"setTransition":Q.setTransition.bind(this)}})},"on":{"beforeInit":function(){var e=this;"coverflow"===e.params.effect&&(e.classNames.push(e.params.containerModifierClass+"coverflow"),e.classNames.push(e.params.containerModifierClass+"3d"),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},"setTranslate":function(){"coverflow"===this.params.effect&&this.coverflowEffect.setTranslate()},"setTransition":function(e){"coverflow"===this.params.effect&&this.coverflowEffect.setTransition(e)}}},{"name":"thumbs","params":{"thumbs":{"swiper":null,"slideThumbActiveClass":"swiper-slide-thumb-active","thumbsContainerClass":"swiper-container-thumbs"}},"create":function(){ee.extend(this,{"thumbs":{"swiper":null,"init":ae.init.bind(this),"update":ae.update.bind(this),"onThumbClick":ae.onThumbClick.bind(this)}})},"on":{"beforeInit":function(){var e=this.params.thumbs;e&&e.swiper&&(this.thumbs.init(),this.thumbs.update(!0))},"slideChange":function(){this.thumbs.swiper&&this.thumbs.update()},"update":function(){this.thumbs.swiper&&this.thumbs.update()},"resize":function(){this.thumbs.swiper&&this.thumbs.update()},"observerUpdate":function(){this.thumbs.swiper&&this.thumbs.update()},"setTransition":function(e){var t=this.thumbs.swiper;t&&t.setTransition(e)},"beforeDestroy":function(){var e=this.thumbs.swiper;e&&this.thumbs.swiperCreated&&e&&e.destroy()}}}];return void 0===S.use&&(S.use=S.Class.use,S.installModule=S.Class.installModule),S.use(ie),S})),function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):"object"==typeof exports?module.exports=factory(require("jquery")):factory(jQuery)}((function($){"use strict";function Plugin($container,options){function _initialize(){return self.update(),_setEvents(),self}function _setCss(){$thumb.css(posiLabel,self.thumbPosition),$overview.css(posiLabel,-self.contentPosition),$scrollbar.css(sizeLabel,self.trackSize),$track.css(sizeLabel,self.trackSize),$thumb.css(sizeLabel,self.thumbSize)}function _setEvents(){hasTouchEvents&&($viewport[0].ontouchstart=function(event){1===event.touches.length&&(event.stopPropagation(),_start(event.touches[0]))}),$thumb.bind("mousedown",(function(event){event.stopPropagation(),_start(event)})),$track.bind("mousedown",(function(event){_start(event,!0)})),$(window).resize((function(){self.update("relative")})),self.options.wheel&&window.addEventListener?$container[0].addEventListener(wheelEvent,_wheel,!1):self.options.wheel&&($container[0].onmousewheel=_wheel)}function _isAtBegin(){return self.contentPosition>0}function _isAtEnd(){return self.contentPosition<=self.contentSize-self.viewportSize-5}function _start(event,gotoMouse){self.hasContentToSroll&&($("body").addClass("noSelect"),mousePosition=gotoMouse?$thumb.offset()[posiLabel]:isHorizontal?event.pageX:event.pageY,hasTouchEvents&&(document.ontouchmove=function(event){(self.options.touchLock||_isAtBegin()&&_isAtEnd())&&event.preventDefault(),event.touches[0][pluginName+"Touch"]=1,_drag(event.touches[0])},document.ontouchend=_end),$(document).bind("mousemove",_drag),$(document).bind("mouseup",_end),$thumb.bind("mouseup",_end),$track.bind("mouseup",_end),_drag(event))}function _wheel(event){if(self.hasContentToSroll){var evntObj=event||window.event,wheelDelta=-(evntObj.deltaY||evntObj.detail||-1/3*evntObj.wheelDelta)/40,multiply=1===evntObj.deltaMode?self.options.wheelSpeed:1;self.contentPosition-=wheelDelta*multiply*self.options.wheelSpeed,self.contentPosition=Math.min(self.contentSize-self.viewportSize,Math.max(0,self.contentPosition)),self.thumbPosition=self.contentPosition/self.trackRatio,$container.trigger("move"),$thumb.css(posiLabel,self.thumbPosition),$overview.css(posiLabel,-self.contentPosition),(self.options.wheelLock||_isAtBegin()&&_isAtEnd())&&(evntObj=$.event.fix(evntObj)).preventDefault()}event.stopPropagation()}function _drag(event){if(self.hasContentToSroll){var mousePositionNew=isHorizontal?event.pageX:event.pageY,thumbPositionDelta=event[pluginName+"Touch"]?mousePosition-mousePositionNew:mousePositionNew-mousePosition,thumbPositionNew=Math.min(self.trackSize-self.thumbSize,Math.max(0,self.thumbPosition+thumbPositionDelta));self.contentPosition=thumbPositionNew*self.trackRatio,$container.trigger("move"),$thumb.css(posiLabel,thumbPositionNew),$overview.css(posiLabel,-self.contentPosition)}}function _end(){self.thumbPosition=parseInt($thumb.css(posiLabel),10)||0,$("body").removeClass("noSelect"),$(document).unbind("mousemove",_drag),$(document).unbind("mouseup",_end),$thumb.unbind("mouseup",_end),$track.unbind("mouseup",_end),document.ontouchmove=document.ontouchend=null}this.options=$.extend({},defaults,options),this._defaults=defaults,this._name=pluginName;var self=this,$viewport=$container.find(".viewport").first(),$overview=$container.find(".overview").first(),$scrollbar=$container.find(".scrollbar").first(),$track=$scrollbar.find(".track").first(),$thumb=$scrollbar.find(".thumb").first(),hasTouchEvents="ontouchstart"in document.documentElement,wheelEvent="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",isHorizontal="x"===this.options.axis,sizeLabel=isHorizontal?"width":"height",posiLabel=isHorizontal?"left":"top",mousePosition=0;return this.contentPosition=0,this.viewportSize=0,this.contentSize=0,this.contentRatio=0,this.trackSize=0,this.trackRatio=0,this.thumbSize=0,this.thumbPosition=0,this.hasContentToSroll=!1,this.update=function(scrollTo){var sizeLabelCap=sizeLabel.charAt(0).toUpperCase()+sizeLabel.slice(1).toLowerCase();switch(this.viewportSize=$viewport[0]["offset"+sizeLabelCap],this.contentSize=$overview[0]["scroll"+sizeLabelCap],this.contentRatio=this.viewportSize/this.contentSize,this.trackSize=this.options.trackSize||this.viewportSize,this.thumbSize=Math.min(this.trackSize,Math.max(this.options.thumbSizeMin,this.options.thumbSize||this.trackSize*this.contentRatio)),this.trackRatio=(this.contentSize-this.viewportSize)/(this.trackSize-this.thumbSize),this.hasContentToSroll=this.contentRatio<1,$scrollbar.toggleClass("disable",!this.hasContentToSroll),scrollTo){case"bottom":this.contentPosition=Math.max(this.contentSize-this.viewportSize,0);break;case"relative":this.contentPosition=Math.min(Math.max(this.contentSize-this.viewportSize,0),Math.max(0,this.contentPosition));break;default:this.contentPosition=parseInt(scrollTo,10)||0}return this.thumbPosition=this.contentPosition/this.trackRatio,_setCss(),self},_initialize()}var pluginName="tinyscrollbar",defaults={"axis":"y","wheel":!0,"wheelSpeed":40,"wheelLock":!0,"touchLock":!0,"trackSize":!1,"thumbSize":!1,"thumbSizeMin":20};$.fn[pluginName]=function(options){return this.each((function(){$.data(this,"plugin_"+pluginName)||$.data(this,"plugin_"+pluginName,new Plugin($(this),options))}))}})),function(root){"use strict";function Lexer(options){this.tokens=[],this.tokens.links=Object.create(null),this.options=options||marked.defaults,this.rules=block.normal,this.options.pedantic?this.rules=block.pedantic:this.options.gfm&&(this.rules=block.gfm)}function InlineLexer(links,options){if(this.options=options||marked.defaults,this.links=links,this.rules=inline.normal,this.renderer=this.options.renderer||new Renderer,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=inline.pedantic:this.options.gfm&&(this.options.breaks?this.rules=inline.breaks:this.rules=inline.gfm)}function Renderer(options){this.options=options||marked.defaults}function TextRenderer(){}function Parser(options){this.tokens=[],this.token=null,this.options=options||marked.defaults,this.options.renderer=this.options.renderer||new Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new Slugger}function Slugger(){this.seen={}}function escape(html,encode){if(encode){if(escape.escapeTest.test(html))return html.replace(escape.escapeReplace,(function(ch){return escape.replacements[ch]}))}else if(escape.escapeTestNoEncode.test(html))return html.replace(escape.escapeReplaceNoEncode,(function(ch){return escape.replacements[ch]}));return html}function unescape(html){return html.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,(function(_,n){return"colon"===(n=n.toLowerCase())?":":"#"===n.charAt(0)?"x"===n.charAt(1)?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""}))}function edit(regex,opt){return regex=regex.source||regex,opt=opt||"",{"replace":function(name,val){return val=(val=val.source||val).replace(/(^|[^\[])\^/g,"$1"),regex=regex.replace(name,val),this},"getRegex":function(){return new RegExp(regex,opt)}}}function cleanUrl(sanitize,base,href){if(sanitize){try{var prot=decodeURIComponent(unescape(href)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return null}if(0===prot.indexOf("javascript:")||0===prot.indexOf("vbscript:")||0===prot.indexOf("data:"))return null}base&&!originIndependentUrl.test(href)&&(href=resolveUrl(base,href));try{href=encodeURI(href).replace(/%25/g,"%")}catch(e){return null}return href}function resolveUrl(base,href){return baseUrls[" "+base]||(/^[^:]+:\/*[^/]*$/.test(base)?baseUrls[" "+base]=base+"/":baseUrls[" "+base]=rtrim(base,"/",!0)),base=baseUrls[" "+base],"//"===href.slice(0,2)?base.replace(/:[\s\S]*/,":")+href:"/"===href.charAt(0)?base.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+href:base+href}function noop(){}function merge(obj){for(var target,key,i=1;i<arguments.length;i++)for(key in target=arguments[i])Object.prototype.hasOwnProperty.call(target,key)&&(obj[key]=target[key]);return obj}function splitCells(tableRow,count){var cells=tableRow.replace(/\|/g,(function(match,offset,str){for(var escaped=!1,curr=offset;--curr>=0&&"\\"===str[curr];)escaped=!escaped;return escaped?"|":" |"})).split(/ \|/),i=0;if(cells.length>count)cells.splice(count);else for(;cells.length<count;)cells.push("");for(;i<cells.length;i++)cells[i]=cells[i].trim().replace(/\\\|/g,"|");return cells}function rtrim(str,c,invert){if(0===str.length)return"";for(var suffLen=0;suffLen<str.length;){var currChar=str.charAt(str.length-suffLen-1);if(currChar!==c||invert){if(currChar===c||!invert)break;suffLen++}else suffLen++}return str.substr(0,str.length-suffLen)}function findClosingBracket(str,b){if(-1===str.indexOf(b[1]))return-1;for(var level=0,i=0;i<str.length;i++)if("\\"===str[i])i++;else if(str[i]===b[0])level++;else if(str[i]===b[1]&&--level<0)return i;return-1}function checkSanitizeDeprecation(opt){opt&&opt.sanitize&&!opt.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function marked(src,opt,callback){if(null==src)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof src)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(src)+", string expected");if(callback||"function"==typeof opt){callback||(callback=opt,opt=null),checkSanitizeDeprecation(opt=merge({},marked.defaults,opt||{}));var tokens,pending,highlight=opt.highlight,i=0;try{tokens=Lexer.lex(src,opt)}catch(e){return callback(e)}pending=tokens.length;var done=function(err){if(err)return opt.highlight=highlight,callback(err);var out;try{out=Parser.parse(tokens,opt)}catch(e){err=e}return opt.highlight=highlight,err?callback(err):callback(null,out)};if(!highlight||highlight.length<3)return done();if(delete opt.highlight,!pending)return done();for(;i<tokens.length;i++)!function(token){"code"!==token.type?--pending||done():highlight(token.text,token.lang,(function(err,code){return err?done(err):null==code||code===token.text?--pending||done():(token.text=code,token.escaped=!0,void(--pending||done()))}))}(tokens[i])}else try{return opt&&(opt=merge({},marked.defaults,opt)),checkSanitizeDeprecation(opt),Parser.parse(Lexer.lex(src,opt),opt)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(opt||marked.defaults).silent)return"<p>An error occurred:</p><pre>"+escape(e.message+"",!0)+"</pre>";throw e}}var block={"newline":/^\n+/,"code":/^( {4}[^\n]+\n*)+/,"fences":/^ {0,3}(`{3,}|~{3,})([^`~\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,"hr":/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,"heading":/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,"blockquote":/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,"list":/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,"html":"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))","def":/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,"nptable":noop,"table":noop,"lheading":/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,"_paragraph":/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,"text":/^[^\n]+/,"_label":/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,"_title":/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};block.def=edit(block.def).replace("label",block._label).replace("title",block._title).getRegex(),block.bullet=/(?:[*+-]|\d{1,9}\.)/,block.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,block.item=edit(block.item,"gm").replace(/bull/g,block.bullet).getRegex(),block.list=edit(block.list).replace(/bull/g,block.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+block.def.source+")").getRegex(),block._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",block._comment=/<!--(?!-?>)[\s\S]*?-->/,block.html=edit(block.html,"i").replace("comment",block._comment).replace("tag",block._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),block.paragraph=edit(block._paragraph).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} +").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}|~{3,})[^`\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",block._tag).getRegex(),block.blockquote=edit(block.blockquote).replace("paragraph",block.paragraph).getRegex(),block.normal=merge({},block),block.gfm=merge({},block.normal,{"nptable":/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,"table":/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),block.pedantic=merge({},block.normal,{"html":edit("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",block._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),"def":/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,"heading":/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,"fences":noop,"paragraph":edit(block.normal._paragraph).replace("hr",block.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",block.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),Lexer.rules=block,Lexer.lex=function(src,options){return new Lexer(options).lex(src)},Lexer.prototype.lex=function(src){return src=src.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(src,!0)},Lexer.prototype.token=function(src,top){var next,loose,cap,bull,b,item,listStart,listItems,t,space,i,tag,l,isordered,istask,ischecked;for(src=src.replace(/^ +$/gm,"");src;)if((cap=this.rules.newline.exec(src))&&(src=src.substring(cap[0].length),cap[0].length>1&&this.tokens.push({"type":"space"})),cap=this.rules.code.exec(src)){var lastToken=this.tokens[this.tokens.length-1];src=src.substring(cap[0].length),lastToken&&"paragraph"===lastToken.type?lastToken.text+="\n"+cap[0].trimRight():(cap=cap[0].replace(/^ {4}/gm,""),this.tokens.push({"type":"code","codeBlockStyle":"indented","text":this.options.pedantic?cap:rtrim(cap,"\n")}))}else if(cap=this.rules.fences.exec(src))src=src.substring(cap[0].length),this.tokens.push({"type":"code","lang":cap[2]?cap[2].trim():cap[2],"text":cap[3]||""});else if(cap=this.rules.heading.exec(src))src=src.substring(cap[0].length),this.tokens.push({"type":"heading","depth":cap[1].length,"text":cap[2]});else if((cap=this.rules.nptable.exec(src))&&(item={"type":"table","header":splitCells(cap[1].replace(/^ *| *\| *$/g,"")),"align":cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),"cells":cap[3]?cap[3].replace(/\n$/,"").split("\n"):[]}).header.length===item.align.length){for(src=src.substring(cap[0].length),i=0;i<item.align.length;i++)/^ *-+: *$/.test(item.align[i])?item.align[i]="right":/^ *:-+: *$/.test(item.align[i])?item.align[i]="center":/^ *:-+ *$/.test(item.align[i])?item.align[i]="left":item.align[i]=null;for(i=0;i<item.cells.length;i++)item.cells[i]=splitCells(item.cells[i],item.header.length);this.tokens.push(item)}else if(cap=this.rules.hr.exec(src))src=src.substring(cap[0].length),this.tokens.push({"type":"hr"});else if(cap=this.rules.blockquote.exec(src))src=src.substring(cap[0].length),this.tokens.push({"type":"blockquote_start"}),cap=cap[0].replace(/^ *> ?/gm,""),this.token(cap,top),this.tokens.push({"type":"blockquote_end"});else if(cap=this.rules.list.exec(src)){for(src=src.substring(cap[0].length),listStart={"type":"list_start","ordered":isordered=(bull=cap[2]).length>1,"start":isordered?+bull:"","loose":!1},this.tokens.push(listStart),listItems=[],next=!1,l=(cap=cap[0].match(this.rules.item)).length,i=0;i<l;i++)space=(item=cap[i]).length,~(item=item.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(space-=item.length,item=this.options.pedantic?item.replace(/^ {1,4}/gm,""):item.replace(new RegExp("^ {1,"+space+"}","gm"),"")),i!==l-1&&(b=block.bullet.exec(cap[i+1])[0],(bull.length>1?1===b.length:b.length>1||this.options.smartLists&&b!==bull)&&(src=cap.slice(i+1).join("\n")+src,i=l-1)),loose=next||/\n\n(?!\s*$)/.test(item),i!==l-1&&(next="\n"===item.charAt(item.length-1),loose||(loose=next)),loose&&(listStart.loose=!0),ischecked=void 0,(istask=/^\[[ xX]\] /.test(item))&&(ischecked=" "!==item[1],item=item.replace(/^\[[ xX]\] +/,"")),t={"type":"list_item_start","task":istask,"checked":ischecked,"loose":loose},listItems.push(t),this.tokens.push(t),this.token(item,!1),this.tokens.push({"type":"list_item_end"});if(listStart.loose)for(l=listItems.length,i=0;i<l;i++)listItems[i].loose=!0;this.tokens.push({"type":"list_end"})}else if(cap=this.rules.html.exec(src))src=src.substring(cap[0].length),this.tokens.push({"type":this.options.sanitize?"paragraph":"html","pre":!this.options.sanitizer&&("pre"===cap[1]||"script"===cap[1]||"style"===cap[1]),"text":this.options.sanitize?this.options.sanitizer?this.options.sanitizer(cap[0]):escape(cap[0]):cap[0]});else if(top&&(cap=this.rules.def.exec(src)))src=src.substring(cap[0].length),cap[3]&&(cap[3]=cap[3].substring(1,cap[3].length-1)),tag=cap[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[tag]||(this.tokens.links[tag]={"href":cap[2],"title":cap[3]});else if((cap=this.rules.table.exec(src))&&(item={"type":"table","header":splitCells(cap[1].replace(/^ *| *\| *$/g,"")),"align":cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),"cells":cap[3]?cap[3].replace(/\n$/,"").split("\n"):[]}).header.length===item.align.length){for(src=src.substring(cap[0].length),i=0;i<item.align.length;i++)/^ *-+: *$/.test(item.align[i])?item.align[i]="right":/^ *:-+: *$/.test(item.align[i])?item.align[i]="center":/^ *:-+ *$/.test(item.align[i])?item.align[i]="left":item.align[i]=null;for(i=0;i<item.cells.length;i++)item.cells[i]=splitCells(item.cells[i].replace(/^ *\| *| *\| *$/g,""),item.header.length);this.tokens.push(item)}else if(cap=this.rules.lheading.exec(src))src=src.substring(cap[0].length),this.tokens.push({"type":"heading","depth":"="===cap[2].charAt(0)?1:2,"text":cap[1]});else if(top&&(cap=this.rules.paragraph.exec(src)))src=src.substring(cap[0].length),this.tokens.push({"type":"paragraph","text":"\n"===cap[1].charAt(cap[1].length-1)?cap[1].slice(0,-1):cap[1]});else if(cap=this.rules.text.exec(src))src=src.substring(cap[0].length),this.tokens.push({"type":"text","text":cap[0]});else if(src)throw new Error("Infinite loop on byte: "+src.charCodeAt(0));return this.tokens};var inline={"escape":/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,"autolink":/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,"url":noop,"tag":"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>","link":/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,"reflink":/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,"nolink":/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,"strong":/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,"em":/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,"code":/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,"br":/^( {2,}|\\)\n(?!\s*$)/,"del":noop,"text":/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,"_punctuation":"!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~"};inline.em=edit(inline.em).replace(/punctuation/g,inline._punctuation).getRegex(),inline._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,inline._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,inline._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,inline.autolink=edit(inline.autolink).replace("scheme",inline._scheme).replace("email",inline._email).getRegex(),inline._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,inline.tag=edit(inline.tag).replace("comment",block._comment).replace("attribute",inline._attribute).getRegex(),inline._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,inline._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,inline._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,inline.link=edit(inline.link).replace("label",inline._label).replace("href",inline._href).replace("title",inline._title).getRegex(),inline.reflink=edit(inline.reflink).replace("label",inline._label).getRegex(),inline.normal=merge({},inline),inline.pedantic=merge({},inline.normal,{"strong":/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,"em":/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,"link":edit(/^!?\[(label)\]\((.*?)\)/).replace("label",inline._label).getRegex(),"reflink":edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",inline._label).getRegex()}),inline.gfm=merge({},inline.normal,{"escape":edit(inline.escape).replace("])","~|])").getRegex(),"_extended_email":/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,"url":/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"_backpedal":/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,"del":/^~+(?=\S)([\s\S]*?\S)~+/,"text":/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),inline.gfm.url=edit(inline.gfm.url,"i").replace("email",inline.gfm._extended_email).getRegex(),inline.breaks=merge({},inline.gfm,{"br":edit(inline.br).replace("{2,}","*").getRegex(),"text":edit(inline.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),InlineLexer.rules=inline,InlineLexer.output=function(src,links,options){return new InlineLexer(links,options).output(src)},InlineLexer.prototype.output=function(src){for(var link,text,href,title,cap,prevCapZero,out="";src;)if(cap=this.rules.escape.exec(src))src=src.substring(cap[0].length),out+=escape(cap[1]);else if(cap=this.rules.tag.exec(src))!this.inLink&&/^<a /i.test(cap[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(cap[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(cap[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(cap[0])&&(this.inRawBlock=!1),src=src.substring(cap[0].length),out+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(cap[0]):escape(cap[0]):cap[0];else if(cap=this.rules.link.exec(src)){var lastParenIndex=findClosingBracket(cap[2],"()");if(lastParenIndex>-1){var linkLen=4+cap[1].length+lastParenIndex;cap[2]=cap[2].substring(0,lastParenIndex),cap[0]=cap[0].substring(0,linkLen).trim(),cap[3]=""}src=src.substring(cap[0].length),this.inLink=!0,href=cap[2],this.options.pedantic?(link=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(href))?(href=link[1],title=link[3]):title="":title=cap[3]?cap[3].slice(1,-1):"",href=href.trim().replace(/^<([\s\S]*)>$/,"$1"),out+=this.outputLink(cap,{"href":InlineLexer.escapes(href),"title":InlineLexer.escapes(title)}),this.inLink=!1}else if((cap=this.rules.reflink.exec(src))||(cap=this.rules.nolink.exec(src))){if(src=src.substring(cap[0].length),link=(cap[2]||cap[1]).replace(/\s+/g," "),!(link=this.links[link.toLowerCase()])||!link.href){out+=cap[0].charAt(0),src=cap[0].substring(1)+src;continue}this.inLink=!0,out+=this.outputLink(cap,link),this.inLink=!1}else if(cap=this.rules.strong.exec(src))src=src.substring(cap[0].length),out+=this.renderer.strong(this.output(cap[4]||cap[3]||cap[2]||cap[1]));else if(cap=this.rules.em.exec(src))src=src.substring(cap[0].length),out+=this.renderer.em(this.output(cap[6]||cap[5]||cap[4]||cap[3]||cap[2]||cap[1]));else if(cap=this.rules.code.exec(src))src=src.substring(cap[0].length),out+=this.renderer.codespan(escape(cap[2].trim(),!0));else if(cap=this.rules.br.exec(src))src=src.substring(cap[0].length),out+=this.renderer.br();else if(cap=this.rules.del.exec(src))src=src.substring(cap[0].length),out+=this.renderer.del(this.output(cap[1]));else if(cap=this.rules.autolink.exec(src))src=src.substring(cap[0].length),href="@"===cap[2]?"mailto:"+(text=escape(this.mangle(cap[1]))):text=escape(cap[1]),out+=this.renderer.link(href,null,text);else if(this.inLink||!(cap=this.rules.url.exec(src))){if(cap=this.rules.text.exec(src))src=src.substring(cap[0].length),this.inRawBlock?out+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(cap[0]):escape(cap[0]):cap[0]):out+=this.renderer.text(escape(this.smartypants(cap[0])));else if(src)throw new Error("Infinite loop on byte: "+src.charCodeAt(0))}else{if("@"===cap[2])href="mailto:"+(text=escape(cap[0]));else{do{prevCapZero=cap[0],cap[0]=this.rules._backpedal.exec(cap[0])[0]}while(prevCapZero!==cap[0])
;text=escape(cap[0]),href="www."===cap[1]?"http://"+text:text}src=src.substring(cap[0].length),out+=this.renderer.link(href,null,text)}return out},InlineLexer.escapes=function(text){return text?text.replace(InlineLexer.rules._escapes,"$1"):text},InlineLexer.prototype.outputLink=function(cap,link){var href=link.href,title=link.title?escape(link.title):null;return"!"!==cap[0].charAt(0)?this.renderer.link(href,title,this.output(cap[1])):this.renderer.image(href,title,escape(cap[1]))},InlineLexer.prototype.smartypants=function(text){return this.options.smartypants?text.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026"):text},InlineLexer.prototype.mangle=function(text){if(!this.options.mangle)return text;for(var ch,out="",l=text.length,i=0;i<l;i++)ch=text.charCodeAt(i),Math.random()>.5&&(ch="x"+ch.toString(16)),out+="&#"+ch+";";return out},Renderer.prototype.code=function(code,infostring,escaped){var lang=(infostring||"").match(/\S*/)[0];if(this.options.highlight){var out=this.options.highlight(code,lang);null!=out&&out!==code&&(escaped=!0,code=out)}return lang?'<pre><code class="'+this.options.langPrefix+escape(lang,!0)+'">'+(escaped?code:escape(code,!0))+"</code></pre>\n":"<pre><code>"+(escaped?code:escape(code,!0))+"</code></pre>"},Renderer.prototype.blockquote=function(quote){return"<blockquote>\n"+quote+"</blockquote>\n"},Renderer.prototype.html=function(html){return html},Renderer.prototype.heading=function(text,level,raw,slugger){return this.options.headerIds?"<h"+level+' id="'+this.options.headerPrefix+slugger.slug(raw)+'">'+text+"</h"+level+">\n":"<h"+level+">"+text+"</h"+level+">\n"},Renderer.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},Renderer.prototype.list=function(body,ordered,start){var type=ordered?"ol":"ul";return"<"+type+(ordered&&1!==start?' start="'+start+'"':"")+">\n"+body+"</"+type+">\n"},Renderer.prototype.listitem=function(text){return"<li>"+text+"</li>\n"},Renderer.prototype.checkbox=function(checked){return"<input "+(checked?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Renderer.prototype.paragraph=function(text){return"<p>"+text+"</p>\n"},Renderer.prototype.table=function(header,body){return body&&(body="<tbody>"+body+"</tbody>"),"<table>\n<thead>\n"+header+"</thead>\n"+body+"</table>\n"},Renderer.prototype.tablerow=function(content){return"<tr>\n"+content+"</tr>\n"},Renderer.prototype.tablecell=function(content,flags){var type=flags.header?"th":"td";return(flags.align?"<"+type+' align="'+flags.align+'">':"<"+type+">")+content+"</"+type+">\n"},Renderer.prototype.strong=function(text){return"<strong>"+text+"</strong>"},Renderer.prototype.em=function(text){return"<em>"+text+"</em>"},Renderer.prototype.codespan=function(text){return"<code>"+text+"</code>"},Renderer.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},Renderer.prototype.del=function(text){return"<del>"+text+"</del>"},Renderer.prototype.link=function(href,title,text){if(null===(href=cleanUrl(this.options.sanitize,this.options.baseUrl,href)))return text;var out='<a href="'+escape(href)+'"';return title&&(out+=' title="'+title+'"'),out+=">"+text+"</a>"},Renderer.prototype.image=function(href,title,text){if(null===(href=cleanUrl(this.options.sanitize,this.options.baseUrl,href)))return text;var out='<img src="'+href+'" alt="'+text+'"';return title&&(out+=' title="'+title+'"'),out+=this.options.xhtml?"/>":">"},Renderer.prototype.text=function(text){return text},TextRenderer.prototype.strong=TextRenderer.prototype.em=TextRenderer.prototype.codespan=TextRenderer.prototype.del=TextRenderer.prototype.text=function(text){return text},TextRenderer.prototype.link=TextRenderer.prototype.image=function(href,title,text){return""+text},TextRenderer.prototype.br=function(){return""},Parser.parse=function(src,options){return new Parser(options).parse(src)},Parser.prototype.parse=function(src){this.inline=new InlineLexer(src.links,this.options),this.inlineText=new InlineLexer(src.links,merge({},this.options,{"renderer":new TextRenderer})),this.tokens=src.reverse();for(var out="";this.next();)out+=this.tok();return out},Parser.prototype.next=function(){return this.token=this.tokens.pop(),this.token},Parser.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},Parser.prototype.parseText=function(){for(var body=this.token.text;"text"===this.peek().type;)body+="\n"+this.next().text;return this.inline.output(body)},Parser.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,unescape(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var i,row,cell,j,header="",body="";for(cell="",i=0;i<this.token.header.length;i++)cell+=this.renderer.tablecell(this.inline.output(this.token.header[i]),{"header":!0,"align":this.token.align[i]});for(header+=this.renderer.tablerow(cell),i=0;i<this.token.cells.length;i++){for(row=this.token.cells[i],cell="",j=0;j<row.length;j++)cell+=this.renderer.tablecell(this.inline.output(row[j]),{"header":!1,"align":this.token.align[j]});body+=this.renderer.tablerow(cell)}return this.renderer.table(header,body);case"blockquote_start":for(body="";"blockquote_end"!==this.next().type;)body+=this.tok();return this.renderer.blockquote(body);case"list_start":body="";for(var ordered=this.token.ordered,start=this.token.start;"list_end"!==this.next().type;)body+=this.tok();return this.renderer.list(body,ordered,start);case"list_item_start":body="";var loose=this.token.loose,checked=this.token.checked,task=this.token.task;for(this.token.task&&(body+=this.renderer.checkbox(checked));"list_item_end"!==this.next().type;)body+=loose||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(body,task,checked);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:var errMsg='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(errMsg);console.log(errMsg)}},Slugger.prototype.slug=function(value){var slug=value.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(slug)){var originalSlug=slug;do{this.seen[originalSlug]++,slug=originalSlug+"-"+this.seen[originalSlug]}while(this.seen.hasOwnProperty(slug))}return this.seen[slug]=0,slug},escape.escapeTest=/[&<>"']/,escape.escapeReplace=/[&<>"']/g,escape.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},escape.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,escape.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var baseUrls={},originIndependentUrl=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;noop.exec=noop,marked.options=marked.setOptions=function(opt){return merge(marked.defaults,opt),marked},marked.getDefaults=function(){return{"baseUrl":null,"breaks":!1,"gfm":!0,"headerIds":!0,"headerPrefix":"","highlight":null,"langPrefix":"language-","mangle":!0,"pedantic":!1,"renderer":new Renderer,"sanitize":!1,"sanitizer":null,"silent":!1,"smartLists":!1,"smartypants":!1,"xhtml":!1}},marked.defaults=marked.getDefaults(),marked.Parser=Parser,marked.parser=Parser.parse,marked.Renderer=Renderer,marked.TextRenderer=TextRenderer,marked.Lexer=Lexer,marked.lexer=Lexer.lex,marked.InlineLexer=InlineLexer,marked.inlineLexer=InlineLexer.output,marked.Slugger=Slugger,marked.parse=marked,"undefined"!=typeof module&&"object"==typeof exports?module.exports=marked:"function"==typeof define&&define.amd?define((function(){return marked})):root.marked=marked}(this||("undefined"!=typeof window?window:global)),function(){function imageHasData(img){return!!img.exifdata}function base64ToArrayBuffer(base64,contentType){contentType=contentType||base64.match(/^data\:([^\;]+)\;base64,/im)[1]||"",base64=base64.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var binary=atob(base64),len=binary.length,buffer=new ArrayBuffer(len),view=new Uint8Array(buffer),i=0;i<len;i++)view[i]=binary.charCodeAt(i);return buffer}function objectURLToBlob(url,callback){var http=new XMLHttpRequest;http.open("GET",url,!0),http.responseType="blob",http.onload=function(){200!=this.status&&0!==this.status||callback(this.response)},http.send()}function getImageData(img,callback){function handleBinaryFile(binFile){var data=findEXIFinJPEG(binFile);img.exifdata=data||{};var iptcdata=findIPTCinJPEG(binFile);if(img.iptcdata=iptcdata||{},EXIF.isXmpEnabled){var xmpdata=findXMPinJPEG(binFile);img.xmpdata=xmpdata||{}}callback&&callback.call(img)}if(img.src)if(/^data\:/i.test(img.src))handleBinaryFile(base64ToArrayBuffer(img.src));else if(/^blob\:/i.test(img.src)){(fileReader=new FileReader).onload=function(e){handleBinaryFile(e.target.result)},objectURLToBlob(img.src,(function(blob){fileReader.readAsArrayBuffer(blob)}))}else{var http=new XMLHttpRequest;http.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";handleBinaryFile(http.response),http=null},http.open("GET",img.src,!0),http.responseType="arraybuffer",http.send(null)}else if(self.FileReader&&(img instanceof self.Blob||img instanceof self.File)){var fileReader;(fileReader=new FileReader).onload=function(e){debug&&console.log("Got file of length "+e.target.result.byteLength),handleBinaryFile(e.target.result)},fileReader.readAsArrayBuffer(img)}}function findEXIFinJPEG(file){var dataView=new DataView(file);if(debug&&console.log("Got file of length "+file.byteLength),255!=dataView.getUint8(0)||216!=dataView.getUint8(1))return debug&&console.log("Not a valid JPEG"),!1;for(var marker,offset=2,length=file.byteLength;offset<length;){if(255!=dataView.getUint8(offset))return debug&&console.log("Not a valid marker at offset "+offset+", found: "+dataView.getUint8(offset)),!1;if(marker=dataView.getUint8(offset+1),debug&&console.log(marker),225==marker)return debug&&console.log("Found 0xFFE1 marker"),readEXIFData(dataView,offset+4,dataView.getUint16(offset+2)-2);offset+=2+dataView.getUint16(offset+2)}}function findIPTCinJPEG(file){var dataView=new DataView(file);if(debug&&console.log("Got file of length "+file.byteLength),255!=dataView.getUint8(0)||216!=dataView.getUint8(1))return debug&&console.log("Not a valid JPEG"),!1;for(var offset=2,length=file.byteLength,isFieldSegmentStart=function(dataView,offset){return 56===dataView.getUint8(offset)&&66===dataView.getUint8(offset+1)&&73===dataView.getUint8(offset+2)&&77===dataView.getUint8(offset+3)&&4===dataView.getUint8(offset+4)&&4===dataView.getUint8(offset+5)};offset<length;){if(isFieldSegmentStart(dataView,offset)){var nameHeaderLength=dataView.getUint8(offset+7);return nameHeaderLength%2!=0&&(nameHeaderLength+=1),0===nameHeaderLength&&(nameHeaderLength=4),readIPTCData(file,offset+8+nameHeaderLength,dataView.getUint16(offset+6+nameHeaderLength))}offset++}}function readIPTCData(file,startOffset,sectionLength){for(var fieldValue,fieldName,dataSize,segmentType,dataView=new DataView(file),data={},segmentStartPos=startOffset;segmentStartPos<startOffset+sectionLength;)28===dataView.getUint8(segmentStartPos)&&2===dataView.getUint8(segmentStartPos+1)&&(segmentType=dataView.getUint8(segmentStartPos+2))in IptcFieldMap&&((dataSize=dataView.getInt16(segmentStartPos+3))+5,fieldName=IptcFieldMap[segmentType],fieldValue=getStringFromDB(dataView,segmentStartPos+5,dataSize),data.hasOwnProperty(fieldName)?data[fieldName]instanceof Array?data[fieldName].push(fieldValue):data[fieldName]=[data[fieldName],fieldValue]:data[fieldName]=fieldValue),segmentStartPos++;return data}function readTags(file,tiffStart,dirStart,strings,bigEnd){var entryOffset,tag,i,entries=file.getUint16(dirStart,!bigEnd),tags={};for(i=0;i<entries;i++)entryOffset=dirStart+12*i+2,!(tag=strings[file.getUint16(entryOffset,!bigEnd)])&&debug&&console.log("Unknown tag: "+file.getUint16(entryOffset,!bigEnd)),tags[tag]=readTagValue(file,entryOffset,tiffStart,dirStart,bigEnd);return tags}function readTagValue(file,entryOffset,tiffStart,dirStart,bigEnd){var offset,vals,val,n,numerator,denominator,type=file.getUint16(entryOffset+2,!bigEnd),numValues=file.getUint32(entryOffset+4,!bigEnd),valueOffset=file.getUint32(entryOffset+8,!bigEnd)+tiffStart;switch(type){case 1:case 7:if(1==numValues)return file.getUint8(entryOffset+8,!bigEnd);for(offset=numValues>4?valueOffset:entryOffset+8,vals=[],n=0;n<numValues;n++)vals[n]=file.getUint8(offset+n);return vals;case 2:return getStringFromDB(file,offset=numValues>4?valueOffset:entryOffset+8,numValues-1);case 3:if(1==numValues)return file.getUint16(entryOffset+8,!bigEnd);for(offset=numValues>2?valueOffset:entryOffset+8,vals=[],n=0;n<numValues;n++)vals[n]=file.getUint16(offset+2*n,!bigEnd);return vals;case 4:if(1==numValues)return file.getUint32(entryOffset+8,!bigEnd);for(vals=[],n=0;n<numValues;n++)vals[n]=file.getUint32(valueOffset+4*n,!bigEnd);return vals;case 5:if(1==numValues)return numerator=file.getUint32(valueOffset,!bigEnd),denominator=file.getUint32(valueOffset+4,!bigEnd),(val=new Number(numerator/denominator)).numerator=numerator,val.denominator=denominator,val;for(vals=[],n=0;n<numValues;n++)numerator=file.getUint32(valueOffset+8*n,!bigEnd),denominator=file.getUint32(valueOffset+4+8*n,!bigEnd),vals[n]=new Number(numerator/denominator),vals[n].numerator=numerator,vals[n].denominator=denominator;return vals;case 9:if(1==numValues)return file.getInt32(entryOffset+8,!bigEnd);for(vals=[],n=0;n<numValues;n++)vals[n]=file.getInt32(valueOffset+4*n,!bigEnd);return vals;case 10:if(1==numValues)return file.getInt32(valueOffset,!bigEnd)/file.getInt32(valueOffset+4,!bigEnd);for(vals=[],n=0;n<numValues;n++)vals[n]=file.getInt32(valueOffset+8*n,!bigEnd)/file.getInt32(valueOffset+4+8*n,!bigEnd);return vals}}function getNextIFDOffset(dataView,dirStart,bigEnd){var entries=dataView.getUint16(dirStart,!bigEnd);return dataView.getUint32(dirStart+2+12*entries,!bigEnd)}function readThumbnailImage(dataView,tiffStart,firstIFDOffset,bigEnd){var IFD1OffsetPointer=getNextIFDOffset(dataView,tiffStart+firstIFDOffset,bigEnd);if(!IFD1OffsetPointer)return{};if(IFD1OffsetPointer>dataView.byteLength)return{};var thumbTags=readTags(dataView,tiffStart,tiffStart+IFD1OffsetPointer,IFD1Tags,bigEnd);if(thumbTags.Compression)switch(thumbTags.Compression){case 6:if(thumbTags.JpegIFOffset&&thumbTags.JpegIFByteCount){var tOffset=tiffStart+thumbTags.JpegIFOffset,tLength=thumbTags.JpegIFByteCount;thumbTags.blob=new Blob([new Uint8Array(dataView.buffer,tOffset,tLength)],{"type":"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",thumbTags.Compression)}else 2==thumbTags.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return thumbTags}function getStringFromDB(buffer,start,length){var outstr="";for(n=start;n<start+length;n++)outstr+=String.fromCharCode(buffer.getUint8(n));return outstr}function readEXIFData(file,start){if("Exif"!=getStringFromDB(file,start,4))return debug&&console.log("Not valid EXIF data! "+getStringFromDB(file,start,4)),!1;var bigEnd,tags,tag,exifData,gpsData,tiffOffset=start+6;if(18761==file.getUint16(tiffOffset))bigEnd=!1;else{if(19789!=file.getUint16(tiffOffset))return debug&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;bigEnd=!0}if(42!=file.getUint16(tiffOffset+2,!bigEnd))return debug&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var firstIFDOffset=file.getUint32(tiffOffset+4,!bigEnd);if(firstIFDOffset<8)return debug&&console.log("Not valid TIFF data! (First offset less than 8)",file.getUint32(tiffOffset+4,!bigEnd)),!1;if((tags=readTags(file,tiffOffset,tiffOffset+firstIFDOffset,TiffTags,bigEnd)).ExifIFDPointer)for(tag in exifData=readTags(file,tiffOffset,tiffOffset+tags.ExifIFDPointer,ExifTags,bigEnd)){switch(tag){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":exifData[tag]=StringValues[tag][exifData[tag]];break;case"ExifVersion":case"FlashpixVersion":exifData[tag]=String.fromCharCode(exifData[tag][0],exifData[tag][1],exifData[tag][2],exifData[tag][3]);break;case"ComponentsConfiguration":exifData[tag]=StringValues.Components[exifData[tag][0]]+StringValues.Components[exifData[tag][1]]+StringValues.Components[exifData[tag][2]]+StringValues.Components[exifData[tag][3]]}tags[tag]=exifData[tag]}if(tags.GPSInfoIFDPointer)for(tag in gpsData=readTags(file,tiffOffset,tiffOffset+tags.GPSInfoIFDPointer,GPSTags,bigEnd)){if("GPSVersionID"===tag)gpsData[tag]=gpsData[tag][0]+"."+gpsData[tag][1]+"."+gpsData[tag][2]+"."+gpsData[tag][3];tags[tag]=gpsData[tag]}return tags.thumbnail=readThumbnailImage(file,tiffOffset,firstIFDOffset,bigEnd),tags}function findXMPinJPEG(file){if("DOMParser"in self){var dataView=new DataView(file);if(debug&&console.log("Got file of length "+file.byteLength),255!=dataView.getUint8(0)||216!=dataView.getUint8(1))return debug&&console.log("Not a valid JPEG"),!1;for(var offset=2,length=file.byteLength,dom=new DOMParser;offset<length-4;){if("http"==getStringFromDB(dataView,offset,4)){var startOffset=offset-1,sectionLength=dataView.getUint16(offset-2)-1,xmpString=getStringFromDB(dataView,startOffset,sectionLength),xmpEndIndex=xmpString.indexOf("xmpmeta>")+8,indexOfXmp=(xmpString=xmpString.substring(xmpString.indexOf("<x:xmpmeta"),xmpEndIndex)).indexOf("x:xmpmeta")+10;return xmpString=xmpString.slice(0,indexOfXmp)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+xmpString.slice(indexOfXmp),xml2Object(dom.parseFromString(xmpString,"text/xml"))}offset++}}}function xml2json(xml){var json={};if(1==xml.nodeType){if(xml.attributes.length>0){json["@attributes"]={};for(var j=0;j<xml.attributes.length;j++){var attribute=xml.attributes.item(j);json["@attributes"][attribute.nodeName]=attribute.nodeValue}}}else if(3==xml.nodeType)return xml.nodeValue;if(xml.hasChildNodes())for(var i=0;i<xml.childNodes.length;i++){var child=xml.childNodes.item(i),nodeName=child.nodeName;if(null==json[nodeName])json[nodeName]=xml2json(child);else{if(null==json[nodeName].push){var old=json[nodeName];json[nodeName]=[],json[nodeName].push(old)}json[nodeName].push(xml2json(child))}}return json}function xml2Object(xml){try{var obj={};if(xml.children.length>0)for(var i=0;i<xml.children.length;i++){var item=xml.children.item(i),attributes=item.attributes;for(var idx in attributes){var itemAtt=attributes[idx],dataKey=itemAtt.nodeName,dataValue=itemAtt.nodeValue;void 0!==dataKey&&(obj[dataKey]=dataValue)}var nodeName=item.nodeName;if(void 0===obj[nodeName])obj[nodeName]=xml2json(item);else{if(void 0===obj[nodeName].push){var old=obj[nodeName];obj[nodeName]=[],obj[nodeName].push(old)}obj[nodeName].push(xml2json(item))}}else obj=xml.textContent;return obj}catch(e){console.log(e.message)}}var debug=!1,root=this,EXIF=function(obj){return obj instanceof EXIF?obj:this instanceof EXIF?void(this.EXIFwrapped=obj):new EXIF(obj)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=EXIF),exports.EXIF=EXIF):root.EXIF=EXIF;var ExifTags=EXIF.Tags={"36864":"ExifVersion","40960":"FlashpixVersion","40961":"ColorSpace","40962":"PixelXDimension","40963":"PixelYDimension","37121":"ComponentsConfiguration","37122":"CompressedBitsPerPixel","37500":"MakerNote","37510":"UserComment","40964":"RelatedSoundFile","36867":"DateTimeOriginal","36868":"DateTimeDigitized","37520":"SubsecTime","37521":"SubsecTimeOriginal","37522":"SubsecTimeDigitized","33434":"ExposureTime","33437":"FNumber","34850":"ExposureProgram","34852":"SpectralSensitivity","34855":"ISOSpeedRatings","34856":"OECF","37377":"ShutterSpeedValue","37378":"ApertureValue","37379":"BrightnessValue","37380":"ExposureBias","37381":"MaxApertureValue","37382":"SubjectDistance","37383":"MeteringMode","37384":"LightSource","37385":"Flash","37396":"SubjectArea","37386":"FocalLength","41483":"FlashEnergy","41484":"SpatialFrequencyResponse","41486":"FocalPlaneXResolution","41487":"FocalPlaneYResolution","41488":"FocalPlaneResolutionUnit","41492":"SubjectLocation","41493":"ExposureIndex","41495":"SensingMethod","41728":"FileSource","41729":"SceneType","41730":"CFAPattern","41985":"CustomRendered","41986":"ExposureMode","41987":"WhiteBalance","41988":"DigitalZoomRation","41989":"FocalLengthIn35mmFilm","41990":"SceneCaptureType","41991":"GainControl","41992":"Contrast","41993":"Saturation","41994":"Sharpness","41995":"DeviceSettingDescription","41996":"SubjectDistanceRange","40965":"InteroperabilityIFDPointer","42016":"ImageUniqueID"},TiffTags=EXIF.TiffTags={"256":"ImageWidth","257":"ImageHeight","34665":"ExifIFDPointer","34853":"GPSInfoIFDPointer","40965":"InteroperabilityIFDPointer","258":"BitsPerSample","259":"Compression","262":"PhotometricInterpretation","274":"Orientation","277":"SamplesPerPixel","284":"PlanarConfiguration","530":"YCbCrSubSampling","531":"YCbCrPositioning","282":"XResolution","283":"YResolution","296":"ResolutionUnit","273":"StripOffsets","278":"RowsPerStrip","279":"StripByteCounts","513":"JPEGInterchangeFormat","514":"JPEGInterchangeFormatLength","301":"TransferFunction","318":"WhitePoint","319":"PrimaryChromaticities","529":"YCbCrCoefficients","532":"ReferenceBlackWhite","306":"DateTime","270":"ImageDescription","271":"Make","272":"Model","305":"Software","315":"Artist","33432":"Copyright"},GPSTags=EXIF.GPSTags={"0":"GPSVersionID","1":"GPSLatitudeRef","2":"GPSLatitude","3":"GPSLongitudeRef","4":"GPSLongitude","5":"GPSAltitudeRef","6":"GPSAltitude","7":"GPSTimeStamp","8":"GPSSatellites","9":"GPSStatus","10":"GPSMeasureMode","11":"GPSDOP","12":"GPSSpeedRef","13":"GPSSpeed","14":"GPSTrackRef","15":"GPSTrack","16":"GPSImgDirectionRef","17":"GPSImgDirection","18":"GPSMapDatum","19":"GPSDestLatitudeRef","20":"GPSDestLatitude","21":"GPSDestLongitudeRef","22":"GPSDestLongitude","23":"GPSDestBearingRef","24":"GPSDestBearing","25":"GPSDestDistanceRef","26":"GPSDestDistance","27":"GPSProcessingMethod","28":"GPSAreaInformation","29":"GPSDateStamp","30":"GPSDifferential"},IFD1Tags=EXIF.IFD1Tags={"256":"ImageWidth","257":"ImageHeight","258":"BitsPerSample","259":"Compression","262":"PhotometricInterpretation","273":"StripOffsets","274":"Orientation","277":"SamplesPerPixel","278":"RowsPerStrip","279":"StripByteCounts","282":"XResolution","283":"YResolution","284":"PlanarConfiguration","296":"ResolutionUnit","513":"JpegIFOffset","514":"JpegIFByteCount","529":"YCbCrCoefficients","530":"YCbCrSubSampling","531":"YCbCrPositioning","532":"ReferenceBlackWhite"},StringValues=EXIF.StringValues={"ExposureProgram":{"0":"Not defined","1":"Manual","2":"Normal program","3":"Aperture priority","4":"Shutter priority","5":"Creative program","6":"Action program","7":"Portrait mode","8":"Landscape mode"},"MeteringMode":{"0":"Unknown","1":"Average","2":"CenterWeightedAverage","3":"Spot","4":"MultiSpot","5":"Pattern","6":"Partial","255":"Other"},"LightSource":{"0":"Unknown","1":"Daylight","2":"Fluorescent","3":"Tungsten (incandescent light)","4":"Flash","9":"Fine weather","10":"Cloudy weather","11":"Shade","12":"Daylight fluorescent (D 5700 - 7100K)","13":"Day white fluorescent (N 4600 - 5400K)","14":"Cool white fluorescent (W 3900 - 4500K)","15":"White fluorescent (WW 3200 - 3700K)","17":"Standard light A","18":"Standard light B","19":"Standard light C","20":"D55","21":"D65","22":"D75","23":"D50","24":"ISO studio tungsten","255":"Other"},"Flash":{"0":"Flash did not fire","1":"Flash fired","5":"Strobe return light not detected","7":"Strobe return light detected","9":"Flash fired, compulsory flash mode","13":"Flash fired, compulsory flash mode, return light not detected","15":"Flash fired, compulsory flash mode, return light detected","16":"Flash did not fire, compulsory flash mode","24":"Flash did not fire, auto mode","25":"Flash fired, auto mode","29":"Flash fired, auto mode, return light not detected","31":"Flash fired, auto mode, return light detected","32":"No flash function","65":"Flash fired, red-eye reduction mode","69":"Flash fired, red-eye reduction mode, return light not detected","71":"Flash fired, red-eye reduction mode, return light detected","73":"Flash fired, compulsory flash mode, red-eye reduction mode","77":"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected","79":"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected","89":"Flash fired, auto mode, red-eye reduction mode","93":"Flash fired, auto mode, return light not detected, red-eye reduction mode","95":"Flash fired, auto mode, return light detected, red-eye reduction mode"},"SensingMethod":{"1":"Not defined","2":"One-chip color area sensor","3":"Two-chip color area sensor","4":"Three-chip color area sensor","5":"Color sequential area sensor","7":"Trilinear sensor","8":"Color sequential linear sensor"},"SceneCaptureType":{"0":"Standard","1":"Landscape","2":"Portrait","3":"Night scene"},"SceneType":{"1":"Directly photographed"},"CustomRendered":{"0":"Normal process","1":"Custom process"},"WhiteBalance":{"0":"Auto white balance","1":"Manual white balance"},"GainControl":{"0":"None","1":"Low gain up","2":"High gain up","3":"Low gain down","4":"High gain down"},"Contrast":{"0":"Normal","1":"Soft","2":"Hard"},"Saturation":{"0":"Normal","1":"Low saturation","2":"High saturation"},"Sharpness":{"0":"Normal","1":"Soft","2":"Hard"},"SubjectDistanceRange":{"0":"Unknown","1":"Macro","2":"Close view","3":"Distant view"},"FileSource":{"3":"DSC"},"Components":{"0":"","1":"Y","2":"Cb","3":"Cr","4":"R","5":"G","6":"B"}},IptcFieldMap={"120":"caption","110":"credit","25":"keywords","55":"dateCreated","80":"byline","85":"bylineTitle","122":"captionWriter","105":"headline","116":"copyright","15":"category"};EXIF.enableXmp=function(){EXIF.isXmpEnabled=!0},EXIF.disableXmp=function(){EXIF.isXmpEnabled=!1},EXIF.getData=function(img,callback){return!((self.Image&&img instanceof self.Image||self.HTMLImageElement&&img instanceof self.HTMLImageElement)&&!img.complete)&&(imageHasData(img)?callback&&callback.call(img):getImageData(img,callback),!0)},EXIF.getTag=function(img,tag){if(imageHasData(img))return img.exifdata[tag]},EXIF.getIptcTag=function(img,tag){if(imageHasData(img))return img.iptcdata[tag]},EXIF.getAllTags=function(img){if(!imageHasData(img))return{};var a,data=img.exifdata,tags={};for(a in data)data.hasOwnProperty(a)&&(tags[a]=data[a]);return tags},EXIF.getAllIptcTags=function(img){if(!imageHasData(img))return{};var a,data=img.iptcdata,tags={};for(a in data)data.hasOwnProperty(a)&&(tags[a]=data[a]);return tags},EXIF.pretty=function(img){if(!imageHasData(img))return"";var a,data=img.exifdata,strPretty="";for(a in data)data.hasOwnProperty(a)&&("object"==typeof data[a]?data[a]instanceof Number?strPretty+=a+" : "+data[a]+" ["+data[a].numerator+"/"+data[a].denominator+"]\r\n":strPretty+=a+" : ["+data[a].length+" values]\r\n":strPretty+=a+" : "+data[a]+"\r\n");return strPretty},EXIF.readFromBinaryFile=function(file){return findEXIFinJPEG(file)},"function"==typeof define&&define.amd&&define("exif-js",[],(function(){return EXIF}))}.call(this),function(){this.app={},this.lib={},window.native_confirm=window.confirm,window.confirm=function(msg){return $.when(app.window.send_confirm_message(msg))},window.initEventHandlers=function($target){return $target.find(".autogrow").each((function(k,v){var $v;if(($v=$(v)).val()&&$v.val()!==$v.attr("placeholder"))return lib.ui_util.autogrow($v)}))},$(document).ready((function(){var $document,$html;return $document=$(this),lib.browser.is_in_iframe()?(lib.history=new IframeHistory,app.window=new PcIframeWindow,app.translator=new IframeTranslationManager):(lib.history=new BrowserHistory,app.window=new PcBrowserWindow,app.translator=new BrowserTranslationManager),app.main=new app.PcMain,$("html").hasClass("no-placeholder")&&$(document).on("history:updated",(function(e,element){return $(element).find("input[placeholder], textarea[placeholder]").placeholder()})),$(document).trigger("app:loaded"),$html=$("html"),initEventHandlers($html),$document.delegate(".autogrow",lib.ui_util.textchange_events,(function(e){return lib.ui_util.autogrow($(e.target))}))}))}.call(this),function(){this.AbstractHistory=function(){function AbstractHistory(){}return AbstractHistory.prototype.enter_initial_state=function(controller,action,args){return $(document).on("app:loaded",(_this=this,function(){return _this.enter_state(controller,action,args),_this.updated(document)}));var _this},AbstractHistory.prototype.enter_state=function(controller,action,args){return lib.state_machine.enter_state(controller+"_"+action,args)},AbstractHistory}()}.call(this),function(){var AjaxUtil;AjaxUtil=function(){function AjaxUtil(){var rails_remote_selectors,self;this.request_id=0,this.ajax_requests={},self=this,rails_remote_selectors=$.rails.linkClickSelector+", "+$.rails.formSubmitSelector,$(document).on("ajax:beforeSend",rails_remote_selectors,(function(e,xhr,settings){return self.on_ajax_request($(this),e,xhr,settings)})),$(document).on("ajax:remotipartSubmit",$.rails.formSubmitSelector,(function(e,xhr,settings){return self.on_ajax_request($(this),e,xhr,settings)})),this.patch_ajax(),this.clear_aloading()}return AjaxUtil.prototype.generate_request_id=function(){return this.request_id+=1},AjaxUtil.prototype.on_ajax_request=function($link,e,xhr,settings){var on_complete,org_success,request_id;if($link.data("ajax-request"))return!1;$link.data("ajax-request",!0),request_id=this.generate_request_id(),this.ajax_requests[request_id]=!0,on_complete=function(){return $link.removeData("ajax-request"),delete lib.ajax_util.ajax_requests[request_id]},org_success=settings.success,settings.success=function(data,status,xhr){return on_complete(),org_success(data,status,xhr)},$link.one("error",(function(){return on_complete()})),$link.one("ajax:stop",(function(){return on_complete()})),$link.one("ajax:error",(function(e,xhr,status){var message;if(0!==xhr.status&&"error"===status&&!xhr.responseText){switch(xhr.status){case 403:message=lib.i18n.t("error_403");break;case 404:message=lib.i18n.t("error_404");break;case 422:message=lib.i18n.t("error_422");break;default:message=lib.i18n.t("error_etc")}lib.error.growl(message)}return on_complete(),$link.unbind("ajax:success")}))},AjaxUtil.prototype.is_in_progress=function(){return Object.keys(this.ajax_requests).length>0},AjaxUtil.prototype.patch_ajax=function(){var org_ajax,_this;return org_ajax=$.ajax,$.ajax=(_this=this,function(url,options){return"object"==typeof url?url.url=_this.patch_options(url.url,url):url=_this.patch_options(url,options),org_ajax(url,options)})},AjaxUtil.prototype.patch_options=function(url,options){var $aloading,aloading,loading_query,org_complete,url_builder;return(aloading=(url_builder=new UrlBuilder(url)).param("aloading"))&&(url_builder.remove_param("aloading"),loading_query="true"===aloading?url_builder.param("atarget"):aloading,($aloading=$(loading_query)).addClass("aloading"),url=url_builder.build()),org_complete=options.complete,options.complete=function(jqXHR,textStatus){return $aloading&&$aloading.removeClass("aloading"),!org_complete||org_complete(jqXHR,textStatus)},url},AjaxUtil.prototype.clear_aloading=function(){return $(document).on("history:loaded",(function(){return $(".aloading").removeClass("aloading")}))},AjaxUtil}(),this.lib.ajax_util=new AjaxUtil}.call(this),function(){var Animation;Animation=function(){function Animation(){this.enabled=Modernizr.cssanimations,this.ease_out=$.bez([0,0,.58,1])}var get_duration;return get_duration=function(args){var milliseconds;switch(args.duration||(args.duration="middle"),args.duration){case"short":
milliseconds=150;break;case"middle":milliseconds=300;break;case"long":milliseconds=450;break;default:milliseconds=args.duration}return milliseconds},Animation.prototype.fade_in=function(e,args){return null==args&&(args={}),this.animate(e,"fade-in",args)},Animation.prototype.fade_out=function(e,args){return null==args&&(args={}),this.animate(e,"fade-out",args)},Animation.prototype.slide_up=function(e,args){return null==args&&(args={}),this.animate(e,"slide-up",args)},Animation.prototype.slide_down=function(e,args){return null==args&&(args={}),this.animate(e,"slide-down",args)},Animation.prototype.height_down_v2=function(e,args){var $e;return null==args&&(args={}),$e=$(e),this.start_animating($e),$e.animate({"opacity":0},50,"linear",(function(){return $e.css({"height":$e.outerHeight()}),$e.animate({"height":0},200,this.ease_out,(function(){if($e.css({"opacity":"","height":""}),lib.animation.finish_animating($e),args.complete)return args.complete.call(e)}))}))},Animation.prototype.height_up_v2=function(e,args){var $e,natural_height;return null==args&&(args={}),$e=$(e),this.start_animating($e),natural_height=$e.outerHeight(),$e.css({"height":0,"opacity":0}),$e.animate({"height":natural_height},200,this.ease_out,(function(){return $e.css({"height":""}),$e.animate({"opacity":1},50,"linear",(function(){if($e.css({"opacity":""}),lib.animation.finish_animating($e),args.complete)return args.complete.call(e)}))}))},Animation.prototype.height_down=function(e,args){var $e;return null==args&&(args={}),"function"==typeof args&&(args={"complete":args}),$e=$(e),this.start_animating($e),this.enabled?($e.css({"opacity":1}),setTimeout((function(){return $e.addClass("anim anim-all short"),setTimeout((function(){return $e.css({"opacity":0}),setTimeout((function(){return $e.removeClass("anim short"),$e.css({"height":$e.outerHeight(),"boxSizing":"border-box","border":"none","padding":"0","margin":"0"}),lib.animation.force_refresh($e),setTimeout((function(){return $e.addClass("anim middle"),$e.css({"height":0}),setTimeout((function(){if($e.removeClass("anim anim-all middle"),$e.css({"opacity":"","height":"","boxSizing":"","border":"","padding":"","margin":""}),lib.animation.finish_animating($e),args.complete)return args.complete.call(e)}),300)}),10)}),150)}),0)}),0)):$e.animate({"opacity":0},150,"linear",(function(){return $e.css({"height":$e.outerHeight(),"boxSizing":"border-box","border":"none","padding":"0"}),setTimeout((function(){return $e.animate({"height":0},300,this.ease_out,(function(){if($e.css({"opacity":"","height":"","boxSizing":"","border":"","padding":""}),lib.animation.finish_animating($e),args.complete)return args.complete.call(e)}))}),100)}))},Animation.prototype.height_up=function(e,args){var $e,natural_height;return null==args&&(args={}),$e=$(e),this.start_animating($e),natural_height=$e.outerHeight(),$e.css({"opacity":0,"height":0,"boxSizing":"border-box","border":"none","padding":"0","margin":"0"}),this.enabled?setTimeout((function(){return $e.addClass("anim anim-all middle"),setTimeout((function(){return $e.css({"height":natural_height}),setTimeout((function(){return $e.removeClass("anim middle"),$e.css({"height":"","boxSizing":"","border":"","padding":"","margin":""}),lib.animation.force_refresh($e),setTimeout((function(){return $e.addClass("anim short"),setTimeout((function(){return $e.css({"opacity":1}),setTimeout((function(){if($e.removeClass("anim anim-all short"),$e.css({"opacity":""}),lib.animation.finish_animating($e),args.complete)return args.complete.call(e)}),150)}),10)}),10)}),300)}),10)}),10):$e.animate({"height":natural_height},300,this.ease_out,(function(){return setTimeout((function(){return $e.animate({"opacity":1},150,"linear",(function(){if($e.css({"opacity":"","height":"","boxSizing":"","border":"","padding":""}),lib.animation.finish_animating($e),args.complete)return args.complete.call(e)}))}),100)}))},Animation.prototype.css=function(e,args){var $e;return null==args&&(args={}),$e=$(e),args.from_css&&$e.css(args.from_css),this.enabled?this.animate($e,null,{"duration":"middle","start":function(){return $e.css(args.to_css)},"complete":args.complete}):$e.animate(args.to_css,300,this.ease_out,args.complete)},Animation.prototype.animate=function(e,type,args){var $e,anim_type,timer;return null==args&&(args={}),this.enabled?(args.duration||(args.duration="middle"),$e=$(e),this.start_animating($e),(timer=$e.data("anim-timer"))&&(clearTimeout(timer),$e.removeClass("anim"),null!=(anim_type=$e.data("anim-type"))&&$e.removeClass(anim_type)),$e.addClass(args.duration),args.easing&&$e.addClass(args.easing),type&&($e.addClass(type),$e.data("anim-type",type)),$e.data("anim-timer",setTimeout((function(){return $e.addClass("anim"),args.start&&args.start(),$e.data("anim-timer",setTimeout((function(){if($e.data("anim-timer",null),$e.data("anim-type",null),$e.removeClass("anim").removeClass(type).removeClass(args.duration),args.easing&&$e.removeClass(args.easing),lib.animation.finish_animating($e),args.complete)return args.complete()}),get_duration(args)))}),0))):args.complete?args.complete():void 0},Animation.prototype.start_animating=function($e){return $e.data("animating",!0)},Animation.prototype.finish_animating=function($e){return $e.removeData("animating")},Animation.prototype.is_animating=function(e){return null!=$(e).data("animating")},Animation.prototype.force_refresh=function($e){return $e.get(0).offsetHeight},Animation}(),lib.animation=new Animation}.call(this),function(){this.Browser=function(){function Browser(){var _this;this.is_android=$.browser.android,this.is_ipad=$("body").hasClass("ipad"),this.is_ios=this.is_iphone()||this.is_ipad,this.set_iphone_model(),this.is_ie=/msie/i.test(navigator.userAgent)||/Trident/i.test(navigator.userAgent),this.version_number=$.browser.versionNumber,this.ie_document_mode=document.documentMode,this.url=$.url(window.location.href),setTimeout((_this=this,function(){if(_this.supports_file_reader()||$("html").addClass("no-file-reader"),"msie"===$.browser.name)return document.documentMode?$("html").addClass("document-mode-"+document.documentMode):$("html").addClass("document-mode-"+parseInt($.browser.version))}),0)}return Browser.prototype.supports_history=function(){return window.history&&window.history.replaceState},Browser.prototype.supports_file_reader=function(){return("powerapps"===this.app_builder_type()||"smartapp"===this.app_builder_type()||"moflyapps"===this.app_builder_type()||"hybridshop"===this.app_builder_type())&&4===parseFloat(this.android_os_version())||!(navigator.userAgent.match(/Nexus\ S/)||navigator.userAgent.match(/Galaxy\ Nexus/)||navigator.userAgent.match(/Android 4.0/)||navigator.userAgent.match(/LG-F200S/)||navigator.userAgent.match(/IM-A870S/))&&(!this.is_ie||("msie"!==$.browser.name||11===$.browser.versionNumber&&11===document.documentMode&&!navigator.userAgent.match(/MSIE\ 7\.0/)))},Browser.prototype.supports_opacity=function(){return!this.is_ie||document.documentMode>=9},Browser.prototype.is_in_iframe=function(){return window.self!==window.top},Browser.prototype.set_iphone_model=function(){var $body;if($body=$("body"),this.is_iphone())switch(window.screen.height){case 480:return $body.addClass("iphone-before-5");case 568:return $body.addClass("iphone-5");case 667:return $body.addClass("iphone-6");case 736:return $body.addClass("iphone-6-plus")}},Browser.prototype.android_os_version=function(){var hit;if(hit=navigator.userAgent.match(/Android (\d+(?:\.\d+)+);/))return hit[1]},Browser.prototype.is_kitkat=function(){return 4.4===parseFloat(this.android_os_version())},Browser.prototype.is_iphone=function(){return $("body").hasClass("iphone")},Browser.prototype.app_builder_type=function(){return lib.data.get("app-builder-type")},Browser.prototype.supports_fixed_position=function(){var android_agent;return(!this.is_ie||!(this.ie_document_mode<=7||void 0===this.ie_document_mode))&&!((android_agent=navigator.userAgent.match(/Android ([0-9])\.([0-9])/))&&parseFloat(android_agent[1]+"."+android_agent[2])<4.3)},Browser.prototype.supports_media_query=function(){return!this.is_ie||this.ie_document_mode>=9},Browser.prototype.supports_pop_state=function(){return!(this.is_ios&&"byapps"===this.app_builder_type())},Browser.prototype.is_mobile=function(){return"mobile"===lib.data.get("device")},Browser}(),lib.browser=new Browser}.call(this),function(){var Data;Data=function(){function Data(){}return Data.prototype.get=function(data_type){var result;return void 0===(result=$("body").data(data_type))&&(result=$("#data").data(data_type)),result},Data.prototype.set=function(key,value){return $("body").data(key,value)},Data.prototype.get_resource_id=function($tag){var id;return(id=$tag.attr("id")).slice(id.lastIndexOf("_")+1)},Data}(),this.lib.data=new Data}.call(this),function(){var Grid,GridAlignedItemAppender,GridPinterestItemAppender;GridPinterestItemAppender=function(){function GridPinterestItemAppender(columns){var j,len,ref;for(this.columns=columns,j=0,len=(ref=this.columns).length;j<len;j++)ref[j].height=0}return GridPinterestItemAppender.prototype.append_item=function(item){var column;return(column=this.get_smallest_column()).element.append(item),column.height+=item.clientHeight},GridPinterestItemAppender.prototype.get_smallest_column=function(){var column,i,j,ref,result;for(result=this.columns[0],i=j=1,ref=this.columns.length;j<ref;i=j+=1)(column=this.columns[i]).height<result.height&&(result=column);return result},GridPinterestItemAppender}(),GridAlignedItemAppender=function(){function GridAlignedItemAppender(columns){this.columns=columns,this.cleanup_row()}return GridAlignedItemAppender.prototype.append_item=function(item){var j,len,ref,row_item;if(this.columns[this.current_row.length].element.append(item),this.maximum_row_height=Math.max(this.maximum_row_height,item.clientHeight),this.current_row.push(item),this.current_row.length===this.columns.length){for(j=0,len=(ref=this.current_row).length;j<len;j++)row_item=ref[j],$(row_item).height(this.maximum_row_height);return this.cleanup_row()}},GridAlignedItemAppender.prototype.cleanup_row=function(){return this.current_row=[],this.maximum_row_height=0},GridAlignedItemAppender}(),Grid=function(){function Grid(){}return Grid.prototype.initialize=function($container){var columns,create_columns,item_appender_class;return!$container.data("grid-initialized")&&(create_columns=function(){var $column,col,columns,columns_class,columns_count,j,ref,width;for(columns=[],columns_count=$container.data("columns-count"),columns_class=$container.data("column-class"),width=.1*Math.round(1e3/columns_count),lib.browser.is_ie&&(lib.browser.ie_document_mode<=7||lib.browser.version_number<=7)&&(width-=.1),width+="%",col=j=0,ref=columns_count;j<ref;col=j+=1)($column=$("<div></div>")).addClass(columns_class),$column.addClass(columns_class+"_"+col),$column.css({"width":width}),$container.append($column),columns.push({"element":$column});return columns},columns=create_columns(),item_appender_class=$container.data("align-row")?GridAlignedItemAppender:GridPinterestItemAppender,this.item_appender=new item_appender_class(columns),this.item_class=$container.data("item-class"),$container.attr("data-grid-initialized",!0))},Grid.prototype.gridify=function($container){var $items;if(this.initialize($container))return $items=$container.find("."+this.item_class),this.append($items)},Grid.prototype.append=function($items){return this.is_ready($items)?this.do_append($items):setTimeout((_this=this,function(){return _this.append($items)}),100);var _this},Grid.prototype.do_append=function($items){var _this;return $items.each((_this=this,function(i,e){return _this.item_appender.append_item(e)})),$items.addClass(this.item_class+"--visible"),lib.animation.fade_in($items),$(document).trigger("grid:appended",{"elements":$items})},Grid.prototype.is_ready=function($items){var is_background_image,result;return is_background_image=function(e){return e.src.match(/m\/widgets\/transparent\.png/)},result=!0,$items.find("img").each((function(i,e){if(!is_background_image(e))return result=e.complete&&e.clientHeight})),result},Grid}(),lib.grid=new Grid,$(document).on("history:updated",(function(e,element){var $grid;if(($grid=$(element).find(".grid")).length)return lib.grid.gridify($grid)}))}.call(this),function(){var I18n;I18n=function(){function I18n(){this.$translation=$("#i18n")}return I18n.prototype.t=function(key,args){var k,result,v;for(k in null==args&&(args={}),result=this.$translation.attr("data-"+key.replace(/_/g,"-")),args)v=args[k],result=result.replace("%{"+k+"}",v);return result},I18n}(),lib.i18n=new I18n}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;this.IframeHistory=function(superClass){function IframeHistory(){this.current_url=window.location.href,this.enter_initial_state(lib.data.get("controller"),lib.data.get("action"),{"request":{"xhr":!1},"elements":$(document)})}return extend(IframeHistory,superClass),IframeHistory.prototype.push=function(args){var $body,$element,$elements,element,elements,html,old_action,old_controller,ref;if(null!=args.url&&(this.current_url=args.url),null!=args.title&&(args.title||(args.title=lib.data.get("org-title")),document.title=args.title),null!=args.controller&&null!=args.action&&(old_controller=($body=$("body")).data("controller"),old_action=$body.data("action"),null!=old_controller&&null!=old_action&&(lib.state_machine.exit_state(old_controller+"_"+old_action,args.controller+"_"+args.action),$body.removeClass(old_controller).removeClass(old_action)),$body.addClass(args.controller).data("controller",args.controller).addClass(args.action).data("action",args.action)),null!=args.scrollTop&&$(window).scrollTop(args.scrollTop),$elements=$(),null!=args.updates)for(element in ref=args.updates)html=ref[element],$element=$(element).html(html),$elements=$elements.add($element);if(null!=args.update_callback&&(elements=args.update_callback())instanceof jQuery&&($elements=$elements.add(elements)),$elements.length||($elements=$elements.add($(document))),this.updated($elements),null!=args.controller&&null!=args.action)return this.enter_state(args.controller,args.action,{"request":{"xhr":!0},"elements":$elements})},IframeHistory.prototype.updated=function(e){return $(document).trigger("history:updated",[e])},IframeHistory.prototype.replace=function(){return $(document).trigger("history:updated",document)},IframeHistory.prototype.back=function(){return app.window.post("back")},IframeHistory.prototype.get_current_url=function(){return this.current_url},IframeHistory}(AbstractHistory)}.call(this),function(){var InfiniteScroll;InfiniteScroll=function(){function InfiniteScroll(){this.enabled=!1}return InfiniteScroll.prototype.start=function(){var $scroll_container;if(!this.enabled&&("none"===($scroll_container=$(".infinite_scroll").parent()).css("display")&&($scroll_container.css({"visibility":"hidden"}),$scroll_container.show()),this.set_enabled(!0),!lib.data.get("no-auto-scroll")))return this.bind_scroll(),this.check_scrolls()},InfiniteScroll.prototype.bind_scroll=function(){var _this;return $(window).scroll((_this=this,function(){return _this.check_scrolls()})),this.popup_contents_type()&&$(document).on("touchstart touchmove touchend touchcancel mousewheel",function(_this){return function(){return _this.check_scrolls()}}(this)),$(document).on("history:updated",function(_this){return function(){return setTimeout((function(){return _this.check_scrolls()}),100)}}(this))},InfiniteScroll.prototype.check_scrolls=function(){var _this;if(this.enabled&&!$("body").is(":hidden"))return $(".infinite_scroll").each((_this=this,function(_i,e){return _this.check_scroll($(e))}))},InfiniteScroll.prototype.check_scroll=function($infinite_scroll){if(app.window&&$infinite_scroll.hasClass("infinite_scroll--autoscroll")&&!$infinite_scroll.hasClass("infinite_scroll--loading")&&!$infinite_scroll.hasClass("infinite_scroll--no_more_data"))if($infinite_scroll.data("reverse")){if(0===this.previous_scroll_bottom())return this.fetch($infinite_scroll)}else if($infinite_scroll.offset().top<=this.next_scroll_top())return this.fetch($infinite_scroll)},InfiniteScroll.prototype.fetch=function($infinite_scroll){var $link,url_builder;return $infinite_scroll.addClass("infinite_scroll--loading"),$link=$infinite_scroll.find("a"),(url_builder=new UrlBuilder($link.attr("href")||$link.data("href"))).add_param("aloading",".page"),$.getScript(url_builder.build())},InfiniteScroll.prototype.previous_scroll_bottom=function(){return void 0===app.window.get_scroll_top()?$(window).scrollTop():app.window.get_scroll_top()},InfiniteScroll.prototype.next_scroll_top=function(){return this.popup_contents_type()?$(".target-contents-popup").height()+100:void 0===app.window.get_scroll_top()?$(window).scrollTop()+(app.window.get_height({"use_default":!1})||$(window).height())+100:app.window.get_scroll_top()+app.window.get_height()+100},InfiniteScroll.prototype.popup_contents_type=function(){var target_popup;return(target_popup=$(".js-target-popup"))&&target_popup.data("popup-contents-type")},InfiniteScroll.prototype.prepend=function($container,$content){var $first_child,current_offset;return current_offset=($first_child=$container.children().first()).offset().top-$(window).scrollTop(),$container.prepend($content),lib.history.updated($content),$(window).scrollTop($first_child.offset().top-current_offset),$(document).trigger("infinite_scroll:prepended",[$content])},InfiniteScroll.prototype.append=function($container,$content){return $container.append($content),lib.history.updated($content),$(document).trigger("infinite_scroll:appended",[$content])},InfiniteScroll.prototype.complete=function(current_url,next_url){var $infinite_scroll,$link;return($infinite_scroll=$(".infinite_scroll.infinite_scroll--loading")).removeClass("infinite_scroll--loading"),next_url?(($link=$infinite_scroll.find("a")).data("href")?$link.data("href",next_url):$link.attr("href",next_url),this.check_scrolls()):$infinite_scroll.addClass("infinite_scroll--no_more_data"),lib.history.replace({"title":document.title,"url":current_url})},InfiniteScroll.prototype.set_enabled=function(enabled){return this.enabled=enabled},InfiniteScroll}(),lib.infinite_scroll=new InfiniteScroll,$(document).on("history:updated",(function(e,element){var $infinite_scrolls;if(($infinite_scrolls=$(element).find(".infinite_scroll")).length)return setTimeout((function(){return lib.infinite_scroll.start()}),1e3),$infinite_scrolls.find("a").on("ajax:before",(function(){return $infinite_scrolls.addClass("infinite_scroll--loading")}))}))}.call(this),function(){var NumberUnitFormatter;NumberUnitFormatter=function(){function NumberUnitFormatter(){this.ko_units=[{"value":1,"unit":""},{"value":1e3,"unit":"\ucc9c"},{"value":1e4,"unit":"\ub9cc"}].reverse(),this.en_units=[{"value":1,"unit":""},{"value":1e3,"unit":"K"},{"value":1e6,"unit":"M"}].reverse()}return NumberUnitFormatter.prototype.number_with_unit=function(number,digits){var discarded_number,i,index,len,number_divided_by_unit_value,number_of_digits,selected_unit_map,unit_map,units_map;if(isNaN(number))return number;if(digits<0||number<0)return number;for(number=parseInt(number),selected_unit_map=null,index=i=0,len=(units_map="ko-KR"===this.brand_locale()?this.ko_units:this.en_units).length;i<len&&(selected_unit_map=unit_map=units_map[index],!(number>=unit_map.value));index=++i);return number_divided_by_unit_value=number/selected_unit_map.value,number_of_digits=Math.pow(10,digits),discarded_number=Math.floor(number_divided_by_unit_value*number_of_digits)/number_of_digits,parseFloat(discarded_number.toFixed(digits))+selected_unit_map.unit},NumberUnitFormatter.prototype.brand_locale=function(){return $("body").attr("lang")},NumberUnitFormatter}(),lib.number_unit_formatter=new NumberUnitFormatter}.call(this),function(){var OptionType;OptionType=function(){function OptionType(){var _this;$(document).on("click",".js-link-option-type",(_this=this,function(e){var $dropdown_menu,$option_type,is_selected;if($option_type=$(e.target).closest(".js-search-option-type"),$dropdown_menu=$option_type.find(".js-search-dropdown-menu"),is_selected=$option_type.hasClass("selected"),_this.close_dropdown_menu(),!is_selected)return $option_type.addClass("selected"),$dropdown_menu.show(),lib.animation.fade_in($dropdown_menu,{"complete":function(){return $dropdown_menu.find("li.selected").focus(),$dropdown_menu.find("input:checked").focus()}}),$(document).on("click",_this.on_click_screen)})),$(document).on("change",".js-checkbox-option-search, .js-input-option-value-search",function(_this){return function(e){var key,value;return key=$(e.target).attr("name"),value=$("input[name='"+key+"']:checked").map((function(){return $(this).val()})).get().join(","),_this.filter(key,value)}}(this)),$(document).on("keydown",".js-input-review-option-search",function(_this){return function(e){if(13===e.keyCode)return _this.search($(e.target))}}(this)),$(document).on("click",".js-link-review-options-search",function(_this){return function(e){return _this.search($(e.target).parent().find("input"))}}(this)),$(document).on("click",".js-product_options-dropdown-search",function(_this){return function(e){var $input,key,value;return key=($input=$(e.currentTarget)).data("name"),value=$input.data("value"),_this.filter(key,value)}}(this))}return OptionType.prototype.search=function($input){var key,value;return key=$input.attr("name"),value=$input.val(),this.filter(key,value)},OptionType.prototype.filter=function(key,value){var url_builder;return(url_builder=new UrlBuilder(lib.history.get_current_url())).remove_param("page").add_param("atarget","reviews").add_param("aloading",".page"),value?url_builder.add_param(key,value):url_builder.remove_param(key),$.getScript(url_builder.build())},OptionType.prototype.close_dropdown_menu=function(){return $(document).off("click",this.on_click_screen),$(".js-search-option-type.selected").each((function(i,e){var $dropdown_menu,$option_type;return($option_type=$(e)).removeClass("selected"),$dropdown_menu=$option_type.find(".js-search-dropdown-menu"),lib.animation.fade_out($dropdown_menu,{"complete":function(){return $dropdown_menu.hide()}})}))},OptionType.prototype.on_click_screen=function(e){if(0===$(e.target).closest(".js-search-option-types").length)return app.option_type.close_dropdown_menu()},OptionType}(),app.option_type=new OptionType}.call(this),function(){var checked,postMessage;postMessage=function(event){return $.postMessage(event,lib.data.get("parent-url"),parent)},checked=function(element,type){var $like_action,like_action_class;return like_action_class=($like_action=$(element).closest(".js-like-action")).data("like-action-class")||"review_like_action",$like_action.hasClass(like_action_class+"--"+type)},$(document).on("click",".js-link-like",(function(){var liked;return liked=checked(this,"liked"),postMessage((liked?"cancel_":"")+"like_review")})),$(document).on("click",".js-link-unlike",(function(){var unliked;return unliked=checked(this,"unliked"),postMessage((unliked?"cancel_":"")+"unlike_review")})),$(document).on("click",".js-link-photo-reviews",(function(){var filtered;return filtered=!$(this).hasClass("selected"),postMessage((filtered?"cancel_":"")+"filter_photo_review_in_product_reviews")})),$(document).on("click",".product_score__photo_link",(function(){return postMessage("click_review_of_product_score")})),$(document).on("click",".pagination__button",(function(){return postMessage("click_page_button")})),$(document).on("click",".photo_thumbnail_box__front_photo, .products_reviews_list_review__image, .products_reviews_board_review__image",(function(){return postMessage("click_review_of_product_reviews")})),$(document).on("click",".products_reviews_summary_thumbnail_small_with_score__item, .products_reviews_summary_thumbnail_small_without_score__thumbnail",(function(){return postMessage("click_review_in_summary_of_product_reviews")}))}.call(this),function(){var Scroll;Scroll=function(){function Scroll(){var _this;this.locked_at=null,this.c=$("#content"),this.scroll_top=$(window).scrollTop(),$(window).scroll((_this=this,function(){return _this.scroll_top=$(window).scrollTop()})),this.apply_scroll_top(),this.apply_scroll_to_element()}return Scroll.prototype.lock=function(){return this.locked_at=$(window).scrollTop(),this.c.addClass("scroll-fixed").css({"top":-this.locked_at,"height":this.locked_at+window.innerHeight}),$(window).scrollTop(0),$(window).on("resize.scroll",(_this=this,function(){return _this.c.height(_this.locked_at+window.innerHeight)}));var _this},Scroll.prototype.unlock=function(){return this.c.removeClass("scroll-fixed").css({"top":"","height":""}),window.scrollTo(0,this.locked_at),$(window).off("resize.scroll"),this.locked_at=null},Scroll.prototype.apply_scroll_top=function(){var scroll_top;if(null!=(scroll_top=this.scroll_top_in_parent_url()))return $(window).load((function(){return app.window.scroll_to(scroll_top)}))},Scroll.prototype.apply_scroll_to_element=function(){var scroll_to;if(null!=(scroll_to=lib.data.get("scroll-to")))return $(window).load((function(){return app.window.scroll_to($(scroll_to).offset().top),$(scroll_to).effect("highlight",{"color":"#ffffd4","duration":5e3})}))},Scroll.prototype.scroll_top_in_parent_url=function(){var parent_url;return parent_url=lib.data.get("parent-url"),new UrlBuilder(parent_url).param(lib.data.get("iframe-id")+"-scroll_top")},Scroll}(),lib.Scroll=Scroll}.call(this),function(){$(document).on("history:updated",(function(e,element){var $el,$wrapper_element,args,enable_autoscroll,enable_center_insufficient_slides,enable_centered_slide,enable_loop,enable_pagination_fraction,img_class,loop_fill_group_with_blank,margin_between_posts,posts_per_page,slide_index,slides_offset_after,slides_per_group,slides_per_view,swiper,swiper_slide_width,touchable,_this;if(!(lib.browser.is_ie&&lib.browser.ie_document_mode<=9)&&0!==($wrapper_element=($el=$(element)).find(".swiper-wrapper")).length)return margin_between_posts=$wrapper_element.data("fixed-margin")||.02*$wrapper_element.width(),posts_per_page=$wrapper_element.data("posts-per-page"),enable_loop=$wrapper_element.data("enable-loop"),enable_autoscroll=$wrapper_element.data("enable-autoscroll"),enable_pagination_fraction=$wrapper_element.data("enable-pagination-fraction"),enable_centered_slide=$wrapper_element.data("enable-centered-slide"),enable_center_insufficient_slides=$wrapper_element.data("enable-center-insufficient-slides"),slide_index=$wrapper_element.data("slide-index")||0,slides_offset_after=null!=enable_pagination_fraction?0:8,slides_per_view=$wrapper_element.data("slides-per-view")||"auto",slides_per_group=$wrapper_element.data("slides-per-group")||1,touchable=$wrapper_element.data("touchable"),loop_fill_group_with_blank=$wrapper_element.data("fill-group-with-blank"),null!=posts_per_page?swiper_slide_width=1===posts_per_page?"90%":Math.round(105/posts_per_page)+"%":(img_class=$wrapper_element.data("img-class"),swiper_slide_width=$el.find("."+img_class).attr("width")),$el.find(".swiper-slide").css({"width":swiper_slide_width}),args={"allowTouchMove":touchable,"direction":"horizontal","slidesPerView":slides_per_view,"slidesPerGroup":slides_per_group,"spaceBetween":margin_between_posts,"slidesOffsetAfter":slides_offset_after,"initialSlide":slide_index,"centerInsufficientSlides":!!enable_center_insufficient_slides,"centeredSlides":!!enable_centered_slide,"navigation":{"nextEl":".js-swiper-button-next","prevEl":".js-swiper-button-prev"},"loop":!!enable_loop,"loopFillGroupWithBlank":!!loop_fill_group_with_blank,"watchSlidesVisibility":!0,"watchSlidesProgress":!0},enable_autoscroll&&(args.autoplay={"delay":3e3,"disableOnInteraction":!1}),enable_pagination_fraction&&(args.pagination={"el":".swiper-pagination","type":"fraction"}),this.using_slides_per_view="auto"!==slides_per_view,(swiper=new Swiper(".swiper-container",args)).on("slideChange",(_this=this,function(){if(lib.browser.is_ios&&swiper.update(),_this.using_slides_per_view)return $(".swiper-slide-visible").find("video").css("visibility","visible"),$(".swiper-slide").not(".swiper-slide-visible").find("video").css("visibility","hidden")}))}))}.call(this),function(){var Toggle,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Toggle=function(){function Toggle($el,arg){var init,option,ref;init=(ref=null!=arg?arg:{}).init,option=ref.option,null==init&&(init=!0),this.$el=$el,this.is_on=init,this.option=option}return Toggle.prototype.toggle=function(){return this.is_on?(this.off(),this.is_on=!1):(this.on(),this.is_on=!0)},Toggle}(),this.DisplayToggle=function(superClass){function DisplayToggle(){return DisplayToggle.__super__.constructor.apply(this,arguments)}return extend(DisplayToggle,superClass),DisplayToggle.prototype.on=function(arg){var fade,ref,_this;return fade=null==(ref=(null!=arg?arg:{}).fade)||ref,this.option||!fade?this.$el.removeClass("hidden"):lib.animation.fade_in(this.$el,{"complete":(_this=this,function(){return _this.$el.removeClass("hidden")})}),this.is_on=!0},DisplayToggle.prototype.off=function(arg){var fade,ref,_this;return fade=null==(ref=(null!=arg?arg:{}).fade)||ref,this.option||!fade?this.$el.addClass("hidden"):lib.animation.fade_out(this.$el,{"complete":(_this=this,function(){return _this.$el.addClass("hidden")})}),this.is_on=!1},DisplayToggle}(Toggle),this.HeightToggle=function(superClass){function HeightToggle($el,arg){var off_callback,ref;(ref=null!=arg?arg:{}).init,ref.option,off_callback=ref.off_callback,HeightToggle.__super__.constructor.apply(this,arguments),this.original_height=$el.outerHeight(),this.off_callback=off_callback}return extend(HeightToggle,superClass),HeightToggle.prototype.on=function(){return this.$el.stop().animate({"height":this.option.outerHeight()},(_this=this,function(){return _this.$el.css("height","max-content")}));var _this},HeightToggle.prototype.off=function(){return this.$el.stop().animate({"height":this.original_height},this.off_callback)},HeightToggle}(Toggle)}.call(this),function(){var UIUtil;UIUtil=function(){function UIUtil(){this.textchange_events="keyup.textchange cut.textchange paste.textchange input.textchange change.textchange"}return UIUtil.prototype.autogrow=function($target){var times;return $target[0].shadow||($target[0].autogrow_width=$target.width(),$target[0].minHeight=$target.data("min-height")||$target.height(),$target[0].shadow=$("<div></div>").css({"position":"absolute","top":-1e4,"left":-1e4,"width":$target.width()-parseInt($target.css("paddingLeft"))-parseInt($target.css("paddingRight")),"fontSize":$target.css("fontSize"),"fontFamily":$target.css("fontFamily"),"lineHeight":$target.css("lineHeight"),"resize":"none","wordWrap":"break-word"}).appendTo(document.body)),$target[0].autogrow_width!==$target.width()&&$target[0].shadow.width($target.width()-parseInt($target.css("paddingLeft"))-parseInt($target.css("paddingRight"))),times=function(string,number){var j,r,ref;for(r="",j=0,ref=number;0<=ref?j<=ref:j>=ref;0<=ref?++j:--j)r+=string;return r},val=$target[0].value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n$/,"<br/>&nbsp;").replace(/\n/g,"<br/>").replace(/ {2,}/g,(function(space){return times("&nbsp;",space.length-1)+" "})),$target[0].shadow.html(val),$target.css("height",Math.max($target[0].shadow.height(),$target[0].minHeight)),!0},UIUtil.prototype.on_load=function($target,callback){var finished,interval_id,loaded;if($target.length)return $target[0].complete?callback():(interval_id=null,loaded=!1,finished=function(){if(!loaded)return loaded=!0,callback(),clearInterval(interval_id),interval_id=null},interval_id=setInterval((function(){if($target[0].complete)return finished()}),400),$target.one("load",(function(){return finished()})),$target.one("error",(function(){return finished()})))},UIUtil.prototype.set_waiting=function($element){var $loading_indicator;return $loading_indicator=$("<img class='loader'>").attr("src",lib.data.get("loader-url")),$element.append($loading_indicator)},UIUtil.prototype.clear_waiting=function($element){return $element.find(".loader").remove()},UIUtil}(),this.lib.ui_util=new UIUtil}.call(this),function(){this.UrlBuilder=function(){function UrlBuilder(url){var $url;$url=$.url(url),this.url_protocol=$url.attr("protocol"),this.url_host=$url.attr("host"),
this.url_port=$url.attr("port"),this.url_path=$url.attr("path"),this.url_params=$url.param()}return UrlBuilder.prototype.add_param=function(key,value){return this.url_params[key]=value,this},UrlBuilder.prototype.remove_param=function(key){return delete this.url_params[key],this},UrlBuilder.prototype.param=function(key){return this.url_params[key]},UrlBuilder.prototype.build=function(){var url;return url=this.get_base()+this.url_path,$.isEmptyObject(this.url_params)||(url+="?"+$.param(this.url_params)),url},UrlBuilder.prototype.get_base=function(){var base;return base="",this.url_protocol&&(base+=this.url_protocol+":"),this.url_host&&(base+="//"+this.url_host),this.url_port&&(base+=":"+this.url_port),base},UrlBuilder.prototype.get_path=function(){return this.url_path},UrlBuilder.prototype.set_path=function(path){return this.url_path=path},UrlBuilder.prototype.get_host=function(){return this.url_host},UrlBuilder.prototype.set_host=function(host){return this.url_host=host},UrlBuilder.prototype.get_params=function(){return this.url_params},UrlBuilder.prototype.set_protocol=function(protocol){return this.url_protocol=protocol},UrlBuilder}()}.call(this),function(){var StateMachine;StateMachine=function(){function StateMachine(){}return StateMachine.prototype.enter_state=function(state_name,args){var old_state_name,state_object;if(old_state_name=this.state_name,this.state_name=state_name,(state_object=app[this.state_name+"_state"])&&$.isFunction(state_object.on_enter))return state_object.on_enter(old_state_name,args)},StateMachine.prototype.exit_state=function(state_name,new_state_name,args){var state_object;if((state_object=app[state_name+"_state"])&&$.isFunction(state_object.on_exit))return state_object.on_exit(new_state_name,args)},StateMachine}(),lib.state_machine=new StateMachine}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;this.BrowserHistory=function(superClass){function BrowserHistory(){var _this;this.storage={},this.triggered_by=this.trigger_type.browser,window.History.options={"disableSuid":!0},window.History.init(),this.state_id=window.History.getState().id,window.History.Adapter.bind(window,"statechange",(_this=this,function(){return _this.on_statechange()})),this.enter_initial_state(lib.data.get("controller"),lib.data.get("action"),{"request":{"xhr":!1},"elements":$(document)})}return extend(BrowserHistory,superClass),BrowserHistory.prototype.trigger_type={"browser":0,"pushState":1,"replaceState":2},BrowserHistory.prototype.on_statechange=function(){var params,state,url;if((state=window.History.getState()).id!==this.state_id)return lib.google_analytics.track_pageview(window.location.pathname+window.location.search),this.triggered_by===this.trigger_type.browser?this.storage[state.id]?(this.save(this.state_id),this.load(state.id),this.state_id=state.id):(url=$.url(state.url),params={"is_browser_update":!0},$.getScript(url.attr("base")+url.attr("path")+"?"+$.param($.extend(url.param(),params)))):(this.state_id=state.id,this.triggered_by=this.trigger_type.browser)},BrowserHistory.prototype.push=function(args){var _this;return this.save(this.state_id),args.is_browser_update?this.state_id=window.History.getState().id:(this.triggered_by=this.trigger_type.pushState,window.History.pushState({},args.title,args.url),setTimeout((_this=this,function(){return _this.triggered_by=_this.trigger_type.browser}),100)),this.update(args)},BrowserHistory.prototype.replace=function(args){return this.triggered_by=this.trigger_type.replaceState,window.History.replaceState({},args.title,args.url),setTimeout((_this=this,function(){return _this.triggered_by=_this.trigger_type.browser}),300);var _this},BrowserHistory.prototype.save=function(state_id){if(!lib.data.get("no-history-cache"))return this.storage[state_id]={"updates":{"#topbar":$("#topbar").html(),"#content":$("#content").html()},"scrollTop":lib.scroll.scroll_top,"controller":lib.data.get("controller"),"action":lib.data.get("action"),"no_history_cache":!1}},BrowserHistory.prototype.load=function(state_id){var storage;return null!=(storage=this.storage[state_id])&&(this.update($.extend(storage,{"load_history":!0})),!0)},BrowserHistory.prototype.update=function(args){var $body,$element,$elements,element,elements,html,old_action,old_controller,ref;if(lib.data.set("no-history-cache",args.no_history_cache),null!=args.title&&(args.title||(args.title=lib.data.get("org-title")),document.title=args.title),null!=args.controller&&null!=args.action&&(old_controller=($body=$("body")).data("controller"),old_action=$body.data("action"),null!=old_controller&&null!=old_action&&(lib.state_machine.exit_state(old_controller+"_"+old_action,args.controller+"_"+args.action),$body.removeClass(old_controller).removeClass(old_action)),$body.addClass(args.controller).data("controller",args.controller).addClass(args.action).data("action",args.action)),null!=args.scrollTop&&$(window).scrollTop(args.scrollTop),$elements=$(),null!=args.updates)for(element in ref=args.updates)html=ref[element],$element=$(element).html(html),$elements=$elements.add($element);if(null!=args.update_callback&&(elements=args.update_callback())instanceof jQuery&&($elements=$elements.add(elements)),$elements.length||($elements=$elements.add($(document))),this.updated($elements),args.load_history&&$(document).trigger("history:loaded"),null!=args.controller&&null!=args.action)return this.enter_state(args.controller,args.action,{"request":{"xhr":!0},"elements":$elements})},BrowserHistory.prototype.updated=function(e){return $(document).trigger("history:updated",[e,window.History.getState().url])},BrowserHistory.prototype.back=function(){return window.History.back()},BrowserHistory.prototype.go=function(index){return window.History.go(index)},BrowserHistory.prototype.set_state_id=function(state_id){return this.state_id=state_id},BrowserHistory.prototype.get_state_id=function(){return this.state_id},BrowserHistory.prototype.get_current_url=function(){return window.location.href},BrowserHistory}(AbstractHistory)}.call(this),function(){(function(){function History(){var _this;$(document).ready((_this=this,function(){return _this.invoke_controller_script(lib.data.get("controller"),lib.data.get("action"),{"request":{"xhr":!1},"elements":$(document)}),_this.updated(document)}))}History.prototype.push=function(args){var $body,$element,$elements,element,elements,html,ref;if($("#loading").hide(),lib.google_analytics.track_pageview(args.url),null!=args.title&&(args.title||(args.title=lib.data.get("org-title")),document.title=args.title),null!=args.controller&&null!=args.action&&($body=$("body")).removeClass($body.data("controller")).removeClass($body.data("action")).addClass(args.controller).data("controller",args.controller).addClass(args.action).data("action",args.action),null!=args.scrollTop&&$(window).scrollTop(args.scrollTop),$elements=$(),null!=args.updates)for(element in ref=args.updates)html=ref[element],$element=$(element).html(html),$elements=$elements.add($element);if(null!=args.update_callback&&(elements=args.update_callback())instanceof jQuery&&($elements=$elements.add(elements)),$elements.length||($elements=$elements.add($(document))),this.updated($elements),null!=args.controller&&null!=args.action)return this.invoke_controller_script(args.controller,args.action,{"request":{"xhr":!0},"elements":$elements})},History.prototype.invoke_controller_script=function(controller,action,args){var active_controller;if((active_controller=app[controller+"_controller"])&&($.isFunction(active_controller.init)&&active_controller.init(args),$.isFunction(active_controller[action])))return active_controller[action](args)},History.prototype.updated=function(e){return $(document).trigger("history:updated",e)}})()}.call(this),function(){var Alert;Alert=function(){function Alert(){}return Alert.prototype.show=function(message){return message=message.replace(/<br\s*\/?>/g,"\n"),alert(message)},Alert}(),lib.alert=new Alert}.call(this),function(){var Error;Error=function(){function Error(){}return Error.prototype.show=function(message){return alert(message)},Error.prototype.growl=function(message){return app.window.growl(message)},Error}(),$((function(){return lib.error=new Error}))}.call(this),function(){var GoogleAnalytics;GoogleAnalytics=function(){function GoogleAnalytics(){var gaq_account;gaq_account=lib.data.get("gaq-account"),this.enabled=null!=gaq_account,this.enabled&&(!function(i,s,o,g,r,a,m){i.GoogleAnalyticsObject=r,i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date,a=s.createElement(o),m=s.getElementsByTagName(o)[0],a.async=1,a.src=g,m.parentNode.insertBefore(a,m)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("require","ecommerce"),ga("create",gaq_account,"auto",{"sampleRate":1}),ga("send","pageview"))}return GoogleAnalytics.prototype.track_pageview=function(url){if(this.enabled)return ga("send","pageview",url)},GoogleAnalytics.prototype.add_item=function(transaction_id,sku,name,category,price,quantity){if(this.enabled)return ga("ecommerce:addItem",{"id":transaction_id,"name":name,"sku":sku,"category":category,"price":price,"quantity":quantity})},GoogleAnalytics.prototype.add_trans=function(transaction_id,affiliation,total,tax,shipping){if(this.enabled)return ga("ecommerce:addTransaction",{"id":transaction_id,"affiliation":affiliation,"revenue":total,"shipping":shipping,"tax":tax})},GoogleAnalytics.prototype.track_trans=function(){if(this.enabled)return ga("ecommerce:send")},GoogleAnalytics.prototype.set_currency_code=function(currency_code){if(this.enabled)return ga("set","currencyCode",currency_code)},GoogleAnalytics}(),$((function(){return lib.google_analytics=new GoogleAnalytics}))}.call(this),function(){$.rails.formElements=function(form,selector){return form.find(selector)},$.rails.allowAction=function(element){var message;return!(message=element.data("confirm"))||(confirm(message).done((function(result){if(result)return element.data("confirm",null),element.trigger("click.rails")})),!1)}}.call(this),function(){lib.scroll=new lib.Scroll}.call(this),function(){this.AbstractWindow=function(){function AbstractWindow(){}return AbstractWindow.prototype.close_popup_forever=function(){},AbstractWindow.prototype.close_popup_today=function(){},AbstractWindow.prototype.close_popup_once=function(){},AbstractWindow.prototype.paginate=function(){},AbstractWindow.prototype.set_nonmember_token=function(){},AbstractWindow.prototype.post=function(){},AbstractWindow.prototype.get_scroll_top=function(){},AbstractWindow.prototype.set_height=function(){},AbstractWindow.prototype.get_height=function(){},AbstractWindow.prototype.is_fullscreen=function(){return!1},AbstractWindow.prototype.reload=function(){},AbstractWindow}()}.call(this),function(){this.BrowserTranslationManager=function(){function BrowserTranslationManager(){}return BrowserTranslationManager.prototype.load_urls_to_control_translation_status=function(){var close_url;if(this.current_url_builder=new UrlBuilder(lib.history.get_current_url()),close_url=this.current_url_builder.param("close_url"))return this.close_url_builder=new UrlBuilder(close_url)},BrowserTranslationManager.prototype.load_translation_status=function(){if(this.load_urls_to_control_translation_status(),this.close_url_builder)return this.translation_status=this.close_url_builder.param("crema-widget-share-review-translation")},BrowserTranslationManager.prototype.init_translation_status=function(default_translation_status){var translation_status;return this.load_translation_status(),translation_status=this.translation_status||default_translation_status,lib.translation.inherit_translation_status(translation_status)},BrowserTranslationManager.prototype.change_translation_status=function(translation_status){var new_close_url,new_current_url;if(this.load_urls_to_control_translation_status(),this.close_url_builder)return new_close_url=this.close_url_builder.add_param("crema-widget-share-review-translation",translation_status).build(),new_current_url=this.current_url_builder.add_param("close_url",new_close_url).build(),lib.history.replace({"url":new_current_url})},BrowserTranslationManager}()}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;this.BrowserWindow=function(superClass){function BrowserWindow(){this.fullscreen_popup=new FullscreenPopup,this.fullscreen_id=0,this.default_iframe_id="crema-fullscreen-popup",this.opened_fullscreen_popup_iframe_id=null,this.add_message_event_listener()}return extend(BrowserWindow,superClass),BrowserWindow.prototype.close_popup_forever=function(){return app.event.create("popup","block")},BrowserWindow.prototype.close_popup_today=function(){return app.event.create("popup","close_today")},BrowserWindow.prototype.close_popup_once=function(triggered_by,reason){return app.event.create("popup","close_once",{"triggered_by":triggered_by,"reason":reason})},BrowserWindow.prototype.get_scroll_top=function(){return $(window).scrollTop()},BrowserWindow.prototype.get_height=function(){return $(window).height()},BrowserWindow.prototype.scroll_to=function(offset,args){var $target,y;if(null==args&&(args={}),y=0,args.target_id){if(!($target=$("#"+args.target_id)).length)return;y=$target.offset().top}return $(window).scrollTop(y+offset)},BrowserWindow.prototype.open_fullscreen_popup=function(url,on_receive_message){var final_url,iframe_id,params;return iframe_id=this.default_iframe_id+"-"+this.generate_id(),params=(url=$.url(url)).param(),final_url=url.attr("base")+url.attr("path")+"?"+$.param($.extend(params,{"parent_url":document.location.href})),this.fullscreen_popup.open(iframe_id,final_url,on_receive_message),this.opened_fullscreen_popup_iframe_id=iframe_id},BrowserWindow.prototype.open_new_review_popup=function(args){var url,url_builder;return(url_builder=new UrlBuilder(args.url)).add_param("close_url",window.location.href),url=url_builder.build(),window.location.href=url},BrowserWindow.prototype.close_fullscreen_popup=function(){return this.fullscreen_popup.close({"id":this.opened_fullscreen_popup_iframe_id}),this.opened_fullscreen_popup_iframe_id=null},BrowserWindow.prototype.generate_id=function(){return this.fullscreen_id+=1},BrowserWindow.prototype.send_confirm_message=function(msg){return window.native_confirm(msg)},BrowserWindow.prototype.add_message_event_listener=function(){return window.addEventListener("message",(function(event){if("confirm_message"===event.data&&(this.port2=event.ports[0],this.port2))return this.port2.onmessage=(_this=this,function(e){return"complete"!==document.readyState?_this.port2.postMessage(!1):_this.port2.postMessage(app.window.send_confirm_message(e.data))});var _this}))},BrowserWindow}(this.AbstractWindow)}.call(this),function(){var Dropdown;Dropdown=function(){function Dropdown(){}return Dropdown.prototype.init=function($elements){return this.bind_dropdown_button_click($elements),this.bind_dropdown_outside_click($elements),this.bind_dropdown_box_reset_click($elements),this.bind_dropdown_box_complete_click($elements),this.bind_dropdown_button_select_box_click($elements),this.bind_dropdown_radio_select_box_click($elements)},Dropdown.prototype.bind_dropdown_button_click=function($elements){var self;return self=this,$elements.find(".js-dropdown-component").click((function(){var $dropdown;return($dropdown=$(this)).hasClass("active")?self.close_dropdown_box($dropdown):(self.close_all_dropdown_boxes(),self.render_dropdown_box($dropdown))}))},Dropdown.prototype.bind_dropdown_outside_click=function($elements){return $elements.click((_this=this,function(e){if(!$(e.target).closest(".js-dropdown-component").length&&!$(e.target).is(".js-dropdown-component")&&!$(e.target).closest(".js-dropdown-box").length)return _this.close_all_dropdown_boxes()}));var _this},Dropdown.prototype.bind_dropdown_box_reset_click=function($elements){var self;return self=this,$elements.on("click",".js-dropdown-box-reset",(function(){var dropdown_type;return dropdown_type=$(this).closest(".js-dropdown-box").data("dropdown-type"),["button_multiple","button_single","score","range"].indexOf(dropdown_type)>=0?self.unselect_selected_items():self.reset_radio_select_result()}))},Dropdown.prototype.unselect_selected_items=function(){var $dropdown_box_items;return $dropdown_box_items=$(".js-dropdown-box").find(".js-dropdown-box-button-select-item"),this.deactivate_dropdown_button($dropdown_box_items)},Dropdown.prototype.reset_radio_select_result=function(){var $dropdown,$url,key,params,url;if($dropdown=$(".js-dropdown-component.active"),this.close_dropdown_box($dropdown),params=($url=$.url($dropdown.data("path"))).param(),key=$dropdown.data("name"),$.url(lib.history.get_current_url()).param()[key])return delete params[key],url=$url.attr("base")+$url.attr("path")+"?"+$.param(params),$.ajax(url,{"method":"get","dataType":"script"})},Dropdown.prototype.bind_dropdown_box_complete_click=function($elements){var self;return self=this,$elements.on("click",".js-dropdown-box-complete-button",(function(e){var $current_params,$dropdown,$selected_items,$url,key,params,url,values;if($dropdown=$(".js-dropdown-component.active"),self.close_dropdown_box($dropdown),$selected_items=$(e.target).closest(".js-dropdown-box").find(".js-dropdown-box-button-select-item[data-selected=true]"),params=($url=$.url($dropdown.data("path"))).param(),key=$dropdown.data("name"),values=$selected_items.map((function(){return $(this).data("value")})).get().join(","),($current_params=$.url(lib.history.get_current_url()).param())[key]!==values&&($current_params[key]||""!==values))return""===values?delete params[key]:params[key]=values,url=$url.attr("base")+$url.attr("path")+"?"+$.param(params),$.ajax(url,{"method":"get","dataType":"script"})}))},Dropdown.prototype.bind_dropdown_radio_select_box_click=function($elements){var self;return self=this,$elements.on("click",".js-dropdown-box-radio-select-item",(function(){var $current_params,$dropdown,$url,key,params,url,value;if($dropdown=$(".js-dropdown-component.active"),self.close_dropdown_box($dropdown),params=($url=$.url($dropdown.data("path"))).param(),key=$dropdown.data("name"),void 0!==(value=$(this).data("value"))&&($current_params=$.url(lib.history.get_current_url()).param())[key]!==value.toString()&&($current_params[key]||""!==value))return""===value?delete params[key]:params[key]=value,url=$url.attr("base")+$url.attr("path")+"?"+$.param(params),$.ajax(url,{"method":"get","dataType":"script"})}))},Dropdown.prototype.bind_dropdown_button_select_box_click=function($elements){var self;return self=this,$elements.on("click",".js-dropdown-box-button-select-item",(function(){var $other_select_itmes,dropdown_type;return"range"===(dropdown_type=$(this).closest(".js-dropdown-box").data("dropdown-type"))?self.bind_range_type_dropdown_button_click($(this)):("button_single"===dropdown_type&&($other_select_itmes=$(".js-dropdown-box-button-select-item").not($(this)),self.deactivate_dropdown_button($other_select_itmes)),$(this).toggleClass("active"),"true"===$(this).attr("data-selected")?$(this).attr("data-selected",!1):$(this).attr("data-selected",!0))}))},Dropdown.prototype.close_dropdown_box=function($dropdown){if($(".js-dropdown-box").remove(),$dropdown.removeClass("active"),$dropdown.closest(".js-filter-button-component").trigger("dropdown:inactive"),lib.browser.is_in_iframe())return app.window.unset_dropdown_height()},Dropdown.prototype.render_dropdown_box=function($dropdown){var $dropdown_box,$dropdown_box_script,_this;return $dropdown_box_script=$dropdown.find(".js-dropdown-box-script").last().html(),($dropdown_box=$(Mustache.render($dropdown_box_script))).appendTo($("body")),setTimeout((_this=this,function(){if(_this.set_dropdown_box_position($dropdown,$dropdown_box),$dropdown_box.show(),$dropdown_box.removeClass("hidden"),lib.browser.is_in_iframe())return app.window.set_dropdown_height(".js-dropdown-box")}),0),$dropdown.addClass("active"),$dropdown.closest(".js-filter-button-component").trigger("dropdown:active")},Dropdown.prototype.set_dropdown_box_position=function($dropdown,$dropdown_box){var big_screen_mobile_width_boundary,css;return(css={}).top=$dropdown.offset().top+$dropdown.outerHeight(),$dropdown.data("box-offset-x")&&(css.left=$dropdown.data("box-offset-x")),big_screen_mobile_width_boundary=828,(window.innerWidth>=big_screen_mobile_width_boundary||!lib.browser.is_mobile())&&(css.left||(css.left=0),$dropdown.offset().left+$dropdown_box.outerWidth()>window.innerWidth?css.left+=$dropdown.offset().left-$dropdown_box.outerWidth()+$dropdown.outerWidth():css.left+=$dropdown.offset().left),$dropdown_box.css(css)},Dropdown.prototype.close_all_dropdown_boxes=function(){var _this;return $(".js-dropdown-component").each((_this=this,function(_i,dropdown){return _this.close_dropdown_box($(dropdown))}))},Dropdown.prototype.bind_range_type_dropdown_button_click=function($current_selected_item){var $other_selected_itmes,$selected_itmes,current_item_index,max,min,other_item_index,_this;return $selected_itmes=$(".js-dropdown-box-button-select-item.active"),$other_selected_itmes=$(".js-dropdown-box-button-select-item.active").not($current_selected_item),0===$selected_itmes.length?this.activate_dropdown_button($current_selected_item):0===$other_selected_itmes.length?this.deactivate_dropdown_button($current_selected_item):1===$selected_itmes.length?(other_item_index=$other_selected_itmes.eq(0).data("index"),current_item_index=$current_selected_item.data("index"),min=Math.min(other_item_index,current_item_index),max=Math.max(other_item_index,current_item_index)+1,$(".js-dropdown-box-button-select-item").slice(min,max).each((_this=this,function(_i,e){return _this.activate_dropdown_button($(e))}))):(this.deactivate_dropdown_button($other_selected_itmes),this.activate_dropdown_button($current_selected_item))},Dropdown.prototype.activate_dropdown_button=function($button){return $button.addClass("active"),$button.attr("data-selected",!0)},Dropdown.prototype.deactivate_dropdown_button=function($button){return $button.removeClass("active"),$button.attr("data-selected",!1)},Dropdown}(),app.dropdown=new Dropdown}.call(this),function(){var FilterButton;FilterButton=function(){function FilterButton(){}return FilterButton.prototype.init=function($elements){return app.dropdown.init($elements),this.bind_dropdown_active_event($elements)},FilterButton.prototype.bind_dropdown_active_event=function($elements){return $elements.on("dropdown:active",(function(e){return $(e.target).addClass("active")})),$elements.on("dropdown:inactive",(function(e){return $(e.target).removeClass("active")}))},FilterButton}(),app.filter_button=new FilterButton}.call(this),function(){var FilterList;FilterList=function(){function FilterList(){}return FilterList.prototype.init=function($elements){return app.filter_button.init($elements),this.hide_filter_list($elements),this.set_filters_reset_button_state($elements),this.bind_filters_reset_button_click($elements),this.bind_scroll_left_on_filter_list($elements),this.bind_navigators_visibility($elements),this.bind_navigators_click($elements)},FilterList.prototype.hide_filter_list=function($elements){var $filter_list;if(0===($filter_list=$elements.find(".js-filter-list")).find("li").length)return $filter_list.parent().hide()},FilterList.prototype.set_filters_reset_button_state=function($elements){var $filter_list;if(($filter_list=$elements.find(".js-filter-list")).find(".filter_sort_basic__filter--active").length)return $filter_list.addClass("filter_sort_basic__filter_list--active")},FilterList.prototype.bind_filters_reset_button_click=function($elements){return $elements.find(".js-filters-reset-button").click((function(){var $url,current_param_keys,params,url;return current_param_keys=$(this).parent().siblings(".js-filter-list").find(".js-filter-button-component.filter_button_component--filtered").find(".js-dropdown-component").map((function(){return $(this).data("name")})).get(),$url=$.url(lib.history.get_current_url()),(params=$url.param()).aloading=".page",current_param_keys.forEach((function(key){return delete params[key]})),url=$url.attr("base")+$url.attr("path")+"?"+$.param(params),$.ajax(url,{"method":"get","dataType":"script"})}))},FilterList.prototype.bind_scroll_left_on_filter_list=function($elements){return $elements.find(".js-filter-button-component").click((function(){var $filter_button,$filter_list,$reset_button_wrapper,grace_scroll_position,left_edge_position,right_edge_position,right_side_limit;return right_edge_position=($filter_button=$(this)).offset().left+$filter_button.outerWidth(),left_edge_position=$filter_button.offset().left,$filter_list=$filter_button.closest("ul"),grace_scroll_position=80,$reset_button_wrapper=$elements.find(".js-filters-reset-button").parent(),right_side_limit=window.innerWidth-parseInt($("body").css("padding-right"),10),"none"!==$reset_button_wrapper.css("display")&&(right_side_limit-=$reset_button_wrapper.outerWidth()),right_edge_position>right_side_limit?$filter_list.scrollLeft($filter_list.scrollLeft()+right_edge_position-right_side_limit+grace_scroll_position):left_edge_position<grace_scroll_position?($filter_list.scrollLeft(0),$filter_list.scrollLeft($filter_button.offset().left-grace_scroll_position)):void 0}))},FilterList.prototype.bind_navigators_visibility=function($elements){var $filter_list,$filter_list_wrapper,$left_nav,$right_nav;if($left_nav=$elements.find(".js-filter-navigator-left"),$right_nav=$elements.find(".js-filter-navigator-right"),$left_nav.length&&$right_nav.length)return $filter_list_wrapper=($filter_list=$elements.find(".js-filter-list")).parent(),$filter_list.on("mouseenter click scroll",(function(){var horizontally_scrollable,scroll_left,scroll_width,width;if(width=$filter_list.outerWidth(),scroll_width=$filter_list[0].scrollWidth,scroll_left=$filter_list.scrollLeft(),horizontally_scrollable=$filter_list[0].scrollWidth>$filter_list[0].clientWidth,0===scroll_left){if($left_nav.hide(),horizontally_scrollable)return $right_nav.show()}else{if(scroll_width-width===scroll_left)return $left_nav.show(),$right_nav.hide();if($left_nav.show(),horizontally_scrollable)return $right_nav.show()}})),$filter_list_wrapper.on("mouseleave",(function(){return $left_nav.hide(),$right_nav.hide()}))},FilterList.prototype.bind_navigators_click=function($elements){var $filter_list,$left_nav,$right_nav,scroll_length_per_click;return $left_nav=$elements.find(".js-filter-navigator-left"),$right_nav=$elements.find(".js-filter-navigator-right"),scroll_length_per_click=400,$filter_list=$elements.find(".js-filter-list"),$left_nav.click((function(){return $filter_list.animate({"scrollLeft":$filter_list.scrollLeft()-scroll_length_per_click},800)})),$right_nav.click((function(){return $filter_list.animate({"scrollLeft":$filter_list.scrollLeft()+scroll_length_per_click},800)}))},FilterList}(),app.filter_list=new FilterList}.call(this),function(){this.SearchComponentBase=function(){function SearchComponentBase(){}return SearchComponentBase.prototype.init=function($elements){return this.$search_component=$elements.find(".js-filter-search-component"),this.$search_cancel_text=$elements.find(".js-filter-search-cancel-text"),this.$search_input=$elements.find(".js-filter-search-input"),this.$search_input_icons=$elements.find(".js-filter-search-input-icon"),this.$search_input_reset_button=$elements.find(".js-filter-search-input-reset"),this.bind_search_request($elements),this.bind_cancel_text_click(),this.bind_search_input_typing(),this.bind_search_input_focus(),this.bind_search_input_reset()},SearchComponentBase.prototype.bind_search_request=function($elements){var self;return self=this,$elements.find(".js-filter-search-trigger").click((function(){var $url,params,url;if((params=($url=$.url($(this).data("path"))).param()).query=self.$search_input.val(),$.url(lib.history.get_current_url()).param().query!==params.query)return url=$url.attr("base")+$url.attr("path")+"?"+$.param(params),$.ajax(url,{"method":"get","dataType":"script"})}))},SearchComponentBase.prototype.bind_cancel_text_click=function(){},SearchComponentBase.prototype.bind_search_input_typing=function(){return this.$search_input.on("keydown",(_this=this,function(e){if(13===e.keyCode)return _this.$search_input_icons.siblings(".js-filter-search-trigger").click()}));var _this},SearchComponentBase.prototype.bind_search_input_focus=function(){},SearchComponentBase.prototype.bind_search_input_reset=function(){},SearchComponentBase}()}.call(this),function(){var TagTypeButton;TagTypeButton=function(){function TagTypeButton(){}return TagTypeButton.prototype.init=function($elements){if($elements.find(".js-tag-type-list").length>0)return this.bind_filter_on_tag_type_button(),this.bind_autoscroll_on_tag_type_navigation_button(),$elements.find(".js-tag-type-button").first().click()},TagTypeButton.prototype.check_tag_type_list=function(){var $tag_type_list;if(($tag_type_list=$(".js-tag-type-list")).length)return $tag_type_list[0].scrollWidth>$tag_type_list[0].offsetWidth?$(".js-tag-type-navigation-button").show():$(".js-tag-type-navigation-button").hide()},TagTypeButton.prototype.bind_autoscroll_on_tag_type_navigation_button=function(){var _this;return $(".js-tag-type-prev").click((_this=this,function(){return _this.autoscroll(-50)})),$(".js-tag-type-next").click(function(_this){return function(){return _this.autoscroll(50)}}(this))},TagTypeButton.prototype.bind_filter_on_tag_type_button=function(){return $(".js-tag-type-button").click((_this=this,function(e){var $tag_type_button,$tag_type_id;if(!($tag_type_button=$(e.currentTarget)).hasClass("selected"))return $(".js-tag-type-list").find(".js-tag-type-button").removeClass("selected"),$tag_type_button.addClass("selected"),$tag_type_id=$tag_type_button.data("review-tag-type-id"),_this.adjust_scroll($tag_type_button),_this.filter($tag_type_id)}));var _this},TagTypeButton.prototype.autoscroll=function(movement){var $tag_type_list;if(($tag_type_list=$(".js-tag-type-list")).length)return $tag_type_list.animate({"scrollLeft":$tag_type_list.scrollLeft()+movement},300)},TagTypeButton.prototype.adjust_scroll=function($tag_type_button){var $tag_type_list,grace_scroll_position,left_edge_position,right_edge_position,right_side_limit;return right_edge_position=$tag_type_button.offset().left+$tag_type_button.outerWidth(),left_edge_position=$tag_type_button.offset().left,grace_scroll_position=50,right_edge_position>(right_side_limit=($tag_type_list=$tag_type_button.closest(".js-tag-type-list")).offset().left+$tag_type_list.outerWidth())?$tag_type_list.scrollLeft($tag_type_list.scrollLeft()+right_edge_position-right_side_limit+grace_scroll_position):left_edge_position<grace_scroll_position?($tag_type_list.scrollLeft(0),$tag_type_list.scrollLeft($tag_type_button.offset().left-grace_scroll_position)):void 0},TagTypeButton.prototype.filter=function(value){var key,url_builder;return key="tag_type",(url_builder=new UrlBuilder(lib.history.get_current_url())).remove_param("page").add_param("aloading",".js-keyword-review"),value?url_builder.add_param(key,value):url_builder.remove_param(key),$.getScript(url_builder.build())},TagTypeButton}(),app.tag_type_button=new TagTypeButton}.call(this),function(){var DirectUploader;DirectUploader=function(){function DirectUploader(file,url,input){this.upload=new window.ActiveStorage.DirectUpload(file,url,this),this.input=input}return DirectUploader.prototype.directUploadWillStoreFileWithXHR=function(request){return request.upload.addEventListener("progress",(_this=this,function(event){return _this.set_upload_progress(event)}));var _this},DirectUploader.prototype.set_upload_progress=function(event){var $progress_bar,percentage;if(percentage=Math.floor(event.loaded/event.total*100),($progress_bar=$(this.input).siblings(".js-video-upload-progress").last()).css("width",percentage+"%"),100===percentage)return setTimeout((function(){return $progress_bar.remove()}),1e3)},DirectUploader}(),app.direct_uploader=DirectUploader}.call(this),function(){this.Event=function(){function Event(){}return Event.prototype.create=function(type,event,data){var k,new_url,new_url_builder,v;for(k in $.post("/events",$.extend({"type":type,"event":event,"brand_code":lib.data.get("brand-code"),"device_type":this.device_type()},data)),
new_url=(new_url=(window.location.protocol+"//"+window.location.host).replace(/(https?:\/\/[a-z]?)review(\d)?/,"$1events$2"))+"/"+lib.data.get("brand-code"),(new_url_builder=new UrlBuilder(new_url)).add_param("type",type),new_url_builder.add_param("event",event),data)v=data[k],new_url_builder.add_param(k,v);return $.ajax({"url":new_url_builder.build(),"type":"post"})},Event.prototype.device_type=function(){},Event}()}.call(this),function(){var Facebook;Facebook=function(){function Facebook(){}return Facebook.prototype.run=function(){return this.loaded?this.init():(this.loaded=!0,$.getScript("//connect.facebook.net/ko_KR/sdk.js",(_this=this,function(){return _this.init()})));var _this},Facebook.prototype.init=function(){return FB.init({"appId":lib.data.get("facebook-app-id"),"version":lib.data.get("facebook-sdk-version"),"xfbml":!0})},Facebook}(),app.facebook=new Facebook}.call(this),function(){$(document).on("blur","input.number-only",(function(){var new_val,val;if((val=$(this).val())&&(new_val=val.replace(/\D/g,""),val!==new_val))return $(this).val(new_val)}))}.call(this),function(){this.FullscreenPopup=function(){function FullscreenPopup(){this.fullscreen_popups=[]}return FullscreenPopup.prototype.load_fullscreen_popup=function(id){var idx;return idx=id.substr(id.lastIndexOf("-")+1),idx=isFinite(idx)?parseInt(idx):0,this.load_fullscreen_popup_by_idx(idx)},FullscreenPopup.prototype.load_fullscreen_popup_by_idx=function(idx){var focused_popup;return focused_popup=this.fullscreen_popups[idx],this.idx=idx,focused_popup?(this.popup=focused_popup.popup,this.opened=focused_popup.opened,this.fixed_elements=focused_popup.fixed_elements,this.fixed_scroll=focused_popup.fixed_scroll):(this.popup=null,this.opened=null,this.fixed_elements=null,this.fixed_scroll=null)},FullscreenPopup.prototype.save_fullscreen_popup=function(){return this.popup?this.fullscreen_popups[this.idx]={"popup":this.popup,"opened":this.opened,"fixed_elements":this.fixed_elements,"fixed_scroll":this.fixed_scroll}:delete this.fullscreen_popups[this.idx]},FullscreenPopup.prototype.open=function(id,url,on_receive_message,args){var $body,$html,body_css,height,on_popstate,url_builder,window_height,_this;if(null==args&&(args={}),this.load_fullscreen_popup(id,args),this.close_impl(),this.opened=!0,$body=$("body"),($html=$("html")).data("crema-org-style",$html.attr("style")).css({"overflow":"hidden"}),height=$body.height(),body_css={"height":"auto"},(0===(window_height=$(window).innerHeight())||height>window_height)&&(body_css.overflow="hidden"),$body.data("crema-org-style",$body.attr("style")).css(body_css),this.popup=$("<iframe></iframe>").attr({"id":id,"allowTransparency":"true","frameborder":0}),lib.browser.is_ie?this.open_impl_ie(id,$body):lib.browser.is_ios?this.open_impl_ios(id,$body):this.open_impl(id,$body),(url_builder=new UrlBuilder(url)).add_param("iframe_id",id),url=url_builder.build(),this.popup.attr("src",url),this.save_fullscreen_popup(),this.modal_history_enabled()&&(lib.browser.supports_pop_state()&&($(window).off("popstate",on_popstate),window.history.pushState({"modal":this.idx},"","#modal_"+this.idx)),_this=this,on_popstate=function(){if($(window).off("popstate",on_popstate),_this.close_impl(),_this.save_fullscreen_popup(),_this.enable_child&&0!==_this.idx){for(;!_this.fullscreen_popups[_this.idx];)_this.idx--;return _this.load_fullscreen_popup_by_idx(_this.idx),$(window).on("popstate",on_popstate)}},$(window).on("popstate",on_popstate)),$.receiveMessage(function(_this){return function(e){var data;switch((data=$.deparam(e.data)).act){case"open_fullscreen_popup":app.window.open_fullscreen_popup(data.url);break;case"close_fullscreen_popup":_this.close({"id":data.iframe_id});break;case"onload":_this.popup.css({"visibility":"visible"});break;case"redirect_to":app.window.redirect_to(data.url);break;case"keydown":_this.post_keydown(data.keyCode)}if(null!=on_receive_message)return on_receive_message(data)}}(this),document.location.protocol+"//"+document.location.host),lib.browser.is_ie)return this.keydown=function(_this){return function(e){return _this.post_keydown(e.keyCode)}}(this),$(document).on("keydown",this.keydown)},FullscreenPopup.prototype.open_impl_ie=function(id,$body){var margin_right,org_margin_right_str,style;return style={"width":"100%","height":"100%","zIndex":9999999},lib.browser.is_ie&&(style.visibility="hidden",margin_right="px"===(org_margin_right_str=$body.css("marginRight")).slice(-2)?parseInt(org_margin_right_str):0,$body.css({"marginRight":margin_right+16})),lib.browser.supports_fixed_position()?(style.position="fixed",style.top=0,style.left=0):(style.position="absolute",style.top=document.documentElement.scrollTop||document.body.scrollTop,style.left=document.documentElement.scrollLeft||document.body.scrollLeft),this.popup.css(style),lib.browser.is_ie&&lib.browser.ie_document_mode<7&&(this.fix_scroll=function(){return document.documentElement.scrollTop=document.body.scrollTop=style.top},$(window).bind("scroll",this.fix_scroll)),this.popup.appendTo("body")},FullscreenPopup.prototype.open_impl_ios=function(id,$body){var $ios_popup_container;return($ios_popup_container=this.idx?$("<div id='crema-ios-popup-container-"+this.idx+"'></div>"):$("<div id='crema-ios-popup-container'></div>")).css({"overflowY":"scroll","overflowScrolling":"touch","position":"fixed","top":0,"right":0,"bottom":0,"left":0,"zIndex":9999999}),$body.append($ios_popup_container),this.popup.css({"width":"100%","height":"100%"}),this.popup.appendTo($ios_popup_container)},FullscreenPopup.prototype.open_impl=function(){var style;return style={"width":"100%","height":"100%","zIndex":9999999},lib.browser.supports_fixed_position()?(style.position="fixed",style.top=0,style.left=0):(style.position="absolute",style.top=document.documentElement.scrollTop||document.body.scrollTop,style.left=document.documentElement.scrollLeft||document.body.scrollLeft),this.popup.css(style),this.popup.appendTo("body")},FullscreenPopup.prototype.post_keydown=function(keyCode){return $.postMessage($.extend({"act":"keydown"},{"keyCode":keyCode}),window.location.protocol+"//"+window.location.host+this.popup.attr("src"),this.popup.get(0).contentWindow)},FullscreenPopup.prototype.close=function(args){if(null==args&&(args={}),this.load_fullscreen_popup(args.id,args),this.opened)return this.opened=!1,this.close_impl(),this.modal_history_enabled()&&lib.browser.supports_pop_state()?window.history.back():void 0},FullscreenPopup.prototype.close_impl=function(){var $body,$html,org_style;return this.opened=!1,this.fix_scroll&&($(window).unbind("scroll",this.fix_scroll),this.fix_scroll=null),this.popup&&(this.popup.remove(),this.idx?$("#crema-ios-popup-container-"+this.idx).remove():$("#crema-ios-popup-container").remove(),(org_style=($html=$("html")).data("crema-org-style"))?$html.attr("style",org_style):$html.removeAttr("style",org_style),$html.removeData("crema-org-style"),(org_style=($body=$("body")).data("crema-org-style"))?$body.attr("style",org_style):$body.removeAttr("style",org_style),$body.removeData("crema-org-style"),this.popup=null),this.keydown&&($(document).off("keydown",this.keydown),this.keydown=null),this.save_fullscreen_popup()},FullscreenPopup.prototype.modal_history_enabled=function(){return lib.browser.is_mobile()&&lib.browser.supports_history()},FullscreenPopup}(),$(document).on("click",".js-link-fullscreen-popup",(function(){return app.window.open_fullscreen_popup($(this).data("url"))}))}.call(this),function(){var GoogleTranslator;GoogleTranslator=function(){function GoogleTranslator(){var _this;this.translatable()&&(lib.data.get("use-translate-button")&&(this.bind_google_style_remover(),this.add_notranslate_class(),this.init_callback(),this.bind_translation(),$(document).on("app:loaded",(_this=this,function(){return _this.init_translation_status()})),$(document).on("history:updated",function(_this){return function(){return _this.add_notranslate_class(),_this.bind_translation(),_this.init_translation_status()}}(this))))}return GoogleTranslator.prototype.bind_google_style_remover=function(){return $(window).on("load",(function(){return $("body").attr("style",null)}))},GoogleTranslator.prototype.init_callback=function(){var _this;return window.translation_callback=(_this=this,function(){var $body;if($.when(new google.translate.TranslateElement({"pageLanguage":_this.review_locale(),"includedLanguages":_this.brand_locale(),"multilanguagePage":!0,"layout":google.translate.TranslateElement.InlineLayout.SIMPLE},"crema-google-translate")).then((function(){var CHECK_GOOGLE_IFRAME_COUNTER;if(!lib.browser.is_ie)return CHECK_GOOGLE_IFRAME_COUNTER=5,_this.check_google_translate_iframe(CHECK_GOOGLE_IFRAME_COUNTER)})),($body=$("body")).attr("style"))return $body.attr("style",null)}),$.getScript("//translate.google.com/translate_a/element.js?cb=translation_callback"),this.hide_translation_iframe()},GoogleTranslator.prototype.hide_translation_iframe=function(){var $style,style;if(!$("#google_translation_button_remover").length)return style="body {top: 0 !important;} .skiptranslate {display: none !important;}",$style=$('<style id="google_translation_button_remover"></style>').html(style),$("body").append($style)},GoogleTranslator.prototype.bind_translation=function(){var self;return self=this,$(".js-translation-button").off("click").on("click",(function(){var $button,to_be_translation_status;return"on"===(to_be_translation_status=($button=$(this).find(".reviews_manager__button")).hasClass("reviews_manager__button--on")||$button.hasClass("active")?"off":"on")?self.translate():self.restore(),self.store_translation_status(to_be_translation_status)}))},GoogleTranslator.prototype.init_translation_status=function(){return app.translator.init_translation_status(lib.data.get("default-translate-button-status"))},GoogleTranslator.prototype.store_translation_status=function(translation_status){return app.translator.change_translation_status(translation_status)},GoogleTranslator.prototype.inherit_translation_status=function(status){return"on"===status?this.translate():"off"===status?this.restore():void 0},GoogleTranslator.prototype.translate=function(){var $button;if(($button=this.translation_button()).hasClass("reviews_manager__button--on")||$button.hasClass("toggle_button_component")||($button.addClass("reviews_manager__button--on"),this.trigger_click_google_button("confirm")),!$button.hasClass("active")&&$button.hasClass("toggle_button_component"))return $button.addClass("active"),this.trigger_click_google_button("confirm")},GoogleTranslator.prototype.restore=function(){var $button;if(($button=this.translation_button()).hasClass("reviews_manager__button--on")||$button.hasClass("active"))return $button.removeClass("reviews_manager__button--on"),$button.removeClass("active"),this.trigger_click_google_button("restore")},GoogleTranslator.prototype.trigger_click_google_button=function(action){var iframe;if(iframe=$(".goog-te-banner-frame")[0])return $(iframe.contentDocument||iframe.contentWindow.document).find("button").each((function(index,button){if(button.id.indexOf(action)>=0)return button.click()})),this.hide_translation_iframe()},GoogleTranslator.prototype.review_locale=function(){return"ko"},GoogleTranslator.prototype.brand_locale=function(){return this.normalize_locale($("body").attr("lang"))},GoogleTranslator.prototype.normalize_locale=function(locale){switch(locale){case"en-US":return"en";case"ja-JP":return"ja";case"ko-KR":return"ko";default:return locale}},GoogleTranslator.prototype.add_notranslate_class=function(){var node,nodeIterator,parent_node,results;if(!(lib.browser.is_ie&&lib.browser.ie_version<9)){for(nodeIterator=document.createNodeIterator(document.getElementById("content"),NodeFilter.SHOW_TEXT,(function(node){if(""!==node.data.replace(/^\s+|\s+$/g,""))return NodeFilter.FILTER_ACCEPT}),!1),results=[];node=nodeIterator.nextNode();)(parent_node=node.parentNode).classList.contains("js-translate-text")?results.push(void 0):results.push(parent_node.classList.add("notranslate"));return results}},GoogleTranslator.prototype.translatable=function(){return this.brand_locale()&&this.review_locale()!==this.brand_locale()},GoogleTranslator.prototype.translation_button=function(){return $(".js-translation-button").find(".reviews_manager__button")},GoogleTranslator.prototype.check_google_translate_iframe=function(counter){var _this;return $(".goog-te-banner-frame")[0]?setTimeout((_this=this,function(){return _this.trigger_click_google_button("confirm")}),500):this.select_translate_language(counter)},GoogleTranslator.prototype.select_translate_language=function(counter){var $language_link,iframe,_this;return iframe=$(".goog-te-menu-frame")[0],($language_link=$(iframe.contentDocument||iframe.contentWindow.document).find(".goog-te-menu2-item")).length?$language_link.last().get(0).click():counter>=0?setTimeout((_this=this,function(){return _this.check_google_translate_iframe(counter-1)}),500):void 0},GoogleTranslator}(),lib.translation=new GoogleTranslator}.call(this),function(){this.IframeTranslationManager=function(){function IframeTranslationManager(){}return IframeTranslationManager.prototype.save_translation_status=function(translation_status){return this.old_translation_status=translation_status},IframeTranslationManager.prototype.on_popstate=function(translation_status){if(this.old_translation_status&&this.old_translation_status!==translation_status)return app.window.post("translate",{"status":this.old_translation_status})},IframeTranslationManager.prototype.inherit_translation_status=function(translation_status){return this.save_translation_status(translation_status),lib.translation.inherit_translation_status(translation_status)},IframeTranslationManager.prototype.init_translation_status=function(default_translation_status){return app.window.post("init_translation_status",{"iframe_id":lib.data.get("iframe-id"),"default_translation_status":default_translation_status})},IframeTranslationManager.prototype.change_translation_status=function(translation_status){return this.save_translation_status(translation_status),app.window.post("translate",{"status":translation_status})},IframeTranslationManager}()}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;this.IframeWindow=function(superClass){function IframeWindow(){var encoded_url,parent_url,url_builder,_this;window.alert=function(msg){return app.window.post("alert",{"msg":msg})},this.is_message_sending=!1,(parent_url=lib.data.get("parent-url"))&&(encoded_url=encodeURIComponent(parent_url),this.parent_url=decodeURIComponent(encoded_url),url_builder=new UrlBuilder(this.parent_url),$.receiveMessage((_this=this,function(e){var data;return e.ports&&e.ports[0]?(_this.port2=e.ports[0],data=e.data):data=$.deparam(e.data),_this.handle_message(data)}),url_builder.get_base()),this.handle_select_dropdown()),this.post("set_parent_div_margin",{"style":lib.data.get("widget-margin-style")})}return extend(IframeWindow,superClass),IframeWindow.prototype.send_confirm_message=function(msg){var channel,deferred,url_builder,_this;if(!this.is_message_sending)return url_builder=new UrlBuilder(this.parent_url),channel=new MessageChannel,window.parent.postMessage("confirm_message",url_builder.get_base(),[channel.port2]),deferred=$.Deferred(),channel.port1.onmessage=(_this=this,function(e){if(deferred)return _this.is_message_sending=!1,deferred.resolve(e.data)}),this.is_message_sending=!0,channel.port1.postMessage(msg),deferred.promise()},IframeWindow.prototype.close_popup_forever=function(){return app.event.create("popup","block"),this.post_with_delay("block_popup")},IframeWindow.prototype.close_popup_today=function(){return app.event.create("popup","close_today"),this.post_with_delay("set_close_today")},IframeWindow.prototype.close_popup_once=function(triggered_by,reason){return app.event.create("popup","close_once",{"triggered_by":triggered_by,"reason":reason}),this.post_with_delay("set_close")},IframeWindow.prototype.paginate=function(params,scroll_to_top){var fixed_top_menu_height,offset;return scroll_to_top&&($(".js-pagination-list").length&&(offset=$(".js-pagination-list").offset().top,(fixed_top_menu_height=lib.data.get("fixed-top-menu-height"))&&(offset-=parseInt(fixed_top_menu_height)),params.offset=offset),params.push_state=!0),this.post("paginate",params)},IframeWindow.prototype.set_nonmember_token=function(nonmember_token){return this.post("set_nonmember_token",{"nonmember_token":nonmember_token})},IframeWindow.prototype.post_with_delay=function(action,args){return setTimeout((_this=this,function(){return _this.post(action,args)}),350);var _this},IframeWindow.prototype.post=function(action,args){return $.postMessage($.extend({"iframe_id":lib.data.get("iframe-id"),"act":action},args),this.parent_url,parent)},IframeWindow.prototype.handle_message=function(data){switch(data.act){case"get_scroll_top":if(this.port2)return this.port2.postMessage($(window).scrollTop());break;case"scroll":return this.scroll_top=Number(data.scrollTop),$(window).trigger("scroll");case"force_scroll":return $(window).scrollTop(Number(data.scrollTop));case"set_window_height":return this.window_height=Number(data.window_height);case"keydown":return $(document).trigger("iframe:keydown",parseInt(data.keyCode));case"popstate":return this.popstate(data.url);case"signin":if(lib.data.set("is-logged-in",!0),lib.data.get("is-refreshable"))return this.refresh(data.url);break;case"fullscreen_popup":if(this.on_receive_fullscreen_popup_message)return data.act=data.fullscreen_popup_act,delete data.fullscreen_popup_act,this.on_receive_fullscreen_popup_message(data);break;case"popup":if(this.on_receive_popup_message)return data.act=data.popup_act,this.on_receive_popup_message(data);break;case"inherit_translation_status":return app.translator.inherit_translation_status(data.status);case"crema_translation_history_changed":return app.translator.on_popstate(data.status);case"count_showing_widgets":return lib.data.set(data.selector,data.count),app.products_reviews_state.set_elements_state()}},IframeWindow.prototype.get_scroll_top=function(){return this.scroll_top},IframeWindow.prototype.get_height=function(args){return null==args&&(args={"use_default":!0}),args.use_default?this.window_height||640:this.window_height},IframeWindow.prototype.scroll_to=function(offset,args){return this.post("scroll_to",$.extend({"offset":offset},args))},IframeWindow.prototype.reload=function(target_id,params){return this.post("reload",$.extend({"target_id":target_id},params))},IframeWindow.prototype.reload_all=function(params){return this.post("reload_all",params)},IframeWindow.prototype.redirect_to=function(url,args){var k,redirect_args,v;for(k in null==args&&(args={}),redirect_args={"url":url},args.keep_scroll&&(redirect_args.scroll_top=this.get_scroll_top(),delete args.keep_scroll),args)v=args[k],redirect_args[k]=v;return this.post("redirect_to",redirect_args)},IframeWindow.prototype.popstate=function(url){if(!lib.data.get("no-popstate"))return this.refresh(url)},IframeWindow.prototype.refresh=function(url){var builder;return(builder=new UrlBuilder(url)).add_param("is_browser_update",1),url=builder.build(),$.getScript(url)},IframeWindow.prototype.open_fullscreen_popup=function(url,on_receive_message){return this.post("open_fullscreen_popup",{"url":url}),this.on_receive_fullscreen_popup_message=on_receive_message},IframeWindow.prototype.open_new_review_popup=function(args,on_receive_message){return this.post("open_new_review_popup",args),this.on_receive_popup_message=on_receive_message},IframeWindow.prototype.close_fullscreen_popup=function(){return this.on_receive_fullscreen_popup_message=null,this.post("close_fullscreen_popup")},IframeWindow.prototype.handle_select_dropdown=function(){return $(window).on("select2-open",(function(){return app.window.set_dropdown_height("#select2-drop")})),$(window).on("select2-close",(function(){return app.window.unset_dropdown_height()}))},IframeWindow.prototype.check_review_translation_widget=function(){return $(".js-translation-button").length>0},IframeWindow.prototype.set_dropdown_height=function(selector){var $body,$dropdown,min_height;if($dropdown=$(selector),$body=$("body"),min_height=$dropdown.offset().top+$dropdown.height()+10,$body.height()<min_height)return $body.css({"minHeight":min_height})},IframeWindow.prototype.unset_dropdown_height=function(){return $("body").css({"minHeight":""})},IframeWindow}(this.AbstractWindow)}.call(this),function(){var ImageFieldValidator;ImageFieldValidator=function(){function ImageFieldValidator(){}return ImageFieldValidator.prototype.validate=function($input){var ext,file,filename;if(lib.browser.supports_file_reader()){if(!($input=$input[0]).files)return lib.alert.show(lib.i18n.t("image_field_cant_add_photo_without_file_reader")),!1;if(!(file=$input.files[0]))return lib.alert.show(lib.i18n.t("image_field_cant_add_photo_without_file")),!1;if(file.type&&!file.type.match(/image/))return lib.alert.show(lib.i18n.t("image_field_cant_add_photo_with_file_type",{"file_type":file.type})),!1;filename=file.name}else{if(!$input[0])return lib.alert.show(lib.i18n.t("image_field_cant_add_photo_without_file_input")),!1;filename=$input[0].value}return!(filename&&(ext=filename.match(/\.[a-z]+/i))&&!ext[0].match(/png|jpg|jpeg|bmp|gif/i))||(lib.alert.show(lib.i18n.t("image_field_cant_add_photo_with_file_name",{"file_name":filename})),!1)},ImageFieldValidator}(),app.image_field_validator=new ImageFieldValidator}.call(this),function(){$((function(){return $(document).on("input","input[type=number].js-input-positive-integer-only",(function(){var value;if(this.checkValidity&&!this.checkValidity()&&$(this).val(""),value=$(this).val())return $(this).val(parseInt(value))}))}))}.call(this),function(){var LikeResult;LikeResult=function(){function LikeResult(){}return LikeResult.prototype.add_score=function($review,delta_score,delta_total){if($review.length>0)return $review.find(".js-like-result").each((_this=this,function(_i,e){var $like_result;return $like_result=$(e),_this.set_total($like_result,delta_total),_this.set_plus($like_result,delta_score,delta_total)})),this.set_score_text($review,delta_score);var _this},LikeResult.prototype.set_total=function($like_result,delta_total){var $likes_html,$total,new_total,total;if($total=$like_result.find(".js-like-score-total"),$likes_html=$like_result.find(".js-likes-html"),(new_total=(total=parseInt($total.text()))+delta_total)!==total)return $total.text(new_total),0===new_total?$likes_html.addClass("hidden"):$likes_html.removeClass("hidden")},LikeResult.prototype.set_plus=function($like_result,delta_score,delta_total){var $plus;return delta_total>=0&&delta_score>0?($plus=$like_result.find(".js-like-score-plus")).text(parseInt($plus.text())+1):delta_total<=0&&delta_score<0?($plus=$like_result.find(".js-like-score-plus")).text(parseInt($plus.text())-1):void 0},LikeResult.prototype.set_score_text=function($review,delta_score){var $score,score;return $score=$review.find(".js-like-score-text"),score=parseInt($score.text().replace(/\+\-/,"")),(score+=delta_score)>0?$score.text("+"+score):score<0?$score.text(score):$score.text("0")},LikeResult}(),app.like_result=new LikeResult}.call(this),function(){var LikeResultV2;LikeResultV2=function(){function LikeResultV2(){}return LikeResultV2.prototype.set_score_text=function($review,delta_score,delta_total){var minus_score;return minus_score=this.set_total($review,delta_total)-this.set_plus($review,delta_score,delta_total),this.set_minus($review,minus_score)},LikeResultV2.prototype.set_total=function($review,delta_total){var $total,new_total;return $total=$review.find(".js-like-score-total"),new_total=parseInt($total.text())+delta_total,$total.text(new_total),new_total},LikeResultV2.prototype.set_plus=function($review,delta_score,delta_total){var $plus,plus_score;return $plus=$review.find(".js-like-score-plus"),plus_score=parseInt($plus.text()),delta_total>=0&&delta_score>0?(plus_score+=1,$plus.text(plus_score)):delta_total<=0&&delta_score<0&&(plus_score-=1,$plus.text(plus_score)),this.set_scores($plus,plus_score),plus_score},LikeResultV2.prototype.set_minus=function($review,minus_score){var $minus;return($minus=$review.find(".js-like-score-minus")).text(minus_score),this.set_scores($minus,minus_score)},LikeResultV2.prototype.set_scores=function($score_span,score){var $score_text,score_with_unit;return $score_text=$score_span.siblings(".js-like-score-text").last(),score_with_unit=lib.number_unit_formatter.number_with_unit(score,1),$score_text.text(score_with_unit),0===score?$score_text.hide():$score_text.show()},LikeResultV2}(),app.like_result_v2=new LikeResultV2}.call(this),function(){var Main;Main=function(){function Main(){var _this;$(document).on("click",".js-link-iframe",(function(){var keep_scroll,redirect_url,referrer,url;if(url=$(this).data("url"))return url=url.toString().replace(/^\/\//,"http://"),referrer=document.referrer,"https"===$.url(referrer).attr("protocol")&&((redirect_url=new UrlBuilder(url)).set_protocol("https"),url=redirect_url.build()),keep_scroll=!!$(this).data("keep-scroll"),app.window.redirect_to(url,{"keep_scroll":keep_scroll,"close_url":!0})})),$(document).on("grid:appended",(function(e,args){if(app.window.resize_target(),args&&args.elements)return $(args.elements).find("img[data-no-size=true]").each((function(i,e){return lib.ui_util.on_load($(e),(function(){return app.window.resize_target()}))}))})),$(document).find("img").each((_this=this,function(i,e){return _this.bind_image_error(e)})),$(document).on("history:updated",function(_this){return function(e,element){return $(element).find("img").each((function(i,e){return _this.bind_image_error(e)}))}}(this))}return Main.prototype.bind_image_error=function(image){return!0===image.complete&&0===image.naturalWidth?this.show_alternative_image(image):$(image).on("error",(_this=this,function(){return _this.show_alternative_image(image)}));var _this},Main.prototype.show_alternative_image=function(image){return $(image).off("error"),$(image).css("background-color","#eeeeee"),$(image).attr("src",lib.data.get("transparent-image-url"))},Main}(),app.Main=Main}.call(this),function(){var ReviewLocaleFilter;ReviewLocaleFilter=function(){function ReviewLocaleFilter(){var _this;this.bind_click_event(),$(document).on("history:updated",(_this=this,function(){return _this.bind_click_event()}))}return ReviewLocaleFilter.prototype.bind_click_event=function(){var $filter_button;return $filter_button=$(".js-locale-filter"),this.set_button_image($filter_button),$filter_button.on("click",(function(){var url_builder;return(url_builder=new UrlBuilder(lib.history.get_current_url())).remove_param("page"),url_builder.add_param("aloading",".page"),url_builder.add_param("atarget","reviews"),url_builder.param("filter_by_brand_locale")?url_builder.remove_param("filter_by_brand_locale"):url_builder.add_param("filter_by_brand_locale",1),$.getScript(url_builder.build())}))},ReviewLocaleFilter.prototype.set_button_image=function($filter_button){var $button;return $button=$filter_button.find(".reviews_manager__button"),lib.history.get_current_url().match(/filter_by_brand_locale/)?$button.addClass("reviews_manager__button--on"):$button.removeClass("reviews_manager__button--on")},ReviewLocaleFilter}(),$((function(){return new ReviewLocaleFilter}))}.call(this),function(){this.ReviewMedia=function(){function ReviewMedia(){var _this;this.enabled=!0,this.$root=$(".js-image-fields"),this.set_form_components(),$(document).on("change",".js-input-video-file",(_this=this,function(e){return _this.on_select_video(e.target)})),$(document).on("change",".js-input-file",function(_this){return function(e){return _this.on_select_image(e.target)}}(this)),$(document).on("click",".js-remove-preview, .js-remove-image",function(_this){return function(e){return _this.on_remove_attachment(e.target)}}(this)),$(document).on("click",".js-add-image-container",function(_this){return function(){return _this.add_image_container()}}(this))}return ReviewMedia.prototype.attachments_count=function(){return this.images_count+this.videos_count},ReviewMedia.prototype.set_enabled=function(enabled){return this.enabled=enabled},ReviewMedia.prototype.set_form=function($form){return this.$root=$form.find(".js-image-fields"),this.set_form_components(),$form.bind("ajax:error",(function(e,xhr){if(xhr.responseText&&xhr.responseText.match(/^413/))return lib.alert.show(lib.i18n.t("image_size_too_large"))}))},ReviewMedia.prototype.set_form_components=function(){return this.$submit_button=$(".review_popup_form__submit_button"),this.$uploading_desc=$(".review_popup_form__video_uploading_desc"),this.set_max_media_count(),this.set_media_count()},ReviewMedia.prototype.set_max_media_count=function(){return this.max_media_count=this.$root.data("max-images-count")||this.$root.data("max-media-count")},ReviewMedia.prototype.set_media_count=function(){return this.images_count=this.$root.data("images-count"),this.videos_count=this.$root.data("videos-count")||0},ReviewMedia.prototype.on_select_video=function(input){var file;if(file=input.files[0])return this.videos_count+=1,this.get_thumbnail_from_video(file,input),this.create_video(file,input),this.attachments_count()<this.max_media_count?this.add_new_attachment_field():void 0},ReviewMedia.prototype.get_thumbnail_from_video=function(file,input){var reader,_this;return(reader=new FileReader).onload=(_this=this,function(){var $preview_container,blob,capture_image,default_video_thumbnail_url,is_video_element_play_unsupported,show_video_thumbnail,url,video,video_promise;return blob=new Blob([reader.result],{"type":file.type}),url=URL.createObjectURL(blob),video=document.createElement("video"),$preview_container=$(input).siblings(".js-image-field-preview-container").last(),default_video_thumbnail_url=_this.$root.data("default-video-thumbnail-url"),is_video_element_play_unsupported=lib.browser.is_ie&&lib.browser.ie_document_mode>9,capture_image=function(){var canvas,image_url;return(canvas=document.createElement("canvas")).width=video.videoWidth,canvas.height=video.videoHeight,canvas.getContext("2d").drawImage(video,0,0,canvas.width,canvas.height),(!(image_url=canvas.toDataURL())||image_url.indexOf("data:image")<0||image_url.indexOf("YMGDAgAEDBgw")>=0||is_video_element_play_unsupported)&&(image_url=default_video_thumbnail_url),_this.show_preview_image($preview_container,image_url),_this.draw_video_thumbnail_play_button($preview_container),URL.revokeObjectURL(url)},video.addEventListener("loadeddata",capture_image,{"once":!0}),video.preload="metadata",video.src=url,video.muted=!0,video.playsInline=!0,show_video_thumbnail=function(){return _this.show_preview_image($preview_container,default_video_thumbnail_url),_this.draw_video_thumbnail_play_button($preview_container)},void 0!==(video_promise=video.play())?video_promise.catch(show_video_thumbnail):show_video_thumbnail()}),reader.readAsArrayBuffer(file)},ReviewMedia.prototype.draw_video_thumbnail_play_button=function($preview_container){var play_icon,screen;return(play_icon=document.createElement("span")).className="review_popup_form__play_icon sprites-play-button-small",$preview_container.prepend($(play_icon)),(screen=document.createElement("div")).className="review_popup_form__image_screen",$preview_container.prepend($(screen))},ReviewMedia.prototype.create_video=function(file,input){return this.set_video_upload_status(input,!0),this.$submit_button.attr("disabled","disabled"),this.$uploading_desc.show(),$.ajax({"url":$(input).data("video-create-url"),"type":"post","dataType":"json","data":{"contents_size":file.size,"file_type":file.type},"timeout":3e3,"success":(_this=this,function(response){return _this.input_element_already_deleted(input)?_this.finish_upload_process(input):(_this.upload_video(file,input,response.video_id),_this.set_video_id_input_value(input,response.video_id))}),"error":function(_this){return function(xhr){return lib.alert.show(xhr.responseJSON.message),_this.halt_upload_process(input)}}(this)});var _this},ReviewMedia.prototype.input_element_already_deleted=function(input){return this.$root.find(".js-input-video-file").map((function(){return this.value})).get().indexOf(input.value)<0},ReviewMedia.prototype.set_video_id_input_value=function(input,video_id){return $(input).siblings(".js-video-id-input").val(video_id)},ReviewMedia.prototype.set_video_upload_status=function(input,status){return $(input).attr("data-is-uploading",status)},ReviewMedia.prototype.uploading_videos_count=function(){
return $(".js-hidden-video-input[data-is-uploading=true]").length},ReviewMedia.prototype.upload_video=function(file,input,video_id){var direct_upload_url,url,_this;return direct_upload_url=$(input).data("direct-upload-url"),url=new UrlBuilder(direct_upload_url).add_param("video_id",video_id).build(),new app.direct_uploader(file,url,input).upload.create((_this=this,function(error){return error?(lib.alert.show("upload_video failed"),lib.alert.show(error),_this.halt_upload_process(input)):_this.create_upload_job(input,video_id)}))},ReviewMedia.prototype.create_upload_job=function(input,video_id){return $.ajax({"url":$(input).data("create-video-upload-job-url"),"type":"post","dataType":"json","data":{"video_id":video_id},"success":(_this=this,function(){return _this.finish_upload_process(input)}),"error":function(_this){return function(xhr){return lib.alert.show(xhr.responseJSON.message),_this.finish_upload_process(input)}}(this)});var _this},ReviewMedia.prototype.finish_upload_process=function(input){if(this.set_video_upload_status(input,!1),0===this.uploading_videos_count())return this.$submit_button.removeAttr("disabled"),this.$uploading_desc.hide()},ReviewMedia.prototype.halt_upload_process=function(input){return $(input).siblings(".js-image-field-preview-container").find(".js-remove-preview").click(),this.finish_upload_process(input)},ReviewMedia.prototype.delete_video=function(video_id){return this.request_delete([video_id])},ReviewMedia.prototype.delete_videos=function(){var video_ids;return video_ids=this.$root.find("input.js-video-id-input").map((function(){return this.value})).get().filter((function(v){return v})),this.request_delete(video_ids)},ReviewMedia.prototype.request_delete=function(video_ids){if(video_ids.length)return $.ajax({"url":this.$root.data("video-delete-url"),"type":"post","data":{"video_ids":video_ids},"success":function(){return console.log("deleted the videos(s)")}})},ReviewMedia.prototype.on_select_image=function(input){var $form,$input,$input_image_container,$parent,complete,url_builder,_this;return!this.enabled||($input=$(input),this.image_field_validate($input)?($input.siblings(".js-image-field-preview-container").find(".js-image-field-preview"),lib.browser.supports_file_reader()?this.select_images(input.files):(($input_image_container=$input.siblings(".js-image-field-input-image-container")).hide(),$parent=$input.parent(),lib.ui_util.set_waiting($parent),$form=$("#form-upload-image"),(url_builder=new UrlBuilder($input.data("upload-image-url"))).add_param("input_id",$input.attr("id")),$form.attr("action",url_builder.build()),$input.data("name",$input.attr("name")),$input.attr("name","file"),$form.children("#upload-fields-container").empty().append($input),complete=function(){return $form.unbind("ajax:success ajax:error"),$input_image_container.show(),lib.ui_util.clear_waiting($parent)},$form.bind("ajax:success",(_this=this,function(e,data){return complete(),_this.add_preview_image(data)})),$form.bind("ajax:error",(function(){return $input.val(""),$parent.append($input),complete()})),$form.submit())):void 0)},ReviewMedia.prototype.select_images=function(files){var $new_image_field,alert_message,i,j,new_images_count,offset,ref,remaining_images_count,results;if(files){for(new_images_count=files.length,(remaining_images_count=this.max_media_count-this.attachments_count())<new_images_count&&(alert_message=this.$root.data("limit-images-count-warning").replace(/%{max_count}/,this.max_media_count).replace(/%{count}/,remaining_images_count),lib.alert.show(alert_message),new_images_count=remaining_images_count),offset=this.attachments_count(),results=[],i=j=0,ref=new_images_count;j<ref;i=j+=1)$new_image_field=this.set_preview_image(),i!==new_images_count-1&&$new_image_field.find(".js-input-file").remove(),results.push(this.preview_image_data(files[i],offset+i));return results}},ReviewMedia.prototype.preview_image_data=function(image_data,index){var reader,_this;return(reader=new FileReader).onload=(_this=this,function(e){var image;return(image=new Image).src=e.target.result,image.onload=function(e){var $preview_container,image_filename_input;if($preview_container=_this.$root.find(".js-image-field-preview-container").eq(index),_this.load_preview_image($preview_container,e.target,image_data),image_filename_input=$preview_container.closest(".js-image-field").find(".js-image-filename-input")[0])return image_filename_input.value=image_data.name}}),reader.readAsDataURL(image_data)},ReviewMedia.prototype.load_preview_image=function($preview_container,image,image_data){var image_height,image_src,image_width;return image_src=image.src,image_height=image.height,image_width=image.width,EXIF.getData(image_data,(function(){var $preview,css,orientation,rotation;if(orientation=EXIF.getAllTags(image_data).Orientation,rotation={"1":"rotate(0deg)","3":"rotate(180deg)","6":"rotate(90deg)","8":"rotate(270deg)"},image_height>image_width)switch(orientation){case 6:case 8:orientation=1}return $preview=$preview_container.find(".js-image-field-preview"),css={"backgroundImage":"url("+image_src+")"},orientation&&(css.transform=rotation[orientation]),$preview.css(css),$preview_container.removeClass("hidden")}))},ReviewMedia.prototype.on_remove_attachment=function(link){var $attachment_field,$input_file,$link,$video_input,is_uploading,video_id;if(($link=$(link)).closest(".js-image-field-preview-container").addClass("hidden"),$attachment_field=$link.closest(".js-image-field"),"image"===this.input_file_type($attachment_field)?(this.images_count-=1,$attachment_field.remove()):(is_uploading=($video_input=$attachment_field.find(".js-hidden-video-input")).data("is-uploading"),video_id=$attachment_field.find(".js-video-id-input").val(),is_uploading&&this.finish_upload_process($video_input),$attachment_field.remove(),video_id&&this.delete_video(video_id),this.videos_count-=1),this.attachments_count()===this.max_media_count-1&&this.add_new_attachment_field(),!lib.browser.supports_file_reader())return $input_file=$("#form-upload-image input"),$attachment_field.find(".js-image-field-input-image-container").after($input_file)},ReviewMedia.prototype.input_file_type=function($attachment_field){var input_with_value;return!(input_with_value=$attachment_field.find("input[type=file]").filter((function(){return this.value}))[0])||input_with_value.getAttribute("accept")&&input_with_value.getAttribute("accept").indexOf("image")>=0?"image":"video"},ReviewMedia.prototype.add_preview_image=function(args){var $image_field,$input,$preview_container,attribute_id,attribute_name,filename,image_url;return $input=args.input_id?$("#"+args.input_id):$(".js-input-file").last(),image_url=args.thumbnail_url,filename=args.filename,attribute_name=$input.data("name")||$input.attr("name"),attribute_id=$input.attr("id"),($image_field=this.$root.find("li").last()).find(".js-image-field-input-image-container").show(),($preview_container=$image_field.find(".js-image-field-preview-container")).before($("<input type='hidden'>").attr({"name":attribute_name,"id":attribute_id}).val(filename)),this.show_preview_image($preview_container,image_url),this.set_preview_image()},ReviewMedia.prototype.show_preview_image=function($preview_container,image_url){return $preview_container.find(".js-image-field-preview").attr("src",image_url).css("width","100%"),$preview_container.removeClass("hidden")},ReviewMedia.prototype.set_preview_image=function(){if(this.attachments_count()<this.max_media_count&&(this.images_count+=1,this.attachments_count()<this.max_media_count))return this.add_new_attachment_field()},ReviewMedia.prototype.image_field_validate=function($input){return app.image_field_validator.validate($input)},ReviewMedia.prototype.add_new_attachment_field=function(){var $new_image_field;return $new_image_field=$(Mustache.render(this.$root.closest("form").find("#new-image-field").html())).appendTo(this.$root),app.reviews_new_state.is_using_video_reviews()?app.reviews_new_state.bind_media_select_dialog($(document)):app.reviews_new_state.bind_photo_select_button($(document)),$new_image_field},ReviewMedia.prototype.add_image_container=function(){var offset;return this.images_count<this.max_media_count?(offset=$("input[type=hidden][name='review[images][]']").length,this.$root.find("input[type=file]").eq(this.images_count-offset).trigger("click")):lib.alert.show(this.$root.data("max-images-count-warning"))},ReviewMedia}()}.call(this),function(){var ReviewMessageChecker;ReviewMessageChecker=function(){function ReviewMessageChecker(){this.filter_pattern=new RegExp(/[^0-9\u3131-\u314e\u314f-\u3163\uac00-\ud7a3a-zA-Z\u3041-\u3094\u30a1-\u30f4\u30fc\u3005\u3006\u3024\u3002\u4e00-\u9fa5\uff0c\s\n\r\t!@#$%^&*()_+\-=[\]{}?\/.,><\u20a9~\\|;:'"`]/g)}return ReviewMessageChecker.prototype.valid=function($form){var message;return!$form.data("allow-only-basic-chars-for-new-review")||(message=$form.find("textarea#review_message").val(),!this.filter_pattern.test(message))},ReviewMessageChecker.prototype.remove_not_allowed_chars=function($form){var $input,message_not_allowed_chars_removed;return message_not_allowed_chars_removed=($input=$form.find("textarea#review_message")).val().replace(this.filter_pattern,"").trim(),$input.val(message_not_allowed_chars_removed),$input.trigger("change")},ReviewMessageChecker}(),app.review_message_checker=new ReviewMessageChecker}.call(this),function(){var ReviewMessageLengthLoader;ReviewMessageLengthLoader=function(){function ReviewMessageLengthLoader(){}return ReviewMessageLengthLoader.prototype.load=function($form){var message;return message=$form.find("textarea#review_message").val(),$form.data("auto-mileage-use-valid-review-message-length")?$.ajax({"url":$form.data("valid-message-length-api-url"),"type":"post","dataType":"json","data":{"message":message}}):message.length},ReviewMessageLengthLoader}(),app.review_message_length_loader=new ReviewMessageLengthLoader}.call(this),function(){this.CommentsV2Base=function(){function CommentsV2Base(){this.bind_comments_area_toggle_link(),this.bind_cancel_comment_link_click(),this.bind_delete_comment_link_click(),this.bind_edit_comment_dropdown_box_toggle(),this.bind_edit_comment_input_change(),this.bind_edit_comment_link_click(),this.bind_edit_comment_sumbit(),this.bind_hide_comments_area_button_click(),this.bind_new_comment_input_change(),this.bind_new_comment_input_focus()}return CommentsV2Base.prototype.bind_comments_area_toggle_link=function(){return $(document).on("click",".js-comments-link",(function(e){var $review;return($review=$(e.currentTarget).closest(".js-review-container")).hasClass("renewed_review--comments_expanded")?app.comments_v2.hide_comments_v2($review):app.comments_v2.show_comments_v2($review)}))},CommentsV2Base.prototype.hide_comments_v2=function($review){var $comments;return $comments=$review.find(".js-review-comments-container"),lib.animation.height_down_v2($comments,{"complete":function(){return $review.removeClass("renewed_review--comments_expanded")}})},CommentsV2Base.prototype.show_comments_v2=function($review){var $comments;return $review.addClass("renewed_review--comments_expanded"),$comments=$review.find(".js-review-comments-container"),lib.animation.height_up_v2($comments)},CommentsV2Base.prototype.bind_cancel_comment_link_click=function(){return $(document).on("click",".js-cancel-comment",(function(e){var $comment,$textarea;return $textarea=($comment=$(e.target).closest(".comment_v2")).find("textarea"),confirm($textarea.data("cancel-confirm-message")).done((function(result){var old_comment;if(result)return old_comment=$comment.find(".comment_v2__message").text(),$comment.removeClass("comment_v2--editing"),$comment.find(".comment_v2__message_textarea").val(old_comment),app.comments_v2.show_new_comment_textarea(e.target)}))}))},CommentsV2Base.prototype.bind_delete_comment_link_click=function(){return $(document).on("click",".js-delete-commment-action",(function(e){return $(e.target).closest(".comment_v2").find(".js-comment-edit-dropdown").hide()}))},CommentsV2Base.prototype.bind_edit_comment_dropdown_box_toggle=function(){return $(document).on("click",(function(e){if(!$(e.target).closest(".js-comment-edit-dropdown").length&&!$(e.target).closest(".js-comment-edit-dropdown-link").length&&!$(e.target).is(".js-comment-edit-dropdown-link"))return $(".js-comment-edit-dropdown").hide()})),$(document).on("click",".js-comment-edit-dropdown-link",(function(e){var $dropdown_box;return($dropdown_box=$(e.target).closest(".comment_v2").find(".js-comment-edit-dropdown")).is(":visible")?$dropdown_box.hide():($(".js-comment-edit-dropdown").hide(),$dropdown_box.show())}))},CommentsV2Base.prototype.bind_edit_comment_input_change=function(){return $(document).on("input change paste keyup",".js-edit-comment-textarea",(function(e){return app.comments_v2.set_comment_submit_button_visibility(e.target),app.comments_v2.calculate_comment_message_height($(e.target).closest(".js-comment-form-container"))}))},CommentsV2Base.prototype.bind_edit_comment_link_click=function(){return $(document).on("click",".js-edit-commment-action",(function(e){var $comment;return $(e.target).closest(".js-comments-container").find(".comments_v2__new_comment").hide(),($comment=$(e.target).closest(".comment_v2")).addClass("comment_v2--editing"),$comment.find(".js-comment-edit-dropdown").hide(),app.comments_v2.calculate_comment_message_height($comment),$comment.find("textarea").focus()}))},CommentsV2Base.prototype.bind_edit_comment_sumbit=function(){return $(document).on("click",".js-edit-comment-submit",(function(e){var $comment,$textarea,message,old_comment;if($textarea=($comment=$(e.target).closest(".comment_v2")).find("textarea"),old_comment=$comment.find(".comment_v2__message").text(),""!==(message=$comment.find("textarea").val()))return message!==old_comment?$.ajax({"url":$textarea.data("update-url"),"type":"patch","dataType":"script","data":{"message":message},"success":function(){return $comment.removeClass("comment_v2--editing"),$comment.find(".comment_v2__message").html(message.replace(/\r\n|\r|\n/g,"<br>")),$comment.find(".comment_v2__message_textarea").val(message),app.comments_v2.show_new_comment_textarea(e.target)}}):($comment.removeClass("comment_v2--editing"),app.comments_v2.show_new_comment_textarea(e.target));alert($textarea.data("message-required"))}))},CommentsV2Base.prototype.bind_hide_comments_area_button_click=function(){return $(document).on("click",".js-new-comment-cancel",(_this=this,function(){return _this.hide_and_reset_comments_area_buttons()}));var _this},CommentsV2Base.prototype.bind_new_comment_input_change=function(){return $(document).on("change paste keyup",".js-new-comments-input",(function(e){var $comment;if(app.comments_v2.set_comment_submit_button_visibility(e.target),($comment=$(e.target).closest(".comments_v2__new_comment.pc")).length)return app.comments_v2.calculate_comment_message_height($comment)}))},CommentsV2Base.prototype.bind_new_comment_input_focus=function(){return $(document).on("focus",".js-new-comments-input",(_this=this,function(e){if(_this.is_user_authorized(e))return _this.show_comments_area(e)}));var _this},CommentsV2Base.prototype.is_user_authorized=function(e){var $form,$input;return($form=($input=$(e.target)).closest("form")).data("enable-user-comments")?!!app.login.check(e)||($input.trigger("blur"),!1):(alert($form.data("enable-user-comments-alert")),$input.trigger("blur"),!1)},CommentsV2Base.prototype.show_comments_area=function(e){var $input;return($input=$(e.target)).closest("form"),$input.closest(".comments_v2").find(".js-new-comment-buttons").show(),app.comments_v2.set_comment_submit_button_visibility($input)},CommentsV2Base.prototype.hide_and_reset_comments_area_buttons=function(){var $comment_buttons_container,$comment_container;return($comment_container=$(".js-comment-form-container")).find(".js-new-comments-input").val("").change(),($comment_buttons_container=$comment_container.find(".js-new-comment-buttons")).hide(),$comment_buttons_container.find(".comments_v2__submit_button").attr("disabled","disabled")},CommentsV2Base.prototype.show_new_comment_textarea=function(element){var $comments_container;return($comments_container=$(element).closest(".js-comments-container")).find(".js-new-comment").show(),$comments_container.find(".js-new-comment-buttons").hide()},CommentsV2Base.prototype.calculate_comment_message_height=function($comment_container){var $textarea,additional_height_for_not_showing_scrollbar,scroll_height;return additional_height_for_not_showing_scrollbar=2,($textarea=$comment_container.find("textarea")).css("height","auto"),scroll_height=$textarea.get(0).scrollHeight+additional_height_for_not_showing_scrollbar,$textarea.css("height",scroll_height+"px")},CommentsV2Base.prototype.set_comment_submit_button_visibility=function(element){var $comment_submit_btn,$input;return $comment_submit_btn=($input=$(element)).closest(".js-comment-form-container").find(".comment_submit_button"),$input.val()?($comment_submit_btn.removeAttr("disabled"),$comment_submit_btn.removeClass("comment_submit_button--disabled")):($comment_submit_btn.attr("disabled","disabled"),$comment_submit_btn.addClass("comment_submit_button--disabled"))},CommentsV2Base.prototype.bind_tinyscrollbar_call_on_comments_resize=function($elements){return $elements.find(".js-review-comments-container").resize((function(){var scroll_from_top;return scroll_from_top=-1*parseInt($(this).closest(".overview").css("top"),10),app.tinyscrollbar.call($(this).closest(".js-scrollbar"),{"scroll":scroll_from_top})}))},CommentsV2Base}()}.call(this),function(){var ProductReviewKeyword;ProductReviewKeyword=function(){function ProductReviewKeyword(){}return ProductReviewKeyword.prototype.init=function($elements){var $keyword_review;if(($keyword_review=$elements.find(".js-keyword-review")).length)return this.bind_toggle_button($keyword_review)},ProductReviewKeyword.prototype.bind_toggle_button=function($elements){return $elements.find(".js-keyword-toggle-button").click((function(){return $(this).closest(".js-keyword-review").toggleClass("expanded")}))},ProductReviewKeyword}(),app.product_review_keyword=new ProductReviewKeyword}.call(this),function(){var NonmemberReviewModal;NonmemberReviewModal=function(){function NonmemberReviewModal(){$(document).on("keyup change paste",".js-nonmember-password-input",(function(e){var $input,$nonmember_container,default_message;return $nonmember_container=($input=$(e.target)).closest(".nonmember_review_modal__container"),$input.val()?$nonmember_container.find(".nonmember_review_modal__error_box").text(""):(default_message=$nonmember_container.data("default-error-message"),$nonmember_container.find(".nonmember_review_modal__error_box").text(default_message))})),$(document).on("ajax:before",".js-check-nonmember-review",(function(){var $input;if(""===($input=$(this).find(".js-nonmember-password-input")).val())return $input.focus(),!1}))}return NonmemberReviewModal.prototype.open_nonmember_modal=function(){var $nonmember_modal;return $nonmember_modal=$("#js-nonmember-review-modal-script"),app.modal.open({"html":Mustache.render($nonmember_modal.html()),"modal_class":"nonmember_review_modal","closed":function(){return app.window.close_fullscreen_popup()}}),setTimeout((function(){return $(".js-nonmember-review-modal").find(".js-nonmember-password-input").focus()}),500)},NonmemberReviewModal}(),lib.nonmember_review_modal=new NonmemberReviewModal}.call(this),function(){this.ReviewsBase=function(){function ReviewsBase(){$(document).on("click",".js-review-form-submit-button",(function(){var $form;return $form=$(".js-review-form"),app.review_message_checker.valid($form)?app.reviews.validate_message_length_and_submit($form):(app.review_message_checker.remove_not_allowed_chars($form),alert($form.data("not-allowed-chars-message")),!1)}))}return ReviewsBase.prototype.validate_message_length_and_submit=function($form){var message_length_loader_result;return message_length_loader_result=app.review_message_length_loader.load($form),$.when(message_length_loader_result).then((function(length){return app.reviews.check_message_length_valid_and_submit($form,length)}))},ReviewsBase.prototype.show_minimum_message_length_warning=function(){},ReviewsBase.prototype.show_minimum_message_length_error=function(){},ReviewsBase}()}.call(this),function(){var ReviewsManager;ReviewsManager=function(){function ReviewsManager(){this.show_reviews_manager(),$(document).on("history:updated",this.show_reviews_manager)}return ReviewsManager.prototype.show_reviews_manager=function(){if("ko-KR"!==$("body").attr("lang"))return $(".reviews_manager").removeClass("hidden"),$(".reviews_manager_v2").removeClass("hidden")},ReviewsManager}(),$((function(){return new ReviewsManager}))}.call(this),function(){var format_select_rating_renewed;this.ReviewsNewStateBase=function(){function ReviewsNewStateBase(){}return ReviewsNewStateBase.prototype.is_using_renewed_popup=function(){return lib.data.get("use-renewed-popup")},ReviewsNewStateBase.prototype.is_using_video_reviews=function(){return lib.data.get("use-video-reviews")},ReviewsNewStateBase.prototype.bind_form=function($elements){return this.bind_rating_select($elements),this.bind_notice_click($elements),this.bind_form_toggle_button($elements),this.bind_form_textarea_placeholder($elements),this.bind_attachment_form($elements),this.bind_form_cancel_review_button($elements),this.bind_hide_cancel_review_button($elements),this.bind_form_pending_review($elements),this.bind_form_submit_button($elements),this.bind_form_close_button($elements)},ReviewsNewStateBase.prototype.bind_rating_select=function($elements){return $elements.find("select.js-select-rating-renewed").each((function(i,e){return app.form.select($(e),{"formatResult":format_select_rating_renewed,"formatSelection":format_select_rating_renewed,"escapeMarkup":function(m){return m}})}))},ReviewsNewStateBase.prototype.bind_notice_click=function($elements){if($elements.find(".review_popup_form__reward_notice").length)return $elements.find(".js-review-popup-form-notice").click((function(){return $(this).toggleClass("review_popup_form__notice--expanded"),$(this).find(".review_popup_form__reward_notice").toggleClass("review_popup_form__reward_notice--expanded"),$(this).find(".review_popup_form__notice_arrow").toggleClass("review_popup_form__notice_arrow--expanded")}))},ReviewsNewStateBase.prototype.bind_form_toggle_button=function(){return $(document).on("toggle_button:changed",(function(e){var $button;if(($button=$(e.target)).hasClass("active"))return $button.closest(".review_popup_form__section_button_group").find(".js-toggle-button").removeClass("active"),$button.addClass("active")}))},ReviewsNewStateBase.prototype.bind_form_textarea_placeholder=function($elements){return $elements.find(".js-review-popup-textarea").each((_this=this,function(_,e){return _this.change_textarea_placeholder_class($(e)),$(e).on("change keyup paste",(function(event){return _this.change_textarea_placeholder_class($(e),event)}))}));var _this},ReviewsNewStateBase.prototype.change_textarea_placeholder_class=function($element,event){var $placeholder,textarea_value;return $placeholder=$element.next(".js-review-popup-textarea-placeholder"),textarea_value=$element.val(),event&&"paste"===event.type&&(textarea_value=(event.originalEvent.clipboardData||window.clipboardData).getData("Text")),textarea_value.length>0?$placeholder.addClass("hidden"):$placeholder.removeClass("hidden")},ReviewsNewStateBase.prototype.bind_attachment_form=function($elements){return this.is_using_video_reviews()?this.bind_media_select_dialog($elements):this.bind_photo_select_button($elements),app.review_media.set_form($elements.find("#review-popup-form"))},ReviewsNewStateBase.prototype.bind_photo_select_button=function($elements){return $elements.find(".js-add-photo-button").off("click").click((function(){if(!$(this).find(".js-image-filename-input").val())return $elements.find(".js-input-file").last().click()}))},ReviewsNewStateBase.prototype.bind_media_select_dialog=function($elements){return this.bind_media_select_dialog_closing($elements),this.bind_media_select_dialog_buttons($elements)},ReviewsNewStateBase.prototype.bind_media_select_dialog_closing=function($elements){var $media_select_dialog,media_select_button_class,media_select_dialog_class;return $elements.find(".js-close-dialog-button").click((function(){return $media_select_dialog.hide()})),media_select_dialog_class=".review_popup_form__media_select_dialog",media_select_button_class=".js-select-file-type",$media_select_dialog=$(media_select_dialog_class),$elements.find(media_select_button_class).click((function(){return $media_select_dialog.toggle()})),$elements.click((function(e){var is_dialog_clicked,is_select_button_clicked;if(is_dialog_clicked=$(e.target).closest(media_select_dialog_class).length>0,is_select_button_clicked=$(e.target).closest(media_select_button_class).length>0,!is_dialog_clicked&&!is_select_button_clicked)return $media_select_dialog.hide()}))},ReviewsNewStateBase.prototype.bind_media_select_dialog_buttons=function($elements){return $elements.find(".js-add-photo-button").off("click").click((function(){return $elements.find(".js-hidden-photo-input").last().click()})),$elements.find(".js-add-video-button").off("click").click((function(){return $elements.find(".js-hidden-video-input").last().click()}))},ReviewsNewStateBase.prototype.bind_form_cancel_review_button=function($elements){return $elements.find(".js-popup-item-not-view").click((function(){var $link;return $link=$(this),confirm($link.data("confirm-message")).done((function(result){if(result)return $.getScript($link.data("url"))}))}))},ReviewsNewStateBase.prototype.select_another_sub_order=function(popup_form_html){var $popup_form,_this;return $popup_form=$("#review-popup-form"),this.fade_out_popup((_this=this,function(){return $popup_form.css({"opacity":0}),$popup_form.html(popup_form_html),lib.browser.is_mobile()&&(_this.is_using_renewed_popup()?$("form.review_popup_form"):$(".js-review-form")).show(),lib.animation.fade_in($popup_form,{"complete":function(){return $popup_form.css({"opacity":1})}}),_this.bind_form($popup_form)}))},ReviewsNewStateBase.prototype.fade_out_popup=function(callback){var $popup_form;return $popup_form=$("#review-popup-form"),lib.animation.fade_out($popup_form,{"complete":callback})},ReviewsNewStateBase.prototype.bind_form_submit_button=function($elements){return $elements.find(".js-review-form-submit-button").click((_this=this,function(){return _this.set_button_fields($elements)}));var _this},ReviewsNewStateBase.prototype.set_button_fields=function($elements){return $elements.find(".js-review-popup-form-button-field").each((function(){var value;return value=$(this).find(".review_popup_form__section_button.active").data("value"),$(this).prev(".review_popup_form__section_button_hidden_field").val(value)}))},ReviewsNewStateBase.prototype.bind_hide_cancel_review_button=function($elements){var _this;return $elements.find(".js-review-popup-form-input-field").on("input",(_this=this,function(e){if($(e.target).val())return _this.hide_cancel_review_button($elements)})),$elements.find(".js-toggle-button").on("click",function(_this){return function(){return _this.hide_cancel_review_button($elements)}}(this))},ReviewsNewStateBase.prototype.hide_cancel_review_button=function($elements){var $cancel_button;return $cancel_button=$elements.find(".review_popup_form__popup_item_not_view"),lib.animation.fade_out($cancel_button,{"complete":function(){return $cancel_button.addClass("hidden")}})},ReviewsNewStateBase.prototype.bind_form_pending_review=function($elements){var self;return self=this,$elements.find(".js-review-popup-form-section-body-link").click((function(e){var message,_this;return self.is_any_input_present($elements)?(message=$(e.target).closest(".js-review-popup-form-pending-reviews").data("confirm-moving-form-message"),confirm(message).done((_this=this,function(result){if(result)return app.review_media.delete_videos(),$.getScript($(_this).data("url"))}))):(app.review_media.delete_videos(),$.getScript($(this).data("url")))}))},ReviewsNewStateBase.prototype.is_any_input_present=function($elements){var result;return result=!1,this.set_button_fields($elements),$elements.find(".js-review-popup-form-input-field").each((function(){if($(this).val().length>0)return result=!0,!1})),result},ReviewsNewStateBase.prototype.bind_form_close_button=function($elements){return $elements.find(".js-review-popup-form-close-button").click((function(){return app.review_media.delete_videos()}))},ReviewsNewStateBase.prototype.close_popup=function(){var $popup_form,close_url;return lib.browser.is_mobile()?window.history.back():lib.browser.is_in_iframe()?($popup_form=$("#review-popup-form"),this.fade_out_popup((function(){return $popup_form.css({"opacity":0}),app.window.close_popup_once("user","clicked_close_button")}))):(close_url=new UrlBuilder(window.location.href).param("close_url"),location.href=close_url)},ReviewsNewStateBase}(),$(document).on(lib.ui_util.textchange_events,".js-review-popup-form-count-limit",(function(){var $input,$limit_counter,count,maxlength,message_length,val;return $limit_counter=($input=$(this)).closest(".js-limit-count-container").find(".js-limit-counter"),val=$input.val(),maxlength=parseInt($input.attr("maxlength")),message_length=punycode.ucs2.decode(val).length,(count=$input.data("up-counter")?message_length:maxlength-message_length)>=0?$limit_counter.html(count):($.browser.msie&&$input.val(val.substr(0,maxlength)),$limit_counter.html(0))})),format_select_rating_renewed=function(item){var j,k,ref,result,score;for(result="<div class='item'>",result+="<span class='text_renewed'>"+item.text+"</span>",j=0,ref=score=item.id?parseInt(item.id):0;j<ref;j+=1)result+="<span class='star'></span>";for(k=score;k<5;k+=1)result+="<span class='star star--empty'></span>";return result+"</div>"}}.call(this),function(){this.ReviewsPopupStateBase=function(){function ReviewsPopupStateBase(){}return ReviewsPopupStateBase.prototype.on_enter=function(old_state_name,args){if(this.is_popup_showable(args.elements))return this.init_popup(),this.bind_click_events(args.elements);this.close_popup("system","no_pending_reviews")},ReviewsPopupStateBase.prototype.init_popup=function(){return this.$renewed_popup_settings=$("#reviews-popup-renewal-settings"),app.window.post("init_popup",{"width":this.$renewed_popup_settings.data("width"),"height":this.$renewed_popup_settings.data("height"),"direction":this.$renewed_popup_settings.data("popup-direction"),"offset_x":this.$renewed_popup_settings.data("popup-offset-x"),"offset_y":this.$renewed_popup_settings.data("popup-offset-y"),"use_inducing_popup_dark_background":this.$renewed_popup_settings.data("use-inducing-popup-dark-background")})},ReviewsPopupStateBase.prototype.bind_click_events=function(elements){return this.bind_write_button_click(elements),this.bind_close_button_click(elements)},ReviewsPopupStateBase.prototype.bind_write_button_click=function(){},ReviewsPopupStateBase.prototype.bind_close_button_click=function(elements){var _this;return elements.find(".js-reviews-popup-renewal-close-today-button").click((_this=this,function(){return _this.fade_out_popup(),app.window.close_popup_today()})),elements.find(".js-reviews-popup-renewal-close-once-button").click(function(_this){return function(){return _this.fade_out_popup(),_this.close_popup("user","clicked_close_button")}}(this))},ReviewsPopupStateBase.prototype.close_popup=function(triggered_by,reason){return app.window.close_popup_once(triggered_by,reason)},ReviewsPopupStateBase.prototype.is_popup_showable=function(elements){return 0===elements.find(".js-no-pending-reviews").length},ReviewsPopupStateBase.prototype.fade_out_popup=function(){var $popup;return $popup=$("#reviews-popup-renewal"),lib.animation.fade_out($popup,{"complete":function(){return $popup.css({"opacity":0})}})},ReviewsPopupStateBase}()}.call(this),function(){var Search;Search=function(){function Search(){}return Search.prototype.init=function($base){var _this;if($base.length)return $base.find(".js-search-trigger").each((_this=this,function(i,e){var $trigger;return($trigger=$(e)).is("select")||$trigger.is("input[type=text], input[type=hidden]")?$trigger.change((function(){return _this.reload($base)})):$trigger.is(".js-toggle-button")?$trigger.on("toggle_button:changed",(function(){return _this.reload($base)})):$trigger.is("a, button")?$trigger.click((function(){return _this.reload($base)})):void 0}))},Search.prototype.reload=function($base){var $url,params,url;return $url=$.url($base.data("search-url")),params=$url.param(),$base.find(".js-search-field").each((function(){var $field,key,value
;if(($field=$(this)).is("select, input")?(key=$field.attr("name"),value=$field.val()):$field.is(".js-toggle-button")&&null!=(key=$field.data("key"))&&(value=$field.hasClass("active")?$field.data("value-active")||1:$field.data("value-inactive")||0),null!=key)return value?params[key]=value:delete params[key]})),url=$url.attr("base")+$url.attr("path")+"?"+$.param(params),$.ajax(url,{"method":"get","dataType":"script"})},Search}(),app.search=new Search}.call(this),function(){$(document).on("history:updated",(function(){var $see_more_element,$wrapper_element,height_toggle;return $wrapper_element=$(".fullscreen_popup__content_container"),$see_more_element=$(".js-see-more-content"),$wrapper_element.length||($wrapper_element=$("html")),height_toggle=new HeightToggle($see_more_element,{"init":!1,"option":$(".js-see-more-hidden-content"),"off_callback":function(){return $wrapper_element.scrollTop($see_more_element.offset().top)}}),$(".js-see-more").on("click",(function(){return height_toggle.toggle(),$(".js-see-more-button").toggleClass("hidden")}))}))}.call(this),function(){var BrandNoticesIndexState;BrandNoticesIndexState=function(){function BrandNoticesIndexState(){}return BrandNoticesIndexState.prototype.on_enter=function(){var brand_notices_html;return brand_notices_html=$(".js-brand-notices-index-modal-tmpl").html(),app.notice_dialog.open(brand_notices_html)},BrandNoticesIndexState}(),app.brand_notices_index_state=new BrandNoticesIndexState}.call(this),function(){var NonmemberReviewsDeletePopupState;NonmemberReviewsDeletePopupState=function(){function NonmemberReviewsDeletePopupState(){}return NonmemberReviewsDeletePopupState.prototype.on_enter=function(){return lib.nonmember_review_modal.open_nonmember_modal()},NonmemberReviewsDeletePopupState}(),app.nonmember_reviews_delete_popup_state=new NonmemberReviewsDeletePopupState}.call(this),function(){var NonmemberReviewsEditPopupState;NonmemberReviewsEditPopupState=function(){function NonmemberReviewsEditPopupState(){}return NonmemberReviewsEditPopupState.prototype.on_enter=function(){return lib.nonmember_review_modal.open_nonmember_modal()},NonmemberReviewsEditPopupState}(),app.nonmember_reviews_edit_popup_state=new NonmemberReviewsEditPopupState}.call(this),function(){this.ProductsReviewsStateBase=function(){function ProductsReviewsStateBase(){}return ProductsReviewsStateBase.prototype.on_enter=function(){return $(".js-products-reviews-score").length&&(this.interval_id=setInterval((function(){return app.window.post("count_showing_widgets",{"iframe_id":lib.data.get("iframe-id"),"selector":".crema-product-reviews"})}),1e3)),$(document).on("history:updated",(_this=this,function(e,element){var $element;return $element=$(element),_this.bind_click_events($element)}));var _this},ProductsReviewsStateBase.prototype.on_exit=function(){if(this.interval_id)return clearInterval(this.interval_id)},ProductsReviewsStateBase.prototype.set_elements_state=function(){return lib.data.get(".crema-product-reviews")>1?$(".js-products-reviews-score").addClass("products_reviews_score--active"):$(".js-products-reviews-score").removeClass("products_reviews_score--active")},ProductsReviewsStateBase.prototype.bind_click_events=function($element){return $element.find(".js-products-reviews-score").off("click").on("click",(function(){if($(this).hasClass("products_reviews_score--active"))return app.window.post("scroll_to_last_widget")}))},ProductsReviewsStateBase}()}.call(this),function(){var ReviewSortDescriptonsIndexState;ReviewSortDescriptonsIndexState=function(){function ReviewSortDescriptonsIndexState(){}return ReviewSortDescriptonsIndexState.prototype.on_enter=function(){var modal_html;return modal_html=$(".js-review-sort-descriptons-tmpl").html(),app.modal.open({"html":modal_html,"modal_class":"review_sort_description_modal","closed":function(){return app.window.close_fullscreen_popup()}})},ReviewSortDescriptonsIndexState}(),app.review_sort_descriptions_index_state=new ReviewSortDescriptonsIndexState}.call(this),function(){var SpamReportsNewState;SpamReportsNewState=function(){function SpamReportsNewState(){}return SpamReportsNewState.prototype.on_enter=function(old_state_name,args){var modal_html;return modal_html=args.elements.find(".js-spam-report-tmpl").html(),app.modal.open({"html":modal_html,"modal_class":"spam_report_dialog","dialog_class":"spam_report_dialog_wrapper","closed":function(){return app.window.close_fullscreen_popup()}}),$(document).on("click",".js-spam-report-close",(function(){return app.modal.close()})),this.bind_spam_report_type_radio_click(args.elements),this.bind_spam_report_tab_click(args.elements),this.bind_spam_report_block_checkbox_click(args.elements)},SpamReportsNewState.prototype.bind_spam_report_type_radio_click=function($elements){return $(document).on("click",".js-spam-report-radio-select",(_this=this,function(e){return _this.select_spam_report_type($elements,$(e.currentTarget))}));var _this},SpamReportsNewState.prototype.select_spam_report_type=function($elements,$clicked_item){return $elements.find(".js-spam-report-radio-select").removeClass("selected"),$clicked_item.addClass("selected"),$elements.find(".js-spam-type").val($clicked_item.data("value"))},SpamReportsNewState.prototype.bind_spam_report_tab_click=function($elements){return $(document).on("click",".js-spam-report-tab",(_this=this,function(e){var $checkbox,$clicked_tab,clicked_tab_type;return($clicked_tab=$(e.currentTarget)).data("article-blocked-message")?(alert($clicked_tab.data("article-blocked-message")),!1):($elements.find(".js-spam-report-tab").removeClass("selected"),$clicked_tab.addClass("selected"),clicked_tab_type=$clicked_tab.data("spam-type"),$elements.find(".js-spam-report-radio-select").addClass("hidden"),$elements.find(".js-spam-report-radio-select-"+clicked_tab_type).removeClass("hidden"),_this.select_spam_report_type($elements,$elements.find(".js-spam-report-radio-select-"+clicked_tab_type+"[data-value='0']")),$elements.find(".js-spam-report-target").val(clicked_tab_type),($checkbox=$elements.find(".js-spam-report-block-checkbox")).find("label").html($checkbox.data(clicked_tab_type.replace(/_/,"-")+"-msg")),$checkbox.removeClass("checked"),$elements.find(".js-spam-report-block").val(!1))}));var _this},SpamReportsNewState.prototype.bind_spam_report_block_checkbox_click=function($elements){return $(document).on("click",".js-spam-report-block-checkbox",(function(){var $checkbox;return($checkbox=$(this)).toggleClass("checked"),$elements.find(".js-spam-report-block").val($checkbox.hasClass("checked"))}))},SpamReportsNewState}(),app.spam_reports_new_state=new SpamReportsNewState}.call(this),function(){this.TargetPopupsStateBase=function(){function TargetPopupsStateBase(){}return TargetPopupsStateBase.prototype.on_enter=function(old_state_name,args){var $popup,campaign_type,contents_popup,popup_contents_type,_this;return(popup_contents_type=($popup=$(".js-target-popup")).data("popup-contents-type"))&&(campaign_type=$popup.data("campaign-type"),contents_popup=new ContentsPopup,$(document).on("resize scroll touchstart touchmove touchend touchcancel mousewheel",(function(){return contents_popup.check_floating_button(),contents_popup.mark_active_tab()})),$(document).on("click",".target-contents-popup__tab",(function(e){return contents_popup.autoscroll(e.currentTarget)})),$(document).on("click touchstart",".target-contents-popup__expiring-coupons-container",(function(e){return contents_popup.highlight_selected_coupon(e.currentTarget)})),$(document).on("click touchstart",".target-contents-popup__coupon-container",(function(e){return contents_popup.highlight_selected_coupon(e.currentTarget)})),$(document).on("visibilitychange",(function(){return"visible"===document.visibilityState?$popup.css({"display":"block"}):$popup.css({"display":"none"})})),this.start_contents_popup_animation($popup.data("popup-use-dark-background"),campaign_type)),$(args.elements).find(".js-target-popup-close").on("click",(_this=this,function(){return _this.visible_on_browser()?history.back():_this.close_popup("user","clicked_close_button")})),app.window.post("init_popup",{"popup_check_direction":$popup.data("popup-check-direction"),"popup_check_offset_y":$popup.data("popup-check-offset-y"),"popup_checked_url":$popup.data("popup-checked-url"),"popup_check_min_pageviews":$popup.data("popup-check-min-pageviews"),"popup_contents_type":popup_contents_type}),this.bind_link_event()},TargetPopupsStateBase.prototype.start_contents_popup_animation=function(use_dark_background,campaign_type){var $popup_content,popup_background;if(!this.visible_on_browser())return use_dark_background&&(popup_background=$(".target-contents-popup"),lib.animation.animate(popup_background,"target-contents-popup__dark-background-fade-in",{"complete":function(){return popup_background.addClass("target-contents-popup--dark-background")},"duration":"middle"})),$popup_content=$(".target-contents-popup__content"),lib.animation.animate($popup_content,"target-contents-popup__slide-up",{"complete":function(){return $popup_content.addClass("target-contents-popup__content--initial-position__"+campaign_type)},"duration":"middle"})},TargetPopupsStateBase.prototype.close_popup=function(triggered_by,reason){return app.window.close_popup_once(triggered_by,reason)},TargetPopupsStateBase.prototype.visible_on_browser=function(){return $(".target-contents-popup__content").hasClass("target-contents-popup__content--browser")},TargetPopupsStateBase.prototype.bind_link_event=function(){return $(document).on("history:updated",(function(e,element){return $(element).find(".js-link-in-target-popup").click((function(e){var url,url_builder;return e.preventDefault(),url=$(this).attr("href"),(url_builder=new UrlBuilder(location.href)).remove_param("parent_url"),url_builder.remove_param("iframe_id"),url_builder.remove_param("iframe"),url_builder.add_param("revisit",1),url_builder.add_param("popup_id",$(".js-target-popup").data("popup-id")),app.window.post("redirect_to_by_popup_link",{"url":url,"replace_url":url_builder.build()})}))}))},TargetPopupsStateBase}()}.call(this),function(){$("#test_server_watermark").click((function(){var k,messages,ref,v;for(k in messages=[],ref=$(this).data())(v=ref[k])&&messages.push(k+": "+v);return messages.push("url: "+window.location.href),alert(messages.join("\n"))}))}.call(this),function(){$((function(){return $(document).on("click",".js-toggle-button",(function(){var $button;return($button=$(this)).toggleClass("active"),$button.trigger("toggle_button:changed")}))}))}.call(this),function(){$(document).on("history:updated",(function(e,element){return $(element).find(".styled").each((function(i,e){return $(e).uniform()}))}))}.call(this),function(){new(function(){function WindowLink(){var _this;this.load_is_iframe(),this.load_base_url(),$(document).on("history:updated",(_this=this,function(e,element){return $(element).find("a[data-link-target=window]").each((function(i,e){var $link;return($link=$(e)).click((function(){return _this.on_click($link)}))}))}))}return WindowLink.prototype.load_is_iframe=function(){return this.is_iframe=window!==window.top},WindowLink.prototype.load_base_url=function(){var url_builder;return url_builder=new UrlBuilder(window.location.href),this.base_url=url_builder.get_base()},WindowLink.prototype.on_click=function($link){var url;return!this.is_iframe||(app.login.is_required($link)?(app.login.required(),!1):("/"===(url=$link.attr("href"))[0]&&(url="/"===url[1]?window.location.protocol+url:this.base_url+url),app.window.redirect_to(url,{"keep_scroll":!0,"close_url":!0}),!1))},WindowLink}())}.call(this),function(){var Comments;Comments=function(){function Comments(){}return Comments.prototype.generatedId=65535,Comments.prototype.generateId=function(){return this.generatedId++},Comments}(),app.comments=new Comments,$(document).on("ajax:before","form.new_comment",(function(){var $comment_input,$form,$new_comment,tracking_id,val;return $form=$(this),($comment_input=$form.find(".js-input-block")).blur(),""!==(val=$comment_input.val().replace(/\r\n|\r|\n/g,"<br>"))&&(tracking_id=app.comments.generateId(),$new_comment=$(Mustache.render($form.find(".blueprint").html(),{"id":tracking_id,"message":val})),$form.closest(".js-comments-container").find("ul").append($new_comment),lib.animation.height_up($new_comment),$form.find("input[name='tracking_id']").val(tracking_id),setTimeout((function(){return $comment_input.val("")}),100))})),$(document).on("click",".js-link-edit-comment",(function(){var $comment,$edit_button,$input,$save_button,cancelled,org_val;return($edit_button=$(this)).hide(),($save_button=$(this).siblings(".js-link-save-comment")).show(),($comment=$(this).closest(".comment")).addClass("comment--editing"),($input=$comment.find("input")).focus().select(),org_val=$input.val(),cancelled=!1,$input.off("blur").on("blur",(function(){var message;return $input.off("keydown"),cancelled?($comment.removeClass("comment--editing"),$input.val(org_val)):(message=$input.val(),$.ajax({"url":$input.data("update-url"),"type":"patch","dataType":"script","data":{"message":message},"success":function(){return $edit_button.show(),$save_button.hide(),$comment.removeClass("comment--editing"),$comment.find(".comment__message_text").text(message)}}))})),$input.on("keydown",(function(e){return 13===e.keyCode?""===$input.val()?alert($input.data("message-required")):$input.blur():27===e.keyCode?(cancelled=!0,$input.blur()):void 0}))}))}.call(this),function(){var CommentsV2,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;CommentsV2=function(superClass){function CommentsV2(){return CommentsV2.__super__.constructor.apply(this,arguments)}return extend(CommentsV2,superClass),CommentsV2}(this.CommentsV2Base),app.comments_v2=new CommentsV2,$(document).on("ajax:before",".js-new-comment form.comments_v2__new_comment_form",(function(){var $comment_input,$form,$new_comment,tracking_id,val;return $form=$(this),($comment_input=$form.find(".js-input-block")).blur(),""!==(val=$comment_input.val().replace(/\r\n|\r|\n/g,"<br>"))&&(tracking_id=app.comments.generateId(),$new_comment=$(Mustache.render($form.find(".blueprint").html(),{"id":tracking_id,"message":val})),$form.closest(".js-comments-container").find("ul").append($new_comment),lib.animation.height_up($new_comment),$form.find("input[name='tracking_id']").val(tracking_id),setTimeout((function(){return $comment_input.val("").change()}),100))}))}.call(this),function(){this.NineWayDirection={"top_left":11,"top_center":12,"top_right":13,"middle_left":21,"middle_center":22,"middle_right":23,"bottom_left":31,"bottom_center":32,"bottom_right":33}}.call(this),function(){var PcEvent,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;PcEvent=function(superClass){function PcEvent(){return PcEvent.__super__.constructor.apply(this,arguments)}return extend(PcEvent,superClass),PcEvent.prototype.device_type=function(){return"pc"},PcEvent}(this.Event),app.event=new PcEvent}.call(this),function(){var Form;Form=function(){function Form(){}return Form.prototype.enable_validate=function(){return $("form[data-validate]").enableClientSideValidations()},Form.prototype.select=function($select,args){var applied_key,dropdown_icon_klass,select_args;if(applied_key="select2-applied",!$select.data(applied_key))return $select.data(applied_key,!0),this.remove_old_select($select),select_args={"minimumResultsForSearch":-1,"dropdownCssClass":$select.data("dropdown-css-class"),"adaptDropdownCssClass":function(c){return""+c=="minimal_select"?c:null}},$select.data("dropdown-auto-width")&&(select_args.dropdownAutoWidth=!0),args&&(select_args=$.extend(select_args,args)),$select.select2(select_args),dropdown_icon_klass=$select.data("dropdown-icon-class")||"sprites-icon-drop-down",dropdown_icon_klass+=" select2__dropdown_icon",$select.prev().find(".select2-arrow").after($("<span></span>").addClass(dropdown_icon_klass))},Form.prototype.remove_old_select=function($select){var id;return id=$select.attr("id"),$("#s2id_"+id).remove()},Form}(),app.form=new Form,$(document).on("history:updated",(function(e,element){return app.form.enable_validate(),$(element).find("select.select2").each((function(i,e){return app.form.select($(e))}))})),$((function(){return $(document).on(lib.ui_util.textchange_events,".js-new-reviews-count-limit, .js-review-form-count-limit",(function(){var $input,$limit_counter,count,maxlength,val;return $limit_counter=($input=$(this)).closest(".js-limit-count-container").find(".js-limit-counter"),val=$input.val(),maxlength=parseInt($input.attr("maxlength")),(count=$input.data("up-counter")?val.length:maxlength-val.length)>=0?$limit_counter.html(count):($.browser.msie&&$input.val(val.substr(0,maxlength)),$limit_counter.html(0))})),$(document).on("form:validate:fail.ClientSideValidations","form[data-validate]",(function(){return alert($($(this).find("[data-error-message]").get(0)).data("error-message"))}))}))}.call(this),function(){this.FullscreenPopupContent=function(){function FullscreenPopupContent(element){var _this;this.popup=$(element),this.popup.hasClass("fullscreen_popup--loaded")||this.popup.animate({"opacity":1},260,lib.animation.ease_out),this.content=this.popup.find(".fullscreen_popup__content"),this.popup.find(".fullscreen_popup__content_container").click((function(e){if(e.target===this)return app.window.close_fullscreen_popup()})),this.$close=this.popup.find(".fullscreen_popup__close"),this.$close.click((_this=this,function(){return _this.close()})),this.on_resize(),$(window).resize(function(_this){return function(){return _this.on_resize()}}(this))}return FullscreenPopupContent.prototype.on_resize=function(){return this.reset_close_position()},FullscreenPopupContent.prototype.reset_close_position=function(){var content_offset;if(!this.$close.hasClass("fullscreen_popup__close--fixed"))return content_offset=this.content.offset(),this.$close.css({"top":content_offset.top-45,"right":.5*($(window).width()-this.content.outerWidth())-45})},FullscreenPopupContent.prototype.close=function(){return app.widget.is_new_tab()?window.close():app.window.close_fullscreen_popup()},FullscreenPopupContent}()}.call(this),function(){$(document).on("mouseover","img.grayscale, img.color, div.grayscale, div.color",(function(){var $this;return $this=$(this),lib.animation.fade_out($this,{"duration":"long","complete":function(){return $this.css({"opacity":0})}})})),$(document).on("mouseout","img.grayscale, img.color, div.grayscale, div.color",(function(){var $this;return $this=$(this),lib.animation.fade_in($this,{"duration":"long","complete":function(){return $this.css("opacity","")}})})),$(document).on("gray:replaced","div.grayscale-replaced",(function(){return $(this).css({"opacity":1})})),$(document).on("mouseover","div.grayscale-replaced",(function(){return $(this).stop().animate({"opacity":0},350)})),$(document).on("mouseout","div.grayscale-replaced",(function(){return $(this).stop().animate({"opacity":1},350)})),$(document).on("history:updated",(function(e,element){return $(element).find(".grayscale:not(.grayscale-replaced)").gray()}))}.call(this),function(){$(document).on("click",".js-link-fullscreen-popup",(function(){return app.reviews.review_popup_loader($(this))}))}.call(this),function(){var Login;Login=function(){function Login(){}return Login.prototype.required=function(){return confirm(lib.data.get("login-alert")).done((_this=this,function(result){if(result)return _this.redirect_to_login()}));var _this},Login.prototype.check=function(e){return!!lib.data.get("is-logged-in")||(app.login.required(),e.preventDefault(),e.stopPropagation(),!1)},Login.prototype.is_required=function($element){return $element.data("login-required")&&!lib.data.get("is-logged-in")},Login.prototype.redirect_to_login=function(){var login_url;return(login_url=this.get_login_url())?app.window.redirect_to(login_url,{"keep_scroll":"godo"===app.shop_builder,"return_url":!0}):app.window.post("login")},Login.prototype.get_login_url=function(){var mall_login_url,parent_url,url_builder;return(mall_login_url=app.shop_builder.get_login_url())?(url_builder=new UrlBuilder(mall_login_url),(parent_url=lib.data.get("parent-url"))&&url_builder.set_host(new UrlBuilder(parent_url).get_host()),url_builder.build()):null},Login}(),app.login=new Login,$((function(){return $(document).on("ajax:before","[data-login-required=true]",(function(e){return app.login.check(e)})),$(document).on("focus","input[data-login-required=true], textarea[data-login-required=true]",(function(e){if(!lib.data.get("is-logged-in"))return $(this).blur(),app.login.required(),e.preventDefault(),e.stopPropagation(),!1})),$(document).on("click",".js-link-login",(function(){return app.login.redirect_to_login()}))}))}.call(this),function(){var PcMain,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;PcMain=function(superClass){function PcMain(){PcMain.__super__.constructor.apply(this,arguments),this.load_shop_builder()}return extend(PcMain,superClass),PcMain.prototype.load_shop_builder=function(){var shop_builder_class;return shop_builder_class="makeshop"===lib.data.get("shop-builder")?app.MakeshopShopBuilder:app.ShopBuilder,app.shop_builder=new shop_builder_class},PcMain}(app.Main),app.PcMain=PcMain}.call(this),function(){var Modal;Modal=function(){function Modal(){}return Modal.prototype.open=function(args){var $modal,$modal_content,$modal_dialog;return $modal=$("<div id='modal' class='modal fade'><div class='modal-dialog'><div class='modal-content'></div></div></div>"),$("body").append($modal),$modal_content=$modal.find(".modal-content"),null!=args.html?$modal_content.html(args.html):null!=args.element&&$modal_content.append(args.element),null!=args.modal_class&&$modal_content.addClass(args.modal_class),$modal.one("hide.bs.modal",(function(){if(args.closed)return args.closed()})),$modal.one("hidden.bs.modal",(function(){return $modal.remove()})),$modal_dialog=$modal.find(".modal-dialog"),null!=args.dialog_class&&$modal_dialog.addClass(args.dialog_class),$modal.modal(),$modal},Modal.prototype.close=function(args){var $modal;return null==args&&(args={}),$modal=$("#modal"),!1===args.fade&&$modal.removeClass("fade"),$modal.modal("hide")},Modal}(),app.modal=new Modal}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;this.NewReviewPopupContent=function(superClass){function NewReviewPopupContent(){return NewReviewPopupContent.__super__.constructor.apply(this,arguments)}return extend(NewReviewPopupContent,superClass),NewReviewPopupContent.prototype.recalc_layout=function(){var css,direction,offset_x,offset_y;if(direction=lib.data.get("review-popup-direction"),offset_x=lib.data.get("review-popup-offset-x"),offset_y=lib.data.get("review-popup-offset-y"),css={},$(window).height()<this.content.height())css.marginTop=0;else switch(direction){case NineWayDirection.top_left:case NineWayDirection.top_center:case NineWayDirection.top_right:css.marginTop=0;break;case NineWayDirection.middle_left:case NineWayDirection.middle_center:case NineWayDirection.middle_right:css.marginTop=.5*($(window).height()-this.content.height());break;case NineWayDirection.bottom_left:case NineWayDirection.bottom_center:case NineWayDirection.bottom_right:css.marginTop=$(window).height()-this.content.height()}switch(direction){case NineWayDirection.top_left:case NineWayDirection.middle_left:case NineWayDirection.bottom_left:css.marginLeft=0;break;case NineWayDirection.top_center:case NineWayDirection.middle_center:case NineWayDirection.bottom_center:css.marginLeft=css.marginRight="auto";break;case NineWayDirection.top_right:case NineWayDirection.middle_right:case NineWayDirection.bottom_right:css.marginRight=0}return css.left=offset_x,css.top=offset_y,this.content.css(css)},NewReviewPopupContent}(FullscreenPopupContent)}.call(this),function(){var NoticeDialog;NoticeDialog=function(){function NoticeDialog(){}return NoticeDialog.prototype.open=function(html){return this.$notice_slider?(this.create_page(html,"show"),void this.show_notice_page()):(this.$notice_slider=$("<div class='notice_dialog__slider'></div>"),this.create_page(html,"index"),app.modal.open({"element":this.$notice_slider,"dialog_class":"notice_dialog_wrapper","modal_class":"notice_dialog","closed":(_this=this,function(){return _this.close()})}));var _this},NoticeDialog.prototype.close=function(){return app.window.close_fullscreen_popup()},NoticeDialog.prototype.create_page=function(html,action){var $new_page,_this;return($new_page=$("<div class='notice_dialog__page'></div>").html(html)).addClass("notice_dialog__page-"+(this.$notice_slider.find(".notice_dialog__page").length+1)),this.$notice_slider.append($new_page),"index"===action?($new_page.find(".notice_dialog__close_button").click((_this=this,function(){return _this.close()})),$new_page.find(".js-brand-notice-message").each((function(_i,message_div){var message;return message=$(message_div).data("message").toString(),message_div.innerText=$(marked(message)).text().split("\n")[0]}))):"show"===action?$new_page.find(".notice_dialog__close_button").click(function(_this){return function(){return _this.show_index_page()}}(this)):void 0},NoticeDialog.prototype.show_index_page=function(){return lib.animation.fade_out($(".notice_dialog__page-2"),{"complete":function(){return $(".notice_dialog__page-2").hide(),$(".notice_dialog__page-1").show()}}),setTimeout((_this=this,function(){var $pages;if(1!==($pages=_this.$notice_slider.find(".notice_dialog__page")).length)return $pages.each((function(i,e){if(i>0)return $(e).remove()}))}),200);var _this},NoticeDialog.prototype.show_notice_page=function(){var $textarea;return($textarea=$(".js-notice-textarea"))[0].innerHTML=marked($textarea.data("message").toString()),$textarea.find("a").attr("target","_blank"),lib.animation.fade_out($(".notice_dialog__page-1"),{"complete":function(){return $(".notice_dialog__page-1").hide()}})},NoticeDialog}(),app.notice_dialog=new NoticeDialog}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;this.PcBrowserWindow=function(superClass){function PcBrowserWindow(){return PcBrowserWindow.__super__.constructor.apply(this,arguments)}return extend(PcBrowserWindow,superClass),PcBrowserWindow.prototype.growl=function(message){return $.jGrowl(message,{"position":"bottom-right"})},PcBrowserWindow.prototype.resize_target=function(){var height;return height=$("body").height(),this.set_height(height)},PcBrowserWindow.prototype.redirect_to=function(url){return window.location.href=url},PcBrowserWindow}(this.BrowserWindow)}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;this.PcIframeWindow=function(superClass){function PcIframeWindow(){var _this;switch(PcIframeWindow.__super__.constructor.apply(this,arguments),this.old_height=null,this.use_queue=!window.postMessage,this.message_queue=[],lib.data.get("iframe-id")){case"crema-fullscreen-popup":this.post("onload");break;case"crema-review-popup":break;default:this.post("onload",{"height":$("body").height()}),setInterval((_this=this,function(){return _this.resize_target()}),1e3),$(window).load(function(_this){return function(){return $("body").bind("resize",(function(){return _this.resize_target()})),_this.resize_target(),_this.scroll_to_product_review_widget()}}(this))}this.bind_keydown()}return extend(PcIframeWindow,superClass),PcIframeWindow.prototype.post=function(action,args){var current_time,_this;return this.use_queue?(current_time=(new Date).getTime(),!this.last_message_time||current_time-this.last_message_time>500?PcIframeWindow.__super__.post.call(this,action,args):(this.message_queue.push([action,args]),this.interval||(this.interval=setInterval((_this=this,function(){var current_message;if(current_message=_this.message_queue.shift(),PcIframeWindow.__super__.post.call(_this,current_message[0],current_message[1]),0===_this.message_queue.length)return clearInterval(_this.interval),_this.interval=null}),500))),this.last_message_time=current_time):PcIframeWindow.__super__.post.call(this,action,args)},PcIframeWindow.prototype.growl=function(message){return this.post("growl",{"message":message})},PcIframeWindow.prototype.resize_target=function(){if(this.new_height=$("body").prop("scrollHeight"),this.old_height!==this.new_height)return this.old_height=this.new_height,this.post("set_height",{"height":this.new_height})},PcIframeWindow.prototype.bind_keydown=function(){var _this;if(lib.browser.is_ie&&!1!==lib.data.get("bind-keydown"))return $(document).on("keydown",(_this=this,function(e){return _this.post("keydown",{"keyCode":e.keyCode})}))},PcIframeWindow.prototype.scroll_to_product_review_widget=function(){if("crema-product-reviews-1"===lib.data.get("iframe-id")&&new UrlBuilder(this.parent_url).param("scroll_to_product_reviews_widget"))return this.scroll_to(0)},PcIframeWindow}(this.IframeWindow)}.call(this),function(){var ProductReviewsBoard;ProductReviewsBoard=function(){function ProductReviewsBoard(){this.bind_review_score_with_unit()}return ProductReviewsBoard.prototype.bind_review_score_with_unit=function(){if($(".products_reviews_board_review__actions").length)return $(document).on("history:updated",(function(e,element){return $(element).find(".js-like-action").each((function(_i,e){var $minus,$plus,minus_score,plus_score;return $plus=$(e).find(".js-like-score-plus"),plus_score=parseInt($plus.text()),app.like_result_v2.set_scores($plus,plus_score),$minus=$(e).find(".js-like-score-minus"),minus_score=parseInt($minus.text()),app.like_result_v2.set_scores($minus,minus_score)}))}))},ProductReviewsBoard}(),app.product_reviews_board=new ProductReviewsBoard}.call(this),function(){var PcReviewMedia,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;PcReviewMedia=function(superClass){function PcReviewMedia(){return PcReviewMedia.__super__.constructor.apply(this,arguments)}return extend(PcReviewMedia,superClass),PcReviewMedia.prototype.on_remove_image=function(e){if(PcReviewMedia.__super__.on_remove_image.apply(this,arguments),this.hide_images_when_empty()&&0===$(e.target).closest(".js-image-fields").data("images-count"))return $(".js-review-input-photos").hide()},PcReviewMedia.prototype.set_preview_image=function($preview_container){var result;return result=PcReviewMedia.__super__.set_preview_image.apply(this,arguments),this.hide_images_when_empty()&&$(".js-review-input-photos").show(),result},PcReviewMedia.prototype.hide_images_when_empty=function(){return lib.browser.supports_file_reader()&&$("body").hasClass("products")},PcReviewMedia}(this.ReviewMedia),app.review_media=new PcReviewMedia}.call(this),function(){var ReviewSort;ReviewSort=function(){function ReviewSort(){}return ReviewSort.prototype.init=function(){return this.bind_modal_click_events(),this.bind_sort_item_click_event()},ReviewSort.prototype.bind_modal_click_events=function(){return $(document).ready((function(){return $(document).off("click",".js-review-sort-description"),$(document).on("click",".js-review-sort-description",(function(){return app.window.open_fullscreen_popup($(this).data("url"))}))}))},ReviewSort.prototype.bind_sort_item_click_event=function(){return $(".js-review-sort-list-item").click((function(){var $sort_list,$url,params,url,value;if($sort_list=$(this).closest(".js-review-sort-list"),
params=($url=$.url($sort_list.data("path"))).param(),value=$(this).data("value"),$.url(lib.history.get_current_url()).param().sort!==value.toString())return params.sort=value,url=$url.attr("base")+$url.attr("path")+"?"+$.param(params),$.ajax(url,{"method":"get","dataType":"script"})}))},ReviewSort}(),app.review_sort=new ReviewSort}.call(this),function(){var Reviews,format_select_rating,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Reviews=function(superClass){function Reviews(){return Reviews.__super__.constructor.apply(this,arguments)}var collapse;return extend(Reviews,superClass),collapse=function($review_content,complete){var $collapsed,$expanded;return $collapsed=$review_content.find(".review_content__collapsed").css({"opacity":0}),$expanded=$review_content.find(".review_content__expanded").css({"opacity":1}),$review_content.height($expanded.outerHeight()),setTimeout((function(){return $review_content.addClass("review_content--expanding"),lib.animation.fade_out($expanded,{"duration":"short","complete":function(){return $expanded.css({"opacity":0})}}),lib.animation.fade_in($collapsed,{"duration":"short","complete":function(){return $collapsed.css({"opacity":1}),$expanded.hide(),lib.animation.css($review_content,{"from_css":{"height":$expanded.height()},"to_css":{"height":$collapsed.height()},"complete":function(){var $review_message;if($collapsed.css({"opacity":""}),$expanded.css({"opacity":"","display":""}),$review_content.removeClass("review_content--expanding review_content--expanded").css({"height":""}),($review_message=$review_content.find(".review_message")).length&&app.review_message.resize($review_message),complete)return complete()}})}})}),1)},Reviews.prototype.handle_link_expand=function(args,auto_collapse){return args.elements.find(".js-link-collapse").click((function(){return collapse($(this).closest(".review_content"))})),args.elements.find(".js-link-expand").click((function(){var $review,$review_content,$review_content_expanded;return $review=$(this).closest(".review"),($review_content=$review.find(".review_content")).hasClass("review_content--expanded")?$review_content.data("toggle")?collapse($review_content):void 0:($review_content.on("review_content:loaded",(function(e){var $collapsed,$expanded,org_height;if($review_content.data("ready"))return $collapsed=$review_content.find(".review_content__collapsed").css({"opacity":1}),$expanded=$review_content.find(".review_content__expanded").css({"opacity":0}),org_height=$review_content.height(),$review_content.height(org_height),lib.browser.supports_opacity()||$expanded.hide(),setTimeout((function(){return $review_content.addClass("review_content--expanded review_content--expanding"),lib.animation.css($review_content,{"to_css":{"height":$expanded.outerHeight()},"complete":function(){return lib.animation.fade_out($collapsed,{"duration":"short","complete":function(){return $collapsed.css({"opacity":0})}}),app.form.enable_validate(),lib.browser.supports_opacity()||$expanded.show(),setTimeout((function(){return lib.animation.fade_in($expanded,{"duration":"short","complete":function(){return $expanded.css({"opacity":"","display":""}),$review_content.css({"height":""}).removeClass("review_content--expanding")}})}),0)}})}),1),$review_content.off(e)})),$review_content.data("ready",!1),$review_content_expanded=$(".review_content--expanded"),auto_collapse&&0!==$review_content_expanded.length?collapse($review_content_expanded,(function(){return $review_content.data("ready",!0),$review_content.trigger("review_content:loaded")})):($review_content.data("ready",!0),$review_content.trigger("review_content:loaded")))}))},Reviews.prototype.handle_show_full_reviews=function($link){return $link.on("ajax:beforeSend",(function(){var $review_content,$review_content_expanded;return($review_content=$(this).closest(".review").find(".review_group_by_product__review_content")).hasClass("review_group_by_product__review_content--expanded")?(lib.animation.height_down($review_content,(function(){return $review_content.removeClass("review_group_by_product__review_content--expanded")})),!1):($review_content.bind("review_content:loaded",(function(e){if($review_content.data("filled")&&$review_content.hasClass("review_group_by_product__review_content--expanded"))return lib.animation.height_up($review_content),$review_content.unbind(e)})),($review_content_expanded=$(".review_group_by_product__review_content--expanded")).length>0?lib.animation.height_down($review_content_expanded,(function(){return $review_content_expanded.removeClass("review_group_by_product__review_content--expanded"),$review_content.addClass("review_group_by_product__review_content--expanded").trigger("review_content:loaded")})):$review_content.addClass("review_group_by_product__review_content--expanded").trigger("review_content:loaded"),!$review_content.data("filled"))}))},Reviews.prototype.review_popup_loader=function($image_area){var $anchor,$image,$image_container,$loader,image_height;if(($image=$image_area.find(".js-review-image, .js-review-media video")).length)return $anchor=($image_container=$image_area.find(".js-thumbnail-container")).length>0?$image_container:$image,image_height=$image.hasClass("js-review-media--portrait")?$anchor.width():$anchor.height(),$loader=$("<div id='review-popup-loader'></div>").css({"top":$anchor.offset().top,"left":$anchor.offset().left,"width":1,"height":image_height,"backgroundColor":"#ccdede","position":"absolute"}),$("body").append($loader),$loader.animate({"width":$anchor.width()},280,lib.animation.ease_out),setTimeout((function(){return $loader.animate({"opacity":0},280,lib.animation.ease_out),setTimeout((function(){return $loader.remove()}),280)}),1200)},Reviews.prototype.check_message_length_valid_and_submit=function($form,length){return length<$form.find("#review_message").data("minimum-message-length")?$form.data("alert-requirement")?this.show_minimum_message_length_warning($form).done((function(result){if(result)return $form.submit()})):$form.data("disable-save-requirement")?this.show_minimum_message_length_error($form):$form.submit():$form.submit()},Reviews.prototype.show_minimum_message_length_warning=function($form){var $message;return $message=$form.find("#review_message"),confirm($message.data("minimum-message-length-warning"))},Reviews.prototype.show_minimum_message_length_error=function($form){var error_message;return error_message=$form.find("#review_message").data("minimum-message-length-error"),alert(error_message)},Reviews}(this.ReviewsBase),app.reviews=new Reviews,window.ClientSideValidations.validators.local.review_message=function(element,options){var message;if(!(message=element.val())||message===element.closest("form").data("review-message-default"))return options.message},$(document).on("change",".js-input-file",(function(){var $input;if(lib.browser.supports_file_reader()){if(($input=$(this)[0]).files&&$input.files[0])return $(this).siblings().find(".description").html($input.files[0].name)}else if(this.value)return $(this).siblings().find(".description").html(this.value.match(/[^\\]*\.(\w+)$/)[0])})),$(document).on("change","select#category",(function(){var $select,category_id,url,url_builder;return url=($select=$(this)).data("url"),url_builder=new UrlBuilder(url),(category_id=$select.val())&&url_builder.add_param("category_id",category_id),$.getScript(url_builder.build())})),$(document).on("change","select#sort",(function(){var $select,sort,url,url_builder;if(url=($select=$(this)).data("url"))return url_builder=new UrlBuilder(url),(sort=$select.val())&&url_builder.add_param("sort",sort),$.getScript(url_builder.build())})),$(document).on("change",".js-select-score",(function(){var $select,score,url,url_builder;if(url=($select=$(this)).data("url"))return url_builder=new UrlBuilder(url),(score=$select.val())&&url_builder.add_param("scores","["+score+"]"),$.getScript(url_builder.build())})),format_select_rating=function(item){var j,k,ref,result,score;for(result="<div class='item'>",j=0,ref=score=item.id?parseInt(item.id):0;j<ref;j+=1)result+="<span class='star'></span>";for(k=score;k<5;k+=1)result+="<span class='star star--empty'></span>";return(result+="<span class='text'>"+item.text+"</span>")+"</div>"},$(document).on("history:updated",(function(e,elements){return $(elements).find("select.select_rating").each((function(i,e){return app.form.select($(e),{"formatResult":format_select_rating,"formatSelection":format_select_rating,"escapeMarkup":function(m){return m}})}))})),$(document).on("click",".delete-review, .edit-review, .js-review-dialog-close",(function(){var $old_form;if(($old_form=$(".js-review-dialog-form")).length>0)return $(this).hasClass("delete-review")||$(this).hasClass("js-edit-nonmember")?$old_form.remove():($old_form.animate({"opacity":0},250,lib.animation.ease_in),setTimeout((function(){return $old_form.remove()}),250))})),$(document).on("click",".js-edit-nonmember",(function(){var $link,password;if($link=$(this),null!==(password=prompt($link.data("prompt")))&&""!==password)return $.ajax({"url":$link.data("path"),"type":$link.data("action"),"data":{"review":{"password":password}}})})),$(document).on("ajax:before","form.js-form-review, form.js-form-review",(function(e){var $form,result;return result=!0,($form=$(this)).find(".js-review-option-field-value-required").not("div").each((function(){var $input;if(!($input=$(this)).val())return alert($input.data("message")),e.stopImmediatePropagation(),result=!1,!1})),result&&$form.find(".js-review-option-field-value-number").each((function(){var $input;if(!($input=$(this)).val().match(/^[0-9]*$/))return alert($input.data("message")),e.stopImmediatePropagation(),result=!1,!1})),result}))}.call(this),function(){this.AppProductInfo=function(){function AppProductInfo(args){args.elements.find(".products_reviews_product_info__close").click((function(){return window.close()}))}return AppProductInfo}()}.call(this),function(){$(document).on("click",".js-review-form-submit",(function(){var $form;return $form=$(this).closest(".js-form-review"),app.review_message_checker.valid($form)?app.reviews.validate_message_length_and_submit($form):(app.review_message_checker.remove_not_allowed_chars($form),alert($form.data("not-allowed-chars-message")),!1)}))}.call(this),function(){$(document).on("click",".js-collapse-product-reviews",(function(){return $(this).closest(".reviews_group_by_product__reviews_counter").removeClass("reviews_group_by_product__reviews_counter--expanded").addClass("reviews_group_by_product__reviews_counter--collapsed"),$(this).closest(".reviews_group_by_product__product").find(".review_group_by_product__review").each((function(i,element){if(i>2)return $(element).remove()}))})),$(document).on("click",".js-expand-product-reviews",(function(){return $(this).closest(".reviews_group_by_product__reviews_counter").removeClass("reviews_group_by_product__reviews_counter--collapsed").addClass("reviews_group_by_product__reviews_counter--expanded")}))}.call(this),function(){var add_score,is_products_reviews_board_review__actions,is_renewed_review_like_action,required_login;required_login=function(){if(!lib.data.get("enable-nonmember-evaluation")&&!lib.data.get("is-logged-in"))return app.login.required(),!0},is_renewed_review_like_action=function(){return $(".renewed_review").length},is_products_reviews_board_review__actions=function(){return $(".products_reviews_board_review__actions").length},add_score=function($review,delta_score,delta_total){return is_renewed_review_like_action()||is_products_reviews_board_review__actions()?app.like_result_v2.set_score_text($review,delta_score,delta_total):app.like_result.add_score($review,delta_score,delta_total)},$(document).on("click",".js-link-like",(function(){var $like_action,$review,delta_score,delta_total,final_score,like_action_class,liked,review_class,unliked;if(!required_login())return $like_action=$(this).closest(".js-like-action"),like_action_class=$like_action.data("like-action-class")||"review_like_action",liked=$like_action.hasClass(like_action_class+"--liked"),unliked=$like_action.hasClass(like_action_class+"--unliked"),liked?(final_score=0,delta_score=-1,delta_total=-1):(final_score=1,unliked?(delta_score=2,delta_total=0):(delta_score=1,delta_total=1)),review_class=is_renewed_review_like_action()?".js-review-container":".review",($review=$like_action.closest(review_class)).find(".js-like-action").each((function(i,e){var $e;return $e=$(e),like_action_class=$e.data("like-action-class")||"review_like_action",liked?$e.removeClass(like_action_class+"--liked"):($e.addClass(like_action_class+"--liked"),unliked?$e.removeClass(like_action_class+"--unliked"):void 0)})),add_score($review,delta_score,delta_total),$.ajax({"url":$like_action.data("url"),"type":"post","data":{"score":final_score}})})),$(document).on("click",".js-link-unlike",(function(){var $like_action,$review,delta_score,delta_total,final_score,like_action_class,liked,review_class,unliked;if(!required_login())return $like_action=$(this).closest(".js-like-action"),like_action_class=$like_action.data("like-action-class")||"review_like_action",liked=$like_action.hasClass(like_action_class+"--liked"),(unliked=$like_action.hasClass(like_action_class+"--unliked"))?(final_score=0,delta_score=1,delta_total=-1):(final_score=-1,liked?(delta_score=-2,delta_total=0):(delta_score=-1,delta_total=1)),review_class=is_renewed_review_like_action()?".js-review-container":".review",($review=$like_action.closest(review_class)).find(".js-like-action").each((function(i,e){var $e;return $e=$(e),like_action_class=$e.data("like-action-class")||"review_like_action",unliked?$e.removeClass(like_action_class+"--unliked"):($e.addClass(like_action_class+"--unliked"),liked?$e.removeClass(like_action_class+"--liked"):void 0)})),add_score($review,delta_score,delta_total),$.ajax({"url":$like_action.data("url"),"type":"post","data":{"score":final_score}})}))}.call(this),function(){var MediaPopup;MediaPopup=function(){function MediaPopup(){}return MediaPopup.prototype.init=function($elements){var _this;return this.load_product_reviews_thumbnails(),this.load_variables($elements),this.bind_events($elements),this.media_resize(),this.process_instagram_script($elements),this.bind_review_body_custom_scroll($elements),$elements.find(".js-renewed-popup-media-container").resize((_this=this,function(){return _this.media_resize()}))},MediaPopup.prototype.load_variables=function($elements){return this.original_image_class="media_popup_media__medium_container_image--original",this.$media_popup=$elements.find(".js-renewed-media-popup")},MediaPopup.prototype.bind_events=function($elements){return this.bind_close_popup_event($elements),this.bind_image_zoom_event($elements),this.bind_small_medium_click_event($elements),this.bind_review_like_count_show($elements)},MediaPopup.prototype.bind_close_popup_event=function($elements){return $elements.find(".js-close-popup").click((function(){return app.window.close_fullscreen_popup()}))},MediaPopup.prototype.bind_image_zoom_event=function($elements){var _this;return $elements.find(".js-renewed-popup-review-photo").click((_this=this,function(e){if(!$(e.target).hasClass(_this.original_image_class))return _this.image_zoom($(e.target))})),window.onresize=function(_this){return function(){if($("#zoom-image").length)return _this.resize_zoom_image()}}(this)},MediaPopup.prototype.bind_small_medium_click_event=function($elements){return $elements.find(".js-renewed-popup-small-medium").click((_this=this,function(e){var $medium_container,medium_index;if(!($medium_container=$(e.currentTarget)).hasClass("media_popup_media__small_medium--selected"))return $(".js-renewed-popup-medium-container.selected").removeClass("selected").hide(),$(".js-renewed-popup-small-medium").removeClass("media_popup_media__small_medium--selected"),$medium_container.addClass("media_popup_media__small_medium--selected"),medium_index=$medium_container.data("index"),$("#js-medium-container-"+medium_index).addClass("selected"),_this.media_resize()}));var _this},MediaPopup.prototype.bind_review_like_count_show=function($elements){return $elements.find(".js-like-action").each((function(_i,e){var $minus,$plus,minus_score,plus_score;return $plus=$(e).find(".js-like-score-plus"),plus_score=parseInt($plus.text()),app.like_result_v2.set_scores($plus,plus_score),$minus=$(e).find(".js-like-score-minus"),minus_score=parseInt($minus.text()),app.like_result_v2.set_scores($minus,minus_score)}))},MediaPopup.prototype.load_product_reviews_thumbnails=function(){return $.ajax({"url":lib.data.get("reviews-thumbnails-url"),"type":"get","dataType":"script"})},MediaPopup.prototype.bind_product_reviews_thumbnails_page=function($elements){return $elements.find(".js-media-popup-product-reviews-thumbnails-page-link").click((function(){return $.ajax({"url":$(this).data("url"),"type":"get","dataType":"script"})}))},MediaPopup.prototype.process_instagram_script=function($elements){var script;if($elements.find(".instagram-media").length>0){if(0===$("#instagram-embed-js").length)return(script=document.createElement("script")).setAttribute("async",""),script.id="instagram-embed-js",script.src="//platform.instagram.com/en_US/embeds.js",$("body").append(script);if(window.instgrm)return window.instgrm.Embeds.process()}},MediaPopup.prototype.bind_review_body_custom_scroll=function($elements){return setTimeout((function(){return app.tinyscrollbar.call($elements.find(".js-scrollbar"))}),500),app.comments_v2.bind_tinyscrollbar_call_on_comments_resize($elements)},MediaPopup.prototype.media_resize=function(){var $container,$media,$media_container,container_height,container_width,medium_height,medium_ratio,medium_width,square_image_size;return $media_container=$(".js-renewed-popup-media-container"),$container=$(".js-renewed-popup-medium-container.selected"),container_width=$media_container.width(),container_height=$media_container.height(),medium_width=$container.data("width"),medium_ratio=(medium_height=$container.data("height"))/medium_width,($media=$container.find("img")).length||($media=$container.find("video")),$media.removeClass(this.original_image_class),medium_width<container_width&&medium_height<container_height?($media.css({"width":medium_width,"height":medium_height}),$media.addClass(this.original_image_class)):medium_width===medium_height?(square_image_size=container_width>container_height?container_height:container_width,$media.css({"width":square_image_size,"height":square_image_size})):(container_height,container_width<container_height/medium_ratio?$media.css({"width":container_width,"height":"auto"}):$media.css({"height":container_height,"width":"auto"})),$container.show()},MediaPopup.prototype.image_zoom=function($image){var $original_image,$original_image_area;return this.orignal_width=$image.data("width"),this.orignal_height=$image.data("height"),$("#zoom-image").remove(),$original_image_area=$("<div id='zoom-image' class='media_popup_media__zoom_image'><div id='zoom-image-container' class='media_popup_media__zoom_image_container'></div></div>").appendTo(this.$media_popup),$original_image=$image.clone().attr("style",""),$("#zoom-image-container").append($original_image),this.resize_zoom_image(),this.fade_popup_elements($original_image_area)},MediaPopup.prototype.resize_zoom_image=function(){var $media_popup,$zoom_container,final_height,final_width,max_width,padding,popup_height,popup_width,zoom_padding;return $media_popup=$(".js-renewed-media-popup"),zoom_padding=70-20,$zoom_container=$("#zoom-image-container"),padding=zoom_padding,popup_width=$media_popup.width(),popup_height=$media_popup.height(),max_width=popup_width-2*zoom_padding,this.orignal_width>max_width?(final_width=max_width,final_height=this.orignal_height*max_width/this.orignal_width):(final_width=this.orignal_width,final_height=this.orignal_height),popup_height>final_height&&(padding=.5*(popup_height-final_height)),$zoom_container.css({"padding":zoom_padding,"paddingTop":padding,"paddingBottom":padding,"width":final_width,"height":final_height})},MediaPopup.prototype.fade_popup_elements=function($original_image_area){var $fade_elements,_this;return($fade_elements=$(".js-renewed-media-popup-content, .js-close-popup, .js-renewed-popup-crema-logo")).animate({"opacity":0},250,lib.animation.ease_out),$original_image_area.animate({"opacity":0},1).animate({"opacity":1},250,lib.animation.ease_in),$original_image_area.click((_this=this,function(){return _this.media_resize(),$fade_elements.animate({"opacity":1},350,lib.animation.ease_out),$original_image_area.animate({"opacity":0},350,lib.animation.ease_in),setTimeout((function(){return $original_image_area.remove()}),350)}))},MediaPopup}(),app.media_popup=new MediaPopup}.call(this),function(){this.ReviewMessage=function(){function ReviewMessage(){}return ReviewMessage.prototype.resize=function($e){var $see_more,$shadow;if($e.is(":visible")&&!$e.hasClass("review_message--shadow"))return($shadow=$e.siblings(".review_message--shadow")).length||(($shadow=$e.clone()).addClass("review_message--shadow"),$e.after($shadow)),($see_more=$e.siblings(".see_more")).hasClass("js-see-more-force-show")?void 0:$e.height()<$shadow.height()?$see_more.removeClass("see_more--hidden"):$see_more.addClass("see_more--hidden")},ReviewMessage}(),app.review_message=new this.ReviewMessage,$(document).ready((function(){return $(".review_message").each((function(){return app.review_message.resize($(this))}))})),$(document).on("history:updated",(function(e,element){return $(element).find(".review_message").each((function(){return app.review_message.resize($(this))}))})),$(window).on("resize",(function(){return $(".review_message").each((function(){return app.review_message.resize($(this))}))}))}.call(this),function(){new(function(){function ReviewInformationDetail(){var _this;$(document).on("mouseover",".js-review-information-detail-button",(_this=this,function(){return _this.show()})),$(document).on("mouseout",".js-review-information-detail-button",function(_this){return function(){return _this.hide()}}(this)),$(document).on("mouseover",".js-review-info-message",function(_this){return function(){return _this.show()}}(this)),$(document).on("mouseout",".js-review-info-message",function(_this){return function(){return _this.hide()}}(this))}return ReviewInformationDetail.prototype.show=function(){return $(".js-review-info-message").show(),this.clear_hide_timer()},ReviewInformationDetail.prototype.hide=function(){return this.clear_hide_timer(),this.hide_timer=setTimeout((function(){return $(".js-review-info-message").fadeOut()}),200)},ReviewInformationDetail.prototype.clear_hide_timer=function(){if(this.hide_timer)return clearTimeout(this.hide_timer),this.hide_timer=null},ReviewInformationDetail}()),$(document).on("click",".js-link-select-review",(function(){return $(".popup_new__review_listitem_information--selected").removeClass("popup_new__review_listitem_information--selected"),$(this).find(".popup_new__review_listitem_information").addClass("popup_new__review_listitem_information--selected")})),$(document).on("click",".js-popup-new-link-block-popup",(function(){return app.window.close_popup_forever()})),$(document).on("click",".js-popup-new-popup-not-view-today",(function(){return app.window.close_popup_today()})),$(document).on("click",".js-popup-new-popup-close",(function(){return app.window.close_popup_once("user","clicked_close_button")}))}.call(this),function(){$(document).on("click",".js-review-notice-more-link",(function(){var $link;return($link=$(this)).data("expanded")?($(".review_notice__container_item--hidden").slideUp("fast"),$(".js-review-more-notice-count").show(),$(".js-review-more-notice-close").hide(),$link.data("expanded",!1)):($(".review_notice__container_item--hidden").slideDown("fast"),$(".js-review-more-notice-count").hide(),$(".js-review-more-notice-close").show(),$link.data("expanded",!0))})),$(document).on("click",".js-link-expand-review-notice",(function(){var $brand_notice,$content,$textarea;return $brand_notice=$(this).closest(".review_notice__container_item"),$content=$brand_notice.find(".js-brand-notice-content"),$textarea=$content.find(".js-notice-textarea"),$brand_notice.hasClass("selected")?($brand_notice.removeClass("selected"),lib.animation.height_down($content,(function(){return $content.hide(),$textarea.empty()}))):($brand_notice.addClass("selected"),$content.show(),$textarea[0].innerHTML=marked($textarea.data("message").toString()),$textarea.find("a").attr("target","_blank"),lib.animation.height_up($content))})),$(document).on("history:updated",(function(){return $(".review_notice__container_item_content--expanded").each((function(_i,content){var $textarea;return $textarea=$(content).find(".js-notice-textarea"),$(content).show(),$textarea[0].innerHTML=marked($textarea.data("message").toString()),$textarea.find("a").attr("target","_blank")}))}))}.call(this),function(){var ReviewPageCache,ReviewPopupNavigation;ReviewPageCache=function(){function ReviewPageCache(){this.reviews_by_page={}}return ReviewPageCache.prototype.set_reviews=function(page,reviews){return this.reviews_by_page[page]=reviews},ReviewPageCache.prototype.get_reviews=function(page){return this.reviews_by_page[page]},ReviewPageCache.prototype.set_widget_type=function(widget_type){return this.reviews_by_page.widget_type=widget_type},ReviewPageCache.prototype.get_widget_type=function(){return this.reviews_by_page.widget_type},ReviewPageCache}(),app.review_page_cache=new ReviewPageCache,ReviewPopupNavigation=function(){function ReviewPopupNavigation(){this.review_page_cache=app.review_page_cache,this.load_review_ids()}return ReviewPopupNavigation.prototype.load_review_ids=function(){var page,reviews,url,widget_type,_this;if(page=lib.data.get("page"),widget_type=lib.data.get("widget-type"),!(reviews=this.review_page_cache.get_reviews(page))||this.review_page_cache.get_widget_type!==widget_type)return url=lib.data.get("review-ids-url"),$.ajax({"url":url,"dataType":"json","success":(_this=this,function(data){return _this.set_reviews(data.reviews),_this.review_page_cache.set_widget_type(widget_type),_this.review_page_cache.set_reviews(page,data.reviews)})});this.set_reviews(reviews)},ReviewPopupNavigation.prototype.set_reviews=function(reviews){var $image,$next,$prev,current_review_id,index,next_review,prev_review,show_review_navigation_display;return current_review_id=lib.data.get("review-id"),-1===(index=$.inArray(current_review_id,$.map(reviews,(function(review){return review.id}))))?(prev_review=null,next_review=null):(prev_review=reviews[index-1],next_review=reviews[index+1]),$prev=$(".js-review-navigation-prev"),prev_review&&$prev.attr("href",prev_review.url),$next=$(".js-review-navigation-next"),next_review&&$next.attr("href",next_review.url),show_review_navigation_display=function(){if(prev_review&&($prev.removeClass("invisible"),$prev.removeClass("disabled")),next_review)return $next.removeClass("invisible"),$next.removeClass("disabled")},($image=$(".show_photo_review__photo_container_image")).length?lib.ui_util.on_load($image,(function(){return show_review_navigation_display()})):show_review_navigation_display()},ReviewPopupNavigation}(),app.ReviewPopupNavigation=ReviewPopupNavigation}.call(this),function(){var ReviewsV2;ReviewsV2=function(){function ReviewsV2(){this.bind_review_score_with_unit(),this.bind_edit_review_dropdown_toggle(),this.bind_close_review_dropdown(),this.bind_nonmember_modal_action(),this.bind_review_content_link_click()}return ReviewsV2.prototype.collapse=function($review_content,complete){var $collapsed,$expanded;return $collapsed=$review_content.find(".review_content__collapsed").css({"opacity":0}),$expanded=$review_content.find(".review_content__expanded").css({"opacity":1}),$review_content.height($expanded.outerHeight()),setTimeout((function(){return $review_content.addClass("review_content--expanding"),lib.animation.fade_out($expanded,{"duration":"short","complete":function(){return $expanded.css({"opacity":0})}}),lib.animation.fade_in($collapsed,{"duration":"short","complete":function(){return $collapsed.css({"opacity":1}),$expanded.hide(),lib.animation.css($review_content,{"from_css":{"height":$expanded.height()},"to_css":{"height":$collapsed.height()},"complete":function(){var $review;if($collapsed.css({"opacity":""}),$expanded.css({"opacity":"","display":""}),$review_content.removeClass("review_content--expanding review_content--expanded").css({"height":""}),$review=$review_content.closest(".js-review-container"),app.reviews_v2.toggle_see_more_button_visible($review),complete)return complete()}})}})}),1)},ReviewsV2.prototype.bind_review_content_link_click=function(){var _this;if(!lib.data.get("review-message-all-exposed"))return $(document).on("history:updated",(_this=this,function(e,element){return $(element).find(".js-review-container").addBack(".js-review-container").each((function(_i,e){var $review,review_id;if(review_id=$(e).attr("id"),$review=$("#"+review_id),_this.bind_review_collapse($review),_this.bind_review_expand($review),_this.toggle_see_more_button_visible($review),!$review.find(".js-see-more-force-show").length)return $review.resize((function(){return _this.toggle_see_more_button_visible($review)}))}))}))},ReviewsV2.prototype.toggle_see_more_button_visible=function($review){var $review_content;if(!$review.find(".js-see-more-force-show").length&&($review_content=$review.find(".js-collapsed-review-content")).length&&$review_content.is(":visible"))return $review_content[0].scrollHeight>$review.data("review-content-height")?$review.find(".js-renewal-review-message-link").removeClass("disabled"):$review.find(".js-renewal-review-message-link").addClass("disabled")},ReviewsV2.prototype.bind_review_collapse=function($review){var $review_content_collapse_link,_this;return $review_content_collapse_link=$review.find(".js-renewal-link-collapse"),$review.find(".js-renewal-link-collapse"),$review_content_collapse_link.on("click",(_this=this,function(e){var $review_content;return $review_content=$(e.currentTarget).closest(".js-review-content-container"),_this.collapse($review_content)}))},ReviewsV2.prototype.bind_review_expand=function($review){var _this;return $review.find(".js-renewal-link-expand").click((_this=this,function(e){var $review_content,$review_content_expanded,auto_collapse;return auto_collapse=lib.data.get("review-message-all-exposed"),($review_content=$(e.currentTarget).closest(".js-review-content-container")).hasClass("review_content--expanded")?$review_content.data("toggle")?_this.collapse($review_content):void 0:($review_content.on("review_content:loaded",(function(e){var $collapsed,$expanded,org_height;if($review_content.data("ready"))return $collapsed=$review_content.find(".review_content__collapsed").css({"opacity":1}),$expanded=$review_content.find(".review_content__expanded").css({"opacity":0}),org_height=$review_content.height(),$review_content.height(org_height),lib.browser.supports_opacity()||$expanded.hide(),setTimeout((function(){return $review_content.addClass("review_content--expanded review_content--expanding"),lib.animation.css($review_content,{"to_css":{"height":$expanded.outerHeight()},"complete":function(){return lib.animation.fade_out($collapsed,{"duration":"short","complete":function(){return $collapsed.css({"opacity":0})}}),app.form.enable_validate(),lib.browser.supports_opacity()||$expanded.show(),setTimeout((function(){return lib.animation.fade_in($expanded,{"duration":"short","complete":function(){return $expanded.css({"opacity":"","display":""}),$review_content.css({"height":""}).removeClass("review_content--expanding")}})}),0)}})}),1),$review_content.off(e)})),$review_content.data("ready",!1),$review_content_expanded=$(".review_content--expanded"),auto_collapse||0===$review_content_expanded.length?($review_content.data("ready",!0),$review_content.trigger("review_content:loaded")):_this.collapse($review_content_expanded,(function(){return $review_content.data("ready",!0),$review_content.trigger("review_content:loaded")})))}))},ReviewsV2.prototype.bind_review_score_with_unit=function(){if(lib.data.get("widget-renewed"))return $(document).on("history:updated",(function(e,element){return $(element).find(".js-like-action").each((function(_i,e){var $minus,$plus,minus_score,plus_score;return $plus=$(e).find(".js-like-score-plus"),plus_score=parseInt($plus.text()),app.like_result_v2.set_scores($plus,plus_score),$minus=$(e).find(".js-like-score-minus"),minus_score=parseInt($minus.text()),
app.like_result_v2.set_scores($minus,minus_score)}))}))},ReviewsV2.prototype.bind_edit_review_dropdown_toggle=function(){return $(document).on("click",".js-review-edit-dropdown-box-button",(function(e){var $dropdown_box;return($dropdown_box=$(e.currentTarget).closest(".review_list_v2").find(".review_actions_dropdown")).is(":visible")?$dropdown_box.hide():($(".js-review-edit-dropdown-box").hide(),$dropdown_box.show())})),$(document).on("click",(function(e){if(!$(e.target).closest(".js-review-edit-dropdown-box").length&&!$(e.target).is(".js-review-edit-dropdown-box-button"))return $(".js-review-edit-dropdown-box").hide()}))},ReviewsV2.prototype.bind_close_review_dropdown=function(){return $(document).on("click",".js-review-edit-link",(function(){return $(".js-review-edit-dropdown-box").hide()}))},ReviewsV2.prototype.bind_nonmember_modal_action=function(){return $(document).on("click",".js-edit-modal-action",(function(e){var $review_list,nonmember_review_check_edit_url;return $review_list=$(e.currentTarget).closest(".review_list_v2"),app.reviews_v2.hide_edit_dropdown_box($review_list),nonmember_review_check_edit_url=$review_list.data("nonmember-review-check-edit-url"),app.window.open_fullscreen_popup(nonmember_review_check_edit_url,(function(data){if("edit_review"===data.act)return app.window.close_fullscreen_popup(),app.reviews_v2.redirect_to_review_edit_path(data.edit_path)}))})),$(document).on("click",".js-delete-modal-action",(function(e){var $review_list,nonmember_review_check_delete_url;return $review_list=$(e.currentTarget).closest(".review_list_v2"),app.reviews_v2.hide_edit_dropdown_box($review_list),nonmember_review_check_delete_url=$review_list.data("nonmember-review-check-delete-url"),app.window.open_fullscreen_popup(nonmember_review_check_delete_url,(function(data){if("delete_review"===data.act)return app.window.close_fullscreen_popup(),app.reviews_v2.redirect_to_review_delete_path(data.delete_path)}))}))},ReviewsV2.prototype.hide_edit_dropdown_box=function($review_list){return $review_list.find(".js-review-edit-dropdown-box").hide()},ReviewsV2.prototype.redirect_to_review_edit_path=function(edit_path){return $.ajax({"url":edit_path,"type":"post"})},ReviewsV2.prototype.redirect_to_review_delete_path=function(delete_path){return $.ajax({"url":delete_path,"type":"delete"})},ReviewsV2}(),app.reviews_v2=new ReviewsV2}.call(this),function(){var SearchComponent,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;SearchComponent=function(superClass){function SearchComponent(){return SearchComponent.__super__.constructor.apply(this,arguments)}return extend(SearchComponent,superClass),SearchComponent.prototype.bind_search_input_typing=function(){return SearchComponent.__super__.bind_search_input_typing.apply(this,arguments),this.$search_input.on("input",(_this=this,function(){return _this.$search_input.val().length?(_this.$search_input_icons.removeAttr("disabled"),_this.$search_input_reset_button.removeClass("hidden"),_this.$search_component.addClass("searching")):(_this.$search_input_icons.attr("disabled","disabled"),_this.$search_input_reset_button.addClass("hidden"),_this.$search_component.removeClass("searching"))}));var _this},SearchComponent.prototype.bind_search_input_focus=function(){var _this;return this.$search_input.focus((_this=this,function(){return _this.$search_component.addClass("active")})),this.$search_input.focusout(function(_this){return function(){return _this.$search_component.removeClass("active")}}(this))},SearchComponent.prototype.bind_search_input_reset=function(){var params,_this;return params=$.url(lib.history.get_current_url()).param(),this.$search_input_reset_button.click((_this=this,function(){return _this.$search_input.val(""),params.query&&params.query.length?_this.$search_input_icons.siblings(".js-filter-search-trigger").click():_this.$search_input.focus()}))},SearchComponent}(this.SearchComponentBase),app.search_component=new SearchComponent}.call(this),function(){var MakeshopShopBuilder;MakeshopShopBuilder=function(){function MakeshopShopBuilder(){}return MakeshopShopBuilder.prototype.get_login_url=function(){var code,login_url,parent_url;return"login"===(login_url=new UrlBuilder(lib.data.get("mall-login-url"))).param("type")&&"/board/board.html"===(parent_url=new UrlBuilder(lib.data.get("parent-url"))).get_path()&&(code=parent_url.param("code"))&&login_url.add_param("type","board").add_param("code",code),login_url.build()},MakeshopShopBuilder}(),app.MakeshopShopBuilder=MakeshopShopBuilder}.call(this),function(){var ShopBuilder;ShopBuilder=function(){function ShopBuilder(){}return ShopBuilder.prototype.get_login_url=function(){return lib.data.get("mall-login-url")},ShopBuilder}(),app.ShopBuilder=ShopBuilder}.call(this),function(){var MyManagingReviewsState;MyManagingReviewsState=function(){function MyManagingReviewsState(){}return MyManagingReviewsState.prototype.on_enter=function(old_state_name,args){return app.reviews.handle_link_expand(args,!lib.data.get("review-message-all-exposed")),$(document).on("click",".js-link-new-review-popup",(function(){return args={"sub_order_code":$(this).data("sub-order-code"),"sub_order_id":$(this).data("sub-order-id"),"product_code":$(this).data("product-code"),"review_source":$(this).data("review-source"),"reload_target_id":lib.data.get("iframe-id")},app.window.open_new_review_popup(args)}))},MyManagingReviewsState}(),app.my_managing_reviews_state=new MyManagingReviewsState}.call(this),function(){var MyPhotoReviewsState;MyPhotoReviewsState=function(){function MyPhotoReviewsState(){}return MyPhotoReviewsState.prototype.on_enter=function(old_state_name,args){return app.reviews.handle_link_expand(args,!0)},MyPhotoReviewsState}(),app.my_photo_reviews_state=new MyPhotoReviewsState}.call(this),function(){var MyReviewsState;MyReviewsState=function(){function MyReviewsState(){}return MyReviewsState.prototype.on_enter=function(old_state_name,args){return app.reviews.handle_link_expand(args,!0)},MyReviewsState}(),app.my_reviews_state=new MyReviewsState}.call(this),function(){var ProductsIndexState;ProductsIndexState=function(){function ProductsIndexState(){}return ProductsIndexState.prototype.on_enter=function(old_state_name,args){var $head,$search_button;if(($head=args.elements.find(".products_index_gallery__head")).length&&this.bind_head($head),$search_button=args.elements.find(".products_index__search_button"))return this.bind_search_button($search_button)},ProductsIndexState.prototype.bind_head=function($head){return app.search.init($head)},ProductsIndexState.prototype.bind_search_button=function($search_button){return $search_button.click((function(){var $advanced_search;if($advanced_search=$(".products_index__advanced_search"),!lib.animation.is_animating($advanced_search))return $advanced_search.hasClass("hidden")?($advanced_search.removeClass("hidden"),lib.animation.height_up($advanced_search)):lib.animation.height_down($advanced_search,(function(){return $advanced_search.addClass("hidden")}))}))},ProductsIndexState}(),app.products_index_state=new ProductsIndexState}.call(this),function(){var ProductsMediaState;ProductsMediaState=function(){function ProductsMediaState(){}return ProductsMediaState.prototype.on_enter=function(old_state_name,args){var $collage_area,$media_popup;return($media_popup=args.elements.find(".js-media-collage-popup")).animate({"opacity":1},260,lib.animation.ease_out),app.tinyscrollbar.call($media_popup.find(".js-scrollbar").first(),{"axis":"x"}),$collage_area=$media_popup.find(".js-products-media-collage-area"),app.tinyscrollbar.call($collage_area.find(".js-scrollbar")),this.bind_collage_container_outside_click(args.elements),this.bind_media_content_area_scroll(args.elements),this.bind_media_content_area_tabs_click(args.elements),this.bind_media_review_area_scroll(args.elements),this.bind_media_big_thumbnails_click(args.elements),this.bind_media_small_thumbnails_click(args.elements),this.bind_medium_zoom(args.elements),this.process_instagram_script(args.elements)},ProductsMediaState.prototype.bind_collage_container_outside_click=function($elements){return $elements.click((function(e){if($(e.target).is(".js-products-media-viewport")||$(e.target).is(".js-products-media-overview"))return app.window.close_fullscreen_popup()}))},ProductsMediaState.prototype.bind_media_content_area_scroll=function($elements){var $collage_area;return $collage_area=$elements.find(".js-products-media-collage-area"),$elements.find(".js-products-media-content").unbind("mousewheel").bind("mousewheel",(function(){var $overview,$viewport,infinite_scroll_offset,scroll_from_top;if("none"!==$collage_area.find(".infinite_scroll__see_more").css("display"))return $overview=$(this).closest(".overview"),$viewport=$(this).closest(".viewport"),scroll_from_top=-1*parseInt($overview.css("top"),10),infinite_scroll_offset=300,$viewport[0].clientHeight+scroll_from_top+infinite_scroll_offset>this.scrollHeight?(app.products_media_state.scroll_from_top=scroll_from_top,$collage_area.find(".infinite_scroll__see_more_button").click()):void 0}))},ProductsMediaState.prototype.bind_media_content_area_tabs_click=function($elements){var $products_media__content,$tabs;return($tabs=$elements.find(".js-products-media-tab")).click((function(){return $tabs.css("pointer-events","none")})),$products_media__content=$elements.find(".products_media__content"),$elements.find(".products_media__no_data").length?$products_media__content.addClass("products_media__content--no_data"):$products_media__content.removeClass("products_media__content--no_data")},ProductsMediaState.prototype.bind_media_review_area_scroll=function($elements){var $product_info_bar_container,$scroll_area,scroll_area;return $product_info_bar_container=$elements.find(".js-product-info-bar-container"),$scroll_area=$elements.find(".js-products-media-review-area").find(".js-scrollbar"),app.tinyscrollbar.call($scroll_area),scroll_area=$scroll_area.data("plugin_tinyscrollbar"),$scroll_area.bind("move",(function(){return scroll_area.contentPosition>0?$product_info_bar_container.css({"padding":"8px 0"}):$product_info_bar_container.css({"padding":"12px 0"})})),app.comments_v2.bind_tinyscrollbar_call_on_comments_resize($elements)},ProductsMediaState.prototype.bind_media_big_thumbnails_click=function($elements){var $media_thumbnails;return($media_thumbnails=$elements.find(".js-products-media-medium")).off("click").click((function(){var is_clicked_among_same_review_media,media_thumbnail_index;return is_clicked_among_same_review_media=$(this).data("review-id")===$(this).siblings(".js-products-media-medium.focused").data("review-id"),$media_thumbnails.removeClass("focused"),$(this).addClass("focused"),is_clicked_among_same_review_media?(media_thumbnail_index=$(this).data("index"),$elements.find(".js-products-media-review-area").find(".js-media-thumbnail").eq(media_thumbnail_index).click()):$.getScript($(this).data("url"))}))},ProductsMediaState.prototype.bind_medium_zoom=function($elements){var self;return self=this,$elements.find(".js-popup-media-container").click((function(){var $medium;return $medium=$(this).find("img.js-renewed-review-popup-medium, .js-renewed-review-popup-medium video"),self.medium_zoom($medium),window.onresize=function(){if($("#zoomed-medium").length)return self.resize_zoomed_medium()}}))},ProductsMediaState.prototype.bind_media_small_thumbnails_click=function($elements){var self;return self=this,$elements.find(".js-media-thumbnail").each((function(_i,e){return $(e).click((function(){var media_index,review_id_selector;return media_index=$(e).data("page"),$(e).parents().find(".js-swipe-page-container").data("current-page",media_index).attr("data-current-page",media_index),self.select_current_page_indicator(),self.select_current_page_thumbnail(),review_id_selector=$(e).closest(".js-review-container").attr("id"),self.update_media_content_area_focused_medium(review_id_selector,media_index)}))}))},ProductsMediaState.prototype.select_current_page_indicator=function(){return $(".index_indicator__indicator").removeClass("index_indicator__indicator--selected"),$(".index_indicator__indicator--"+this.get_current_page()).addClass("index_indicator__indicator--selected")},ProductsMediaState.prototype.select_current_page_thumbnail=function(){return $(".medium_thumbnail").removeClass("medium_thumbnail--selected"),$(".medium_thumbnail--"+this.get_current_page()).addClass("medium_thumbnail--selected")},ProductsMediaState.prototype.get_current_page=function(){return $(".js-swipe-page-container").data("current-page")},ProductsMediaState.prototype.update_media_content_area_focused_medium=function(review_id_selector,media_index){var $review_media;return($review_media=$(".js-products-media-content").find("."+review_id_selector+".js-products-media-medium")).removeClass("focused"),$review_media.eq(media_index-1).addClass("focused")},ProductsMediaState.prototype.medium_zoom=function($medium){var $original_medium,$original_medium_area;return this.orignal_width=$medium.data("width"),this.orignal_height=$medium.data("height"),$("#zoomed-medium").remove(),$original_medium_area=$("<div id='zoomed-medium' class='media_popup_media__zoom_image'><div id='zoomed-medium-container' class='media_popup_media__zoom_image_container'></div></div>").appendTo($(".js-media-collage-popup")),$original_medium=$medium.clone().attr("style",""),$("#zoomed-medium-container").append($original_medium),this.resize_zoomed_medium(),this.fade_popup_elements($original_medium_area)},ProductsMediaState.prototype.resize_zoomed_medium=function(){var $media_popup,$zoom_container,final_height,final_width,max_height,max_width,padding,popup_height,zoom_padding;return $media_popup=$(".js-media-collage-popup"),zoom_padding=70-20,$zoom_container=$("#zoomed-medium-container"),padding=zoom_padding,max_width=$media_popup.width()-2*zoom_padding,max_height=(popup_height=$media_popup.height())-2*zoom_padding,this.orignal_width>max_width?this.orignal_height>max_height?(final_height=max_height,final_width=this.orignal_width*max_height/this.orignal_height):(final_width=max_width,final_height=this.orignal_height*max_width/this.orignal_width):(final_width=this.orignal_width,final_height=this.orignal_height),popup_height>final_height&&(padding=.5*(popup_height-final_height)),$zoom_container.css({"padding":zoom_padding,"paddingTop":padding,"paddingBottom":padding,"width":final_width,"height":final_height})},ProductsMediaState.prototype.fade_popup_elements=function($original_medium_area){var $fade_elements;return($fade_elements=$(".js-media-collage-content-container, .js-close-popup, .js-popup-crema-review-logo")).animate({"opacity":0},250,lib.animation.ease_out),$original_medium_area.animate({"opacity":0},1).animate({"opacity":1},250,lib.animation.ease_in),$original_medium_area.click((function(){return $fade_elements.animate({"opacity":1},350,lib.animation.ease_out),$original_medium_area.animate({"opacity":0},350,lib.animation.ease_in),setTimeout((function(){return $original_medium_area.remove()}),350)}))},ProductsMediaState.prototype.set_default_scores=function($elements){return $elements.find(".renewed_review").each((function(_i,e){var $minus,$plus,minus_score,plus_score;return $plus=$(e).find(".js-like-score-plus"),plus_score=parseInt($plus.text()),app.like_result_v2.set_scores($plus,plus_score),$minus=$(e).find(".js-like-score-minus"),minus_score=parseInt($minus.text()),app.like_result_v2.set_scores($minus,minus_score)}))},ProductsMediaState.prototype.process_instagram_script=function($elements){var script;if($elements.find(".instagram-media").length)return 0===$("#instagram-embed-js").length?((script=document.createElement("script")).setAttribute("async",""),script.id="instagram-embed-js",script.src="//platform.instagram.com/en_US/embeds.js",$("body").append(script)):window.instgrm&&window.instgrm.Embeds.process(),$elements.find(".js-products-media-review-area").css({"overflow":"scroll"})},ProductsMediaState}(),app.products_media_state=new ProductsMediaState}.call(this),function(){var ProductsReviewsState,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;ProductsReviewsState=function(superClass){function ProductsReviewsState(){this.appended_callback=function(e,element){return app.reviews.handle_link_expand({"elements":$(element)},!1)},this.already_posted_check=!1}return extend(ProductsReviewsState,superClass),ProductsReviewsState.prototype.on_enter=function(old_state_name,args){if(app.reviews.handle_link_expand(args,!1),app.tag_type_button.init(args.elements),this.set_position_options(),this.set_app_product_info(args),this.bind_nonmember_review_hint(),app.tag_type_button.check_tag_type_list(),$(document).on("resize",(function(){return app.tag_type_button.check_tag_type_list()})),$(document).on("infinite_scroll:appended",this.appended_callback),$(document).on("history:updated",(function(e,element){return app.product_review_keyword.init($(element))})),ProductsReviewsState.__super__.on_enter.call(this),app.review_sort.init(),lib.data.get("widget-renewed"))return app.filter_list.init(args.elements),app.search_component.init(args.elements),this.bind_write_button_click(args.elements)},ProductsReviewsState.prototype.on_exit=function(new_state_name,args){return ProductsReviewsState.__super__.on_exit.call(this,new_state_name,args),$(document).off("infinite_scroll:appended",this.appended_callback)},ProductsReviewsState.prototype.set_app_product_info=function(args){if(app.widget.is_new_tab())return this.app_product_info=new AppProductInfo(args)},ProductsReviewsState.prototype.set_position_options=function(){var $review_option_search;if(($review_option_search=$(".js-review-options-search")).hasClass("hidden"))return $review_option_search.removeClass("hidden"),$(".js-review-options-search").addClass("hidden")},ProductsReviewsState.prototype.refresh_filter=function(){var scores,url_builder;return(url_builder=new UrlBuilder(lib.history.get_current_url())).remove_param("page").add_param("aloading",".page").add_param("atarget","reviews"),scores=[],$(".score_summary__score_filter.selected").each((function(i,element){return scores.push($(element).data("score"))})),scores.length>0?url_builder.add_param("scores",scores.join(",")):url_builder.remove_param("scores"),$(".js-link-photo-reviews").hasClass("selected")?url_builder.add_param("filter",20):url_builder.remove_param("filter"),$.getScript(url_builder.build())},ProductsReviewsState.prototype.on_focus=function($form){var $nonmember_review,$nonmember_review_tmpl,$review_options_fields,$review_policy,$review_policy_detail,$review_policy_tmpl,$textarea,$view_detail;if(!($textarea=$form.find("textarea.js-new-review-form")).data("triggered"))return $textarea.data("triggered",!0),($review_options_fields=$form.find(".review_form__option_fields")).length>0&&($review_options_fields.css({"marginTop":-($review_options_fields.height()+50),"opacity":0,"display":"block"}),Modernizr.cssanimations?setTimeout((function(){return $review_options_fields.addClass("anim"),$review_options_fields.css({"marginTop":0}),setTimeout((function(){return $review_options_fields.css({"opacity":1})}),200)}),0):setTimeout((function(){return $review_options_fields.animate({"marginTop":0},200,lib.animation.ease_out),setTimeout((function(){return $review_options_fields.animate({"opacity":1},200,lib.animation.ease_out)}),200)}),0)),($nonmember_review_tmpl=$("#nonmember-review-tmpl")).length>0&&(($nonmember_review=$($nonmember_review_tmpl.html())).find("#review_user_name").attr("autocomplete","off"),$nonmember_review.find("#review_password").attr("autocomplete","off"),$form.prepend($nonmember_review),Modernizr.cssanimations?setTimeout((function(){return $nonmember_review.css({"top":0}),$form.find(".review_form__message_field").css({"padding-top":77}),setTimeout((function(){return $nonmember_review.find(".review_form__nonmember_review_content").css({"opacity":1})}),300)}),0):setTimeout((function(){return $nonmember_review.animate({"top":0},300,lib.animation.ease_out),$form.find(".review_form__message_field").animate({"padding-top":77},300,lib.animation.ease_out),setTimeout((function(){return $nonmember_review.find(".review_form__nonmember_review_content").animate({"opacity":1},200)}),300)}),0),lib.animation.animate($form.addClass("show-nonmember-review")),$form.find("#review_user_name").focus(),$form.bind("ajax:before",(function(){var $input;return($input=$form.find("#review_user_name")).val()&&($input=$form.find("#review_password")).val()?void 0:(alert($input.data("presence-warning")),!1)}))),($review_policy_tmpl=$("#review-policy-tmpl")).length>0?($review_policy=$($review_policy_tmpl.html()),$form.prepend($review_policy),Modernizr.cssanimations?setTimeout((function(){return $review_policy.css({"top":0}),$form.find(".review_form__message_field").css({"padding-top":73}),setTimeout((function(){return $review_policy.find(".review_form__policy_content").css({"opacity":1})}),300)}),0):setTimeout((function(){return $review_policy.animate({"top":0},300,lib.animation.ease_out),$form.find(".review_form__message_field").animate({"padding-top":73},300,lib.animation.ease_out),setTimeout((function(){return $review_policy.find(".review_form__policy_content").animate({"opacity":1},200)}),300)}),0),$view_detail=$(".js-view-detail"),$("#review-policy-detail").remove(),$review_policy_detail=null,$view_detail.on("mouseenter",(function(){var popup_bottom;return $review_policy_detail||(popup_bottom=($review_policy_detail=$("<div id='review-policy-detail'></div>").html($("#review-policy-detail-tmpl").html()).appendTo("body")).height()+100)>$(window).height()&&app.window.set_height(popup_bottom),Modernizr.cssanimations?$review_policy_detail.addClass("hover"):$review_policy_detail.show().animate({"top":45},0,lib.animation.ease_out).animate({"opacity":1},0)})),$view_detail.on("mouseleave",(function(){return Modernizr.cssanimations?$review_policy_detail.removeClass("hover"):($review_policy_detail.animate({"top":30},0,lib.animation.ease_out).animate({"opacity":0},0),setTimeout((function(){return $review_policy_detail.hide()}),100))}))):void 0},ProductsReviewsState.prototype.bind_form=function($form){var $dialog,$textarea,confirm_review_message,not_creatable_reason,_this;if(app.review_media.set_form($form),($textarea=$form.find("textarea.js-new-review-form")).off("focus"),not_creatable_reason=$form.data("not-creatable-reason"),confirm_review_message=$form.data("confirm-review-message"),not_creatable_reason?$textarea.on("focus",(function(){if(!$textarea.data("login-required")||lib.data.get("is-logged-in"))return $(this).blur(),alert(not_creatable_reason)})):confirm_review_message?$textarea.on("focus",(_this=this,function(e){return _this.already_posted_check?_this.on_focus($form):confirm(confirm_review_message).done((function(result){return result?(_this.on_focus($form),_this.already_posted_check=!0):$(e.target).blur()}))})):$textarea.on("focus",function(_this){return function(){if(!$textarea.data("login-required")||lib.data.get("is-logged-in"))return _this.on_focus($form)}}(this)),($dialog=$form.closest(".js-review-dialog-form")).length>0)return $form.bind("ajax:success",(function(){return $dialog.remove()}))},ProductsReviewsState.prototype.bind_nonmember_review_hint=function(){var set_hint_visibility;if(!lib.browser.supports_media_query())return set_hint_visibility=function(){var $hint;return $hint=$(".review_form__nonmember_review_hint"),$(window).width()>940?$hint.show():$hint.hide()},$(window).resize((function(){return set_hint_visibility()})),set_hint_visibility()},ProductsReviewsState.prototype.bind_click_events=function($element){var $form;return ProductsReviewsState.__super__.bind_click_events.call(this,$element),($form=$element.find(".review_form").addBack(".review_form")).length&&app.products_reviews_state.bind_form($form),$element.find(".js-link-score").off("click").on("click",(function(e){return $(e.currentTarget).closest("li").toggleClass("selected"),app.products_reviews_state.refresh_filter()})),$element.find(".js-link-photo-reviews").off("click").on("click",(function(e){return $(e.currentTarget).toggleClass("selected"),app.products_reviews_state.refresh_filter()})),$element.find(".js-review-options-search-toggle").off("click").on("click",(function(){var $option_search_bar,$this;return($this=$(this)).hasClass("searching")?$this.removeClass("searching"):$this.addClass("searching"),($option_search_bar=$(".js-review-options-search")).hasClass("hidden")?($option_search_bar.removeClass("hidden"),lib.animation.height_up($option_search_bar)):lib.animation.height_down($option_search_bar,(function(){return $option_search_bar.addClass("hidden")}))}))},ProductsReviewsState.prototype.bind_write_button_click=function($elements){return $elements.find(".js-new-review-write-button").click((function(){var $this,args,popup_url,popup_url_builder,product_id,review_source,widget_id;if($this=$(this),!app.login.is_required($this))return popup_url=$this.data("url"),product_id=(popup_url_builder=new UrlBuilder(popup_url)).param("product_id"),review_source=popup_url_builder.param("review_source"),widget_id=popup_url_builder.param("widget_id"),args={"product_code":$this.data("product-code"),"product_id":product_id,"reload_target_id":lib.data.get("iframe-id"),"review_source":review_source||$this.data("review-source"),"source_iframe_id":lib.data.get("iframe-id"),"url":popup_url,"widget_id":widget_id},app.window.open_new_review_popup(args,(function(data){var $new_summary,$reviews_count,new_reviews_count_text,review,review_count_text;return review=data.review_html,$("ul.reviews").prepend(review),lib.history.updated(review),$new_summary=$(data.summary_html),$(".js-renewed-products-reviews-summary").empty().append($new_summary).removeClass("hidden"),lib.history.updated($new_summary),app.products_reviews_state.bind_write_button_click($new_summary),review_count_text=($reviews_count=$(".js-widget-header-basic-reviews-count")).text(),new_reviews_count_text=(parseInt(review_count_text.replace(/[^0-9]/g,""))+1).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),$reviews_count.text("("+new_reviews_count_text+")"),$(".widget_reviews").removeClass("widget_reviews--no_data"),$(".js-renewed-no-data-content").addClass("hidden")}));app.login.required()}))},ProductsReviewsState}(this.ProductsReviewsStateBase),app.products_reviews_state=new ProductsReviewsState}.call(this),function(){var ReviewsIndexState;ReviewsIndexState=function(){function ReviewsIndexState(){this.appended_callback=function(e,element){return app.reviews.handle_link_expand({"elements":$(element)},!lib.data.get("review-message-all-exposed"))}}return ReviewsIndexState.prototype.on_enter=function(old_state_name,args){if(app.reviews.handle_link_expand(args,!lib.data.get("review-message-all-exposed")),app.reviews.handle_show_full_reviews(args.elements.find(".js-link-show-full-review")),$(document).on("infinite_scroll:appended",this.appended_callback),app.review_sort.init(),lib.data.get("widget-renewed"))return app.filter_list.init(args.elements),app.search_component.init(args.elements)},ReviewsIndexState.prototype.on_exit=function(){return $(document).off("infinite_scroll:appended",this.appended_callback)},ReviewsIndexState}(),app.reviews_index_state=new ReviewsIndexState}.call(this),function(){var ReviewsNewState,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;ReviewsNewState=function(superClass){function ReviewsNewState(){return ReviewsNewState.__super__.constructor.apply(this,arguments)}return extend(ReviewsNewState,superClass),ReviewsNewState.prototype.on_enter=function(old_state_name,args){return this.check_review_writable_and_show_popup(args)},ReviewsNewState.prototype.show_review_popup=function(args){return this.show_popup(),this.is_using_renewed_popup()?this.bind_form(args.elements):(this.bind_form_cancel_review_button(args.elements),this.bind_scroll(args.elements.find("#lista")),this.set_input_form(args))},ReviewsNewState.prototype.bind_form=function($elements){return ReviewsNewState.__super__.bind_form.call(this,$elements),this.bind_form_close_popup_today_button($elements)},ReviewsNewState.prototype.check_review_writable_and_show_popup=function(args){var $no_pending_reviews,alert_message,confirm_review_message,not_creatable_reason,_this;if(!($("#require-login").length>0))return($no_pending_reviews=$(".js-no-pending-reviews")).length>0?((alert_message=$no_pending_reviews.data("alert"))&&alert(alert_message),void app.window.close_popup_once("system","no_pending_reviews")):(not_creatable_reason=$("form").data("not-creatable-reason"),confirm_review_message=$("form").data("confirm-review-message"),not_creatable_reason?(alert(not_creatable_reason),app.window.close_popup_once("user","not_creatable_reason")):confirm_review_message?confirm(confirm_review_message).done((_this=this,function(result){return result?_this.show_review_popup(args):app.window.close_popup_once("user","confirm_review_message")})):this.show_review_popup(args));app.login.required()},ReviewsNewState.prototype.show_popup=function(){var $fullscreen_popup,_this;return this.is_fullscreen_popup()&&!this.is_using_renewed_popup()?($fullscreen_popup=$(".fullscreen_popup"),new NewReviewPopupContent($fullscreen_popup).recalc_layout(),app.window.post("onload")):$(document).ready((_this=this,function(){var $review_container,popup_args,popup_height;return popup_args={"direction":lib.data.get("review-popup-direction"),"offset_x":lib.data.get("review-popup-offset-x"),"offset_y":lib.data.get("review-popup-offset-y")},_this.is_using_renewed_popup()?(popup_args.width=lib.data.get("review-popup-width"),popup_args.height=615,_this.is_using_inducing_popup_for_pc()||(popup_args.height+=35)):($review_container=$("#review-container"),(popup_height=lib.data.get("popup-height"))?(popup_args.width=$review_container.innerWidth(),lib.browser.is_ie&&(popup_args.width+=20),popup_args.height=popup_height):(popup_args.width=$review_container.innerWidth(),popup_args.height=$review_container.innerHeight())),app.window.post("init_popup",popup_args)}))},ReviewsNewState.prototype.is_fullscreen_popup=function(){return lib.data.get("review-popup-fullscreen")},ReviewsNewState.prototype.is_using_inducing_popup_for_pc=function(){return lib.data.get("use-inducing-popup-for-pc")},ReviewsNewState.prototype.bind_scroll=function($list){return $list.als({"visible_items":$list.data("visible-items")||3,"scrolling_items":$list.data("scrolling-items")||3,"orientation":"vertical","circular":"no","autoscroll":"no"})},ReviewsNewState.prototype.set_input_form=function(args){var $form,$review_option_fields;if($form=args.elements.find("form#new_review"),app.review_media.set_form($form),($review_option_fields=$form.find(".new_reviews__option_fields")).length>0)return $form.find("textarea").one("focus",(function(){return $review_option_fields.css({"marginTop":-($review_option_fields.height()+15),"opacity":0,"display":"block"}),Modernizr.cssanimations?setTimeout((function(){return $review_option_fields.addClass("anim"),$review_option_fields.css({"marginTop":0}),setTimeout((function(){return $review_option_fields.css({"opacity":1})}),200)}),0):setTimeout((function(){return $review_option_fields.animate({"marginTop":0},200,lib.animation.ease_out),setTimeout((function(){return $review_option_fields.animate({"opacity":1},200,lib.animation.ease_out)}),200)}),0),lib.animation.animate($form.addClass("show-nonmember-review"))}))},ReviewsNewState.prototype.bind_form_close_popup_today_button=function($elements){return $elements.find(".js-review-popup-form-close-popup-today").click((_this=this,function(){var $popup_form;return $popup_form=$("#review-popup-form"),_this.fade_out_popup((function(){return $popup_form.css({"opacity":0}),app.window.close_popup_today()}))}));var _this},ReviewsNewState.prototype.bind_form_close_button=function($elements){return ReviewsNewState.__super__.bind_form_close_button.call(this,$elements),$elements.find(".js-review-popup-form-close-button").click((_this=this,function(){return _this.close_popup()}));var _this},ReviewsNewState}(this.ReviewsNewStateBase),app.reviews_new_state=new ReviewsNewState,
app.reviews_edit_state=new ReviewsNewState}.call(this),function(){var ReviewsPhotosState;ReviewsPhotosState=function(){function ReviewsPhotosState(){}return ReviewsPhotosState.prototype.on_enter=function(old_state_name,args){return app.reviews.handle_link_expand(args,!0),app.reviews.handle_show_full_reviews(args.elements.find(".js-link-show-full-review"))},ReviewsPhotosState}(),app.reviews_photos_state=new ReviewsPhotosState}.call(this),function(){var ReviewsPopupState,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;ReviewsPopupState=function(superClass){function ReviewsPopupState(){return ReviewsPopupState.__super__.constructor.apply(this,arguments)}return extend(ReviewsPopupState,superClass),ReviewsPopupState.prototype.bind_write_button_click=function(elements){return elements.find(".js-reviews-popup-renewal-write-button").click((_this=this,function(){return _this.fade_out_popup(),app.window.post("open_popup_form")}));var _this},ReviewsPopupState}(this.ReviewsPopupStateBase),app.reviews_popup_state=new ReviewsPopupState}.call(this),function(){var ReviewsShow,ReviewsShowMediaReview,ReviewsShowSocialMediaReview,ReviewsShowState,ReviewsShowTextReview,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty,bind=function(fn,me){return function(){return fn.apply(me,arguments)}};ReviewsShow=function(){function ReviewsShow(args){this.load_variables(args),this.bind_events(args)}return ReviewsShow.prototype.load_variables=function(args){return this.$fullscreen_popup=args.elements.find(".fullscreen_popup"),this.load_variables_local(args)},ReviewsShow.prototype.load_variables_local=function(){},ReviewsShow.prototype.bind_events=function(args){return this.fullscreen_popup_content=new FullscreenPopupContent(this.$fullscreen_popup),this.bind_events_local(args)},ReviewsShow.prototype.bind_events_local=function(){},ReviewsShow.prototype.on_keydown=function(keyCode){if(27===keyCode)return this.fullscreen_popup_content.close()},ReviewsShow.prototype.bind_keydown=function(args){var _this;return lib.browser.is_ie&&lib.browser.is_in_iframe()?$(document).on("iframe:keydown",(_this=this,function(e,keyCode){return _this.on_keydown(keyCode)})):args.elements.keydown(function(_this){return function(e){return _this.on_keydown(e.keyCode)}}(this)),args.elements.find(".fullscreen_popup").attr("tabindex",-1).focus()},ReviewsShow.prototype.watermark_height_with_margins=function(){var $watermark;return($watermark=$(".crema_review_watermark")).outerHeight()+2*parseInt($watermark.css("bottom"))},ReviewsShow}(),ReviewsShowTextReview=function(superClass){function ReviewsShowTextReview(args){ReviewsShowTextReview.__super__.constructor.apply(this,arguments),this.content_container_resize()}return extend(ReviewsShowTextReview,superClass),ReviewsShowTextReview.prototype.content_container_resize=function(){var $message_container,$popup_content,shown_content_height;return $popup_content=$(".fullscreen_popup__content"),shown_content_height=$(window).height()-$popup_content.offset().top-this.watermark_height_with_margins(),($message_container=$("#message-container")).css({"maxHeight":$message_container.height()-($popup_content.outerHeight()-shown_content_height)})},ReviewsShowTextReview}(ReviewsShow),ReviewsShowMediaReview=function(superClass){function ReviewsShowMediaReview(args){this.set_indicator=bind(this.set_indicator,this),this.replace_medium=bind(this.replace_medium,this),this.resize_zoom_image=bind(this.resize_zoom_image,this),this.image_zoom=bind(this.image_zoom,this),ReviewsShowMediaReview.__super__.constructor.apply(this,arguments),this.container_resize(),this.set_fade_elements(args)}return extend(ReviewsShowMediaReview,superClass),ReviewsShowMediaReview.prototype.load_variables_local=function(args){return this.$frame=$(window),this.default_margin=70,this.min_height=500,this.min_width=140,this.min_container_width=this.min_width+160,this.review_text_width=args.elements.find("#review-contents-container").width(),this.indicator_elements=args.elements.find(".js-indicator-dot"),this.zoom_padding=this.default_margin-20,this.comment_input=args.elements.find(".js-input-block"),this.onfocus_comment=!1,this.zoom_image=!1,this.$videos=args.elements.find(".show_photo_review__photo_container").find("video")},ReviewsShowMediaReview.prototype.set_fade_elements=function(args){return lib.browser.is_ie?(this.$fade_elements=args.elements.find(".js-ie-opacity-fix"),this.$fade_elements.animate({"opacity":1},260,lib.animation.ease_out)):this.$fade_elements=args.elements.find("#photo-popup-container, .fullscreen_popup__close, .crema_review_watermark")},ReviewsShowMediaReview.prototype.bind_events_local=function(args){var _this;return args.elements.find("#image-prev").click((_this=this,function(){return _this.replace_medium("prev")})),args.elements.find("#image-next").click(function(_this){return function(){return _this.replace_medium("next")}}(this)),args.elements.find(".js-photo-container-review-image-zoom").click(function(_this){return function(e){return _this.image_zoom($(e.target))}}(this)),window.onresize=function(_this){return function(){if($("#zoom-image").length)return _this.resize_zoom_image()}}(this),this.comment_input.focusin(function(_this){return function(){return _this.onfocus_comment=!0}}(this)),this.comment_input.focusout(function(_this){return function(){return _this.onfocus_comment=!1}}(this)),this.bind_keydown(args)},ReviewsShowMediaReview.prototype.on_keydown=function(keyCode){if(!1===this.onfocus_comment&&!1===this.zoom_image)return 37===keyCode||38===keyCode?this.replace_medium("prev"):39===keyCode||40===keyCode?this.replace_medium("next"):ReviewsShowMediaReview.__super__.on_keydown.apply(this,arguments)},ReviewsShowMediaReview.prototype.container_resize=function(){var $container,$info_container,$message_container,final_height,final_margin_top,final_outer_height,final_outer_width,final_padding_h,final_padding_v,final_width,frame_height,frame_width,info_container_height,max_height,max_width,medium_height,medium_ratio,medium_width,photo_container_max_height,_this;return frame_height=this.$frame.height(),frame_width=this.$frame.width(),medium_width=($container=$(".show_photo_review__photo_container.selected")).data("width"),medium_ratio=(medium_height=$container.data("height"))/medium_width,$container.find("img").css({"maxWidth":medium_width}),max_width=frame_width-this.review_text_width-2*this.default_margin,final_width=(max_height=frame_height-2*this.default_margin)/medium_ratio,final_height=max_height,max_width>medium_width&&max_height>medium_height?(final_width=medium_width,final_height=medium_height):(max_height>medium_height||final_width>max_width)&&(final_width=max_width,final_height=max_width*medium_ratio),final_width<this.min_width&&(final_width=this.min_width),final_padding_h=final_height<this.min_height?.5*(this.min_height-final_height):0,final_outer_width=final_width+2*(final_padding_v=final_width<this.min_container_width?.5*(this.min_container_width-final_width):0),final_outer_height=final_height+2*final_padding_h,$container.css({"paddingTop":final_padding_h,"paddingBottom":final_padding_h,"paddingLeft":final_padding_v,"paddingRight":final_padding_v}),final_margin_top=.5*(frame_height-final_outer_height),$("#photo-popup-content").css({"width":final_outer_width,"marginTop":final_margin_top}),$message_container=$("#message-container"),info_container_height=($info_container=$("#info-container")).height(),$message_container.height(final_outer_height-info_container_height-1),photo_container_max_height=frame_height-final_margin_top-this.watermark_height_with_margins(),$(".show_photo_review__photo_container").each((function(){var $photo,$photo_container;if($photo=($photo_container=$(this)).children(".show_photo_review__photo_container_image"),$photo_container.css({"maxHeight":photo_container_max_height}),$photo.height()<=photo_container_max_height)return $photo_container.css("overflow","hidden")})),this.fullscreen_popup_content&&this.fullscreen_popup_content.on_resize(),$info_container.resize((_this=this,function(){return _this.container_resize()}))},ReviewsShowMediaReview.prototype.image_zoom=function($image){var $full_image_message,$photo_review_popup,_this;return this.orignal_width=$image.data("width"),this.orignal_height=$image.data("height"),this.orignal_width>$image.width()?($("#zoom-image").remove(),$photo_review_popup=$("<div id='zoom-image' class='show_photo_review__zoom_image'><div id='zoom-image-container' class='show_photo_review__zoom_image_container'></div></div>").appendTo(this.$fullscreen_popup),$("#zoom-image-container").append($image.clone()),this.zoom_image=!0,this.resize_zoom_image(),this.$fade_elements.animate({"opacity":0},250,lib.animation.ease_out),$photo_review_popup.animate({"opacity":0},1).animate({"opacity":1},250,lib.animation.ease_in),$photo_review_popup.click((_this=this,function(){return _this.container_resize(),_this.$fade_elements.animate({"opacity":1},350,lib.animation.ease_out),$photo_review_popup.animate({"opacity":0},350,lib.animation.ease_in),setTimeout((function(){return _this.zoom_image=!1,$photo_review_popup.remove()}),350)}))):($("#full-image-message").remove(),$full_image_message=$("<div id='full-image-message' class='show_photo_review__full_image_message'>"+lib.i18n.t("review_already_largest_image")+"</div>").appendTo($image.parent()).animate({"opacity":.8},350,lib.animation.ease_out),setTimeout((function(){return $full_image_message.animate({"opacity":0},900,lib.animation.ease_in),setTimeout((function(){return $full_image_message.remove()}),900)}),450))},ReviewsShowMediaReview.prototype.resize_zoom_image=function(){var $zoom_container,final_height,final_width,frame_height,frame_width,max_width,padding;return $zoom_container=$("#zoom-image-container"),padding=this.zoom_padding,frame_width=this.$frame.width(),frame_height=this.$frame.height(),max_width=frame_width-2*this.zoom_padding,this.orignal_width>max_width?(final_width=max_width,final_height=this.orignal_height*max_width/this.orignal_width):(final_width=this.orignal_width,final_height=this.orignal_height),frame_height>final_height&&(padding=.5*(frame_height-final_height)),$zoom_container.css({"padding":this.zoom_padding,"paddingTop":padding,"paddingBottom":padding,"width":final_width,"height":final_height})},ReviewsShowMediaReview.prototype.replace_medium=function(direction){var $old_container,count,new_index,old_index;if(old_index=($old_container=$(".show_photo_review__photo_container.selected")).data("index"),count=$old_container.data("count"),"prev"===direction?new_index=1===old_index?count:old_index-1:"next"===direction&&(new_index=old_index%count+1),$old_container.removeClass("selected"),$("#photo-container-"+new_index).addClass("selected"),this.set_indicator(old_index,new_index),this.container_resize(),this.$videos[old_index-1]&&this.$videos[old_index-1].pause(),this.$videos[new_index-1])return this.$videos[new_index-1].play()},ReviewsShowMediaReview.prototype.set_indicator=function(old_index,new_index){return this.indicator_elements.siblings(".js-index-"+old_index).removeClass("selected"),this.indicator_elements.siblings(".js-index-"+new_index).addClass("selected")},ReviewsShowMediaReview}(ReviewsShow),ReviewsShowSocialMediaReview=function(superClass){function ReviewsShowSocialMediaReview(){return ReviewsShowSocialMediaReview.__super__.constructor.apply(this,arguments)}return extend(ReviewsShowSocialMediaReview,superClass),ReviewsShowSocialMediaReview.prototype.bind_events_local=function(args){return this.bind_keydown(args)},ReviewsShowSocialMediaReview.prototype.on_keydown=function(keyCode){return 37===keyCode||38===keyCode?this.open_prev_next(!1):39===keyCode||40===keyCode?this.open_prev_next(!0):ReviewsShowSocialMediaReview.__super__.on_keydown.apply(this,arguments)},ReviewsShowSocialMediaReview.prototype.open_prev_next=function(is_next){return $("#"+("post-"+(is_next?"next":"prev"))).find("a").click()},ReviewsShowSocialMediaReview}(ReviewsShow),ReviewsShowState=function(){function ReviewsShowState(){}return ReviewsShowState.prototype.on_enter=function(old_state_name,args){var $renewed_media_popup;return this.turn_off_opacity_animation(args),($renewed_media_popup=args.elements.find(".js-renewed-media-popup")).length?(app.media_popup.init(args.elements),args.request.xhr?$renewed_media_popup.css({"opacity":1}):$renewed_media_popup.animate({"opacity":1},260,lib.animation.ease_out)):args.elements.find(".show_text_review").length?new ReviewsShowTextReview(args):args.elements.find(".show_social_media_review").length?new ReviewsShowSocialMediaReview(args):new ReviewsShowMediaReview(args),new app.ReviewPopupNavigation(args.elements)},ReviewsShowState.prototype.turn_off_opacity_animation=function(args){if(lib.data.get("prev-next"))return args.elements.find(".fullscreen_popup").addClass("fullscreen_popup--loaded")},ReviewsShowState}(),app.reviews_show_state=app.reviews_photo_review_popup_state=new ReviewsShowState}.call(this),function(){var UsersReviewsState;UsersReviewsState=function(){function UsersReviewsState(){}return UsersReviewsState.prototype.on_enter=function(old_state_name,args){return app.reviews.handle_link_expand(args,!0)},UsersReviewsState}(),app.users_reviews_state=new UsersReviewsState}.call(this),function(){$(document).on("mouseenter",".hoverable",(function(){return $(this).addClass("hover")})),$(document).on("mouseleave",".hoverable",(function(){return $(this).removeClass("hover")}))}.call(this),function(){var Tinyscrollbar;Tinyscrollbar=function(){function Tinyscrollbar(){}return Tinyscrollbar.prototype.call=function($scrollbar,options){return null==options&&(options={}),$scrollbar.data("plugin_tinyscrollbar")?options.scroll?$scrollbar.data("plugin_tinyscrollbar").update(options.scroll):$scrollbar.data("plugin_tinyscrollbar").update():$scrollbar.tinyscrollbar(options)},Tinyscrollbar}(),app.tinyscrollbar=new Tinyscrollbar}.call(this),function(){new(function(){function TokenizedInput(){var _this;$(document).on("history:updated",(_this=this,function(e,element){return $(element).find(".tokenized_input").each((function(i,e){return _this.init($(e))}))}))}return TokenizedInput.prototype.init=function($input){var $clear_button,$select2;return $select2=$input.select2({"tags":[],"tokenSeparators":[","," "],"formatNoMatches":function(){return""},"adaptDropdownCssClass":function(c){return c},"maximumInputLength":30}),$clear_button=$("<a class='tokenized_input__clear_button'><i class='sprites-tokenized-input-clear'></i></a>"),$select2.data("select2").container.append($clear_button),$clear_button.click((function(){return $select2.select2("val",""),$select2.trigger("change")}))},TokenizedInput}())}.call(this),function(){$((function(){return $(document).on("focus",".js-top-menu-query",(function(){return $(this).closest(".top_menu").addClass("top_menu--query_focused")})),$(document).on("blur",".js-top-menu-query",(function(){return $(this).closest(".top_menu").removeClass("top_menu--query_focused")})),$(document).on(lib.ui_util.textchange_events,".js-top-menu-query",(function(){return $(this).val()<1?$(this).closest(".top_menu").removeClass("top_menu--contains_keyword"):$(this).closest(".top_menu").addClass("top_menu--contains_keyword")})),$(document).on("click",".js-top-menu-submit",(function(){return $(this).closest(".top_menu__search_container").find(".js-menu-search").submit()})),$(document).on("focus",".js-top-menu-query",(function(){var $query;return($query=$(this)).data("query",$query.val()),$(this).closest(".js-menu-search").on("submit",(function(){return $query.attr("data-query",$query.val())}))})),$(document).on("blur",".js-top-menu-query",(function(){var $query,value;if((value=($query=$(this)).val())!==$query.data("query"))return $query.data("query",value),$(this).closest(".js-menu-search").submit()}))}))}.call(this),function(){var Widget;Widget=function(){function Widget(){}return Widget.prototype.is_new_tab=function(){return lib.data.get("new-tab")},Widget}(),app.widget=new Widget}.call(this),function(){}.call(this);